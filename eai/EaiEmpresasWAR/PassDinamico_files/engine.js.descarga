//>>built
!function(e,t){var n=function(){},r=function(e){for(var t in e)return 0;return 1},i={}.toString,a=function(e){return"[object Function]"==i.call(e)},o=function(e){return"[object String]"==i.call(e)},s=function(e){return"[object Array]"==i.call(e)},u=function(e,t){if(e)for(var n=0;n<e.length;)t(e[n++])},c=function(e,t){for(var n in t)e[n]=t[n];return e},l=function(e,t){return c(new Error(e),{src:"mojoLoader",info:t})},d=1,f=function(){return"_"+d++},h=function(e,t,n){return mt(e,t,n,0,h)},p=this,g=p.document,m=g&&g.createElement("DiV"),v=h.has=function(e){return a(_[e])?_[e]=_[e](p,g,m):_[e]},_=v.cache=t.hasCache;v.add=function(e,t,n,r){return(void 0===_[e]||r)&&(_[e]=t),n&&v(e)};var b;v.add("host-webworker","undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope),v("host-webworker")&&(c(t.hasCache,{"host-browser":0,dom:0,"mojo-dom-ready-api":0,"mojo-sniff":0,"mojo-inject-api":1,"host-webworker":1}),t.loaderPatch={injectUrl:function(e,t){try{importScripts(e),t()}catch(n){console.error(n)}}});for(var y in e.has)v.add(y,e.has[y],0,1);var C=1,E=2,w=3,T=4,x=5;C="requested",E="arrived",w="not-a-module",T="executing",x="executed";var I,S=0,O="sync",N="xd",j=[],A=0,M=n,q=n;h.isXdUrl=n,h.initSyncLoader=function(e,t,n){return A||(A=e,M=t,q=n),{sync:O,requested:C,arrived:E,nonmodule:w,executing:T,executed:x,syncExecStack:j,modules:et,execQ:_t,getModule:At,injectModule:nn,setArrived:Et,signal:W,finishExec:zt,execModule:Wt,mojoRequirePlugin:A,getLegacyMode:function(){return S},guardCheckComplete:Yt}};var R=location.protocol,P=location.host;if(h.isXdUrl=function(e){if(/^\./.test(e))return!1;if(/^\/\//.test(e))return!0;var t=e.match(/^([^\/\:]+\:)\/+([^\/]+)/);return t&&(t[1]!=R||P&&t[2]!=P)},v.add("mojo-force-activex-xhr",1&&!g.addEventListener&&"file:"==window.location.protocol),v.add("native-xhr","undefined"!=typeof XMLHttpRequest),v("native-xhr")&&!v("mojo-force-activex-xhr"))I=function(){return new XMLHttpRequest};else{for(var L,D=["Msxml2.XMLHTTP","Microsoft.XMLHTTP","Msxml2.XMLHTTP.4.0"],b=0;3>b;)try{if(L=D[b++],new ActiveXObject(L))break}catch(U){}I=function(){return new ActiveXObject(L)}}h.getXhr=I,v.add("mojo-gettext-api",1),h.getText=function(e,t,n){var r=I();if(r.open("GET",Jt(e),!1),r.send(null),200!=r.status&&(location.host||r.status))throw l("xhrFailed",r.status);return n&&n(r.responseText,t),r.responseText};var k=new Function("return eval(arguments[0]);");h.eval=function(e,t){return k(e+"\r\n////@ sourceURL="+t)};for(var V,F,B,X,z={},G="error",W=h.signal=function(e,t){var n=z[e];u(n&&n.slice(0),function(e){e.apply(null,s(t)?t:[t])})},H=h.on=function(e,t){var n=z[e]||(z[e]=[]);return n.push(t),{remove:function(){for(var e=0;e<n.length;e++)if(n[e]===t)return void n.splice(e,1)}}},Y=[],Q={},J=[],K={},Z=h.map={},$=[],et={},tt="",nt={},rt="url:",it={},at={},ot=0,st=function(e){var t,n,r,i,a;for(t in it)n=it[t],r=t.match(/^url\:(.+)/),r?nt[rt+qt(r[1],e)]=n:"*now"==t?i=n:"*noref"!=t&&(a=Ot(t,e,!0),nt[a.mid]=nt[rt+a.url]=n);i&&i(vt(e)),it={}},ut=function(e){return e.replace(/([\.$?*|{}\(\)\[\]\\\/\+^])/g,function(e){return"\\"+e})},ct=function(e,t){t.splice(0,t.length);for(var n in e)t.push([n,e[n],new RegExp("^"+ut(n)+"(/|$)"),n.length]);return t.sort(function(e,t){return t[3]-e[3]}),t},lt=function(e,t){u(e,function(e){t.push([o(e[0])?new RegExp("^"+ut(e[0])+"$"):e[0],e[1]])})},dt=function(e){var t=e.name;t||(t=e,e={name:t}),e=c({main:"main"},e),e.location=e.location?e.location:t,e.packageMap&&(Z[t]=e.packageMap),e.main.indexOf("./")||(e.main=e.main.substring(2)),K[t]=e},ft=[],ht=function(e,t,n){for(var r in e){if("waitSeconds"==r&&(h.waitms=1e3*(e[r]||0)),"cacheBust"==r&&(tt=e[r]?o(e[r])?e[r]:(new Date).getTime()+"":""),("baseUrl"==r||"combo"==r)&&(h[r]=e[r]),"async"==r){var i=e[r];h.legacyMode=S=o(i)&&/sync|legacyAsync/.test(i)?i:i?!1:O,h.async=!S}e[r]!==_&&(h.rawConfig[r]=e[r],"has"!=r&&v.add("config-"+r,e[r],0,t))}h.baseUrl||(h.baseUrl="./"),/\/$/.test(h.baseUrl)||(h.baseUrl+="/");for(r in e.has)v.add(r,e.has[r],0,t);u(e.packages,dt);for(var a in e.packagePaths)u(e.packagePaths[a],function(e){var t=a+"/"+e;o(e)&&(e={name:e}),e.location=t,dt(e)});if(ct(c(Z,e.map),$),u($,function(e){e[1]=ct(e[1],[]),"*"==e[0]&&($.star=e)}),ct(c(Q,e.paths),J),lt(e.aliases,Y),t)ft.push({config:e.config});else for(r in e.config){var s=At(r,n);s.config=c(s.config||{},e.config[r])}e.cache&&(st(),it=e.cache,e.cache["*noref"]&&st()),W("config",[e,h.rawConfig])},pt=g.getElementsByTagName("script"),b=0;b<pt.length;)V=pt[b++],(B=V.getAttribute("src"))&&(X=B.match(/(((.*)\/)|^)mojo\.js(\W|$)/i))&&(F=X[3]||"",t.baseUrl=t.baseUrl||F,ot=V),(B=V.getAttribute("data-mojo-config")||V.getAttribute("djConfig"))&&(at=h.eval("({ "+B+" })","data-mojo-config"),ot=V);h.rawConfig={},ht(t,1),v("mojo-cdn")&&(K.mojo.location=F,F&&(F+="/"),K.mijit.location=F+"../mijit/",K.mojox.location=F+"../mojox/"),ht(e,1),ht(at,1);var gt=function(e){Yt(function(){u(e.deps,nn)})},mt=function(e,t,r,i,a){var u,d;if(o(e)){if(u=At(e,i,!0),u&&u.executed)return u.result;throw l("undefinedModule",e)}if(s(e)||(ht(e,0,i),e=t,t=r),s(e))if(e.length){d="require*"+f();for(var p,g=[],m=0;m<e.length;)p=e[m++],g.push(At(p,i));u=c(It("",d,0,""),{injected:E,deps:g,def:t||n,require:i?i.require:h,gc:1}),et[u.mid]=u,gt(u);var v=Ht&&S!=O;Yt(function(){Wt(u,v)}),u.executed||_t.push(u),Qt()}else t&&t();return a},vt=function(e){if(!e)return h;var t=e.require;return t||(t=function(n,r,i){return mt(n,r,i,e,t)},e.require=c(t,h),t.module=e,t.toUrl=function(t){return qt(t,e)},t.toAbsMid=function(t){return Mt(t,e)},t.syncLoadNls=function(t){var n=Ot(t,e),r=et[n.mid];return r&&r.executed||(Zt=nt[n.mid]||nt[rt+n.url],Zt&&(tn(Zt),r=et[n.mid])),r&&r.executed&&r.result}),t},_t=[],bt=[],yt={},Ct=function(e){e.injected=C,yt[e.mid]=1,e.url&&(yt[e.url]=e.pack||1),un()},Et=function(e){e.injected=E,delete yt[e.mid],e.url&&delete yt[e.url],r(yt)&&(sn(),1&&S==N&&(S=O))},wt=h.idle=function(){return!bt.length&&r(yt)&&!_t.length&&!Ht},Tt=function(e,t){if(t)for(var n=0;n<t.length;n++)if(t[n][2].test(e))return t[n];return 0},xt=function(e){var t,n,r=[];for(e=e.replace(/\\/g,"/").split("/");e.length;)t=e.shift(),".."==t&&r.length&&".."!=n?(r.pop(),n=r[r.length-1]):"."!=t&&r.push(n=t);return r.join("/")},It=function(e,t,n,r){var i=h.isXdUrl(r);return{pid:e,mid:t,pack:n,url:r,executed:0,def:0,isXd:i,isAmd:!!(i||K[e]&&K[e].isAmd)}},St=function(e,t,n,r,i,o,s,c,d){var f,h,p,g,m,_,b,y;if(y=e,b=/^\./.test(e),/(^\/)|(\:)|(\.js$)/.test(e)||b&&!t)return It(0,e,0,e);if(e=xt(b?t.mid+"/../"+e:e),/^\./.test(e))throw l("irrationalPath",e);t&&(g=Tt(t.mid,o)),g=g||o.star,g=g&&Tt(e,g[1]),g&&(e=g[1]+e.substring(g[3])),X=e.match(/^([^\/]+)(\/(.+))?$/),f=X?X[1]:"",(h=n[f])?e=f+"/"+(p=X[3]||h.main):f="";var C=0,E=0;return u(c,function(t){var n=e.match(t[0]);n&&n.length>C&&(E=a(t[1])?e.replace(t[0],t[1]):t[1])}),E?St(E,0,n,r,i,o,s,c,d):(_=r[e])?d?It(_.pid,_.mid,_.pack,_.url):r[e]:(g=Tt(e,s),m=g?g[1]+e.substring(g[3]):f?h.location+"/"+p:v("config-tlmSiblingOfDojo")?"../"+e:e,/(^\/)|(\:)/.test(m)||(m=i+m),m+=".js",It(f,e,h,xt(m)))},Ot=function(e,t,n){return St(e,t,K,et,h.baseUrl,n?[]:$,n?[]:J,n?[]:Y)},Nt=function(e,t,n){return e.normalize?e.normalize(t,function(e){return Mt(e,n)}):Mt(t,n)},jt=0,At=function(e,t,n){var r,i,a,o;return r=e.match(/^(.+?)\!(.*)$/),r?(i=At(r[1],t,n),S!=O||i.executed||(nn(i),i.injected!==E||i.executed||Yt(function(){Wt(i)}),i.executed?Bt(i):_t.unshift(i)),i.executed!==x||i.load||Bt(i),i.load?(a=Nt(i,r[2],t),e=i.mid+"!"+(i.dynamic?++jt+"!":"")+a):(a=r[2],e=i.mid+"!"+ ++jt+"!waitingForPlugin"),o={plugin:i,mid:e,req:vt(t),prid:a}):o=Ot(e,t),et[o.mid]||!n&&(et[o.mid]=o)},Mt=h.toAbsMid=function(e,t){return Ot(e,t).mid},qt=h.toUrl=function(e,t){var n=Ot(e+"/x",t),r=n.url;return Jt(0===n.pid?e:r.substring(0,r.length-5))},Rt={injected:E,executed:x,def:w,result:w},Pt=function(e){return et[e]=c({mid:e},Rt)},Lt=Pt("require"),Dt=Pt("exports"),Ut=Pt("module"),kt=function(e,t){h.trace("loader-run-factory",[e.mid]);var n,r=e.def;if(1&&j.unshift(e),v("config-mojo-loader-catches"))try{n=a(r)?r.apply(null,t):r}catch(i){W(G,e.result=l("factoryThrew",[e,i]))}else n=a(r)?r.apply(null,t):r;e.result=void 0===n&&e.cjs?e.cjs.exports:n,1&&j.shift(e)},Vt={},Ft=0,Bt=function(e){var t=e.result;return e.dynamic=t.dynamic,e.normalize=t.normalize,e.load=t.load,e},Xt=function(e){var t={};u(e.loadQ,function(n){var r=Nt(e,n.prid,n.req.module),i=e.dynamic?n.mid.replace(/waitingForPlugin$/,r):e.mid+"!"+r,a=c(c({},n),{mid:i,prid:r,injected:0});et[i]||Kt(et[i]=a),t[n.mid]=et[i],Et(n),delete et[n.mid]}),e.loadQ=0;var n=function(e){for(var n,r=e.deps||[],i=0;i<r.length;i++)n=t[r[i].mid],n&&(r[i]=n)};for(var r in et)n(et[r]);u(_t,n)},zt=function(e){for(h.trace("loader-finish-exec",[e.mid]),e.executed=x,e.defOrder=Ft++,1&&u(e.provides,function(e){e()}),e.loadQ&&(Bt(e),Xt(e)),b=0;b<_t.length;)_t[b]===e?_t.splice(b,1):b++;/^require\*/.test(e.mid)&&delete et[e.mid]},Gt=[],Wt=function(e,t){if(e.executed===T)return h.trace("loader-circular-dependency",[Gt.concat(e.mid).join("->")]),!e.def||t?Vt:e.cjs&&e.cjs.exports;if(!e.executed){if(!e.def)return Vt;var n,r,i=e.mid,a=e.deps||[],o=[],s=0;for(Gt.push(i),h.trace("loader-exec-module",["exec",Gt.length,i]),e.executed=T;n=a[s++];){if(r=n===Lt?vt(e):n===Dt?e.cjs.exports:n===Ut?e.cjs:Wt(n,t),r===Vt)return e.executed=0,h.trace("loader-exec-module",["abort",i]),1&&Gt.pop(),Vt;o.push(r)}kt(e,o),zt(e),1&&Gt.pop()}return e.result},Ht=0,Yt=function(e){try{Ht++,e()}finally{Ht--}wt()&&W("idle",[])},Qt=function(){Ht||Yt(function(){M();for(var e,t,n=0;n<_t.length;)e=Ft,t=_t[n],Wt(t),e!=Ft?(M(),n=0):n++})};void 0===v("mojo-loader-eval-hint-url")&&v.add("mojo-loader-eval-hint-url",1);var Jt="function"==typeof e.fixupUrl?e.fixupUrl:function(e){return e+="",e+(tt?(/\?/.test(e)?"&":"?")+tt:"")},Kt=function(e){var t=e.plugin;t.executed!==x||t.load||Bt(t);var n=function(t){e.result=t,Et(e),zt(e),Qt()};t.load?t.load(e.prid,e.req,n):t.loadQ?t.loadQ.push(e):(t.loadQ=[e],_t.unshift(t),nn(t))},Zt=0,$t=0,en=0,tn=function(e,t){if(v("config-stripStrict")&&(e=e.replace(/"use strict"/g,"")),en=1,v("config-mojo-loader-catches"))try{e===Zt?Zt.call(null):h.eval(e,v("mojo-loader-eval-hint-url")?t.url:t.mid)}catch(n){W(G,l("evalModuleThrew",t))}else e===Zt?Zt.call(null):h.eval(e,v("mojo-loader-eval-hint-url")?t.url:t.mid);en=0},nn=function(e){var t=e.mid,n=e.url;if(!(e.executed||e.injected||yt[t]||e.url&&(e.pack&&yt[e.url]===e.pack||1==yt[e.url]))){Ct(e);if(e.plugin)return void Kt(e);var r=function(){if(an(e),e.injected!==E){if(v("mojo-enforceDefine"))return void W(G,l("noDefine",e));Et(e),c(e,Rt),h.trace("loader-define-nonmodule",[e.url])}S?!j.length&&Qt():Qt()};if(Zt=nt[t]||nt[rt+e.url])return h.trace("loader-inject",["cache",e.mid,n]),tn(Zt,e),void r();if(S)if(e.isXd)S==O&&(S=N);else if(!e.isAmd||S==O){var i=function(i){if(S==O){if(j.unshift(e),tn(i,e),j.shift(),an(e),e.cjs||(Et(e),zt(e)),e.finish){var a=t+"*finish",o=e.finish;delete e.finish,fn(a,["mojo",("mojo/require!"+o.join(",")).replace(/\./g,"/")],function(e){u(o,function(t){e.require(t)})}),_t.unshift(At(a))}r()}else i=q(e,i),i?(tn(i,e),r()):($t=e,h.injectUrl(Jt(n),r,e),$t=0)};if(h.trace("loader-inject",["xhr",e.mid,n,S!=O]),v("config-mojo-loader-catches"))try{h.getText(n,S!=O,i)}catch(a){W(G,l("xhrInjectFailed",[e,a]))}else h.getText(n,S!=O,i);return}h.trace("loader-inject",["script",e.mid,n]),$t=e,h.injectUrl(Jt(n),r,e),$t=0}},rn=function(e,t,n){h.trace("loader-define-module",[e.mid,t]);var r=e.mid;if(e.injected===E)return W(G,l("multipleDefine",e)),e;c(e,{deps:t,def:n,cjs:{id:e.mid,uri:e.url,exports:e.result={},setExports:function(t){e.cjs.exports=t},config:function(){return e.config}}});for(var i=0;t[i];i++)t[i]=At(t[i],e);return S&&!yt[r]&&(gt(e),_t.push(e),Qt()),Et(e),a(n)||t.length||(e.result=n,zt(e)),e},an=function(e,t){for(var n,r,i=[];bt.length;)r=bt.shift(),t&&(r[0]=t.shift()),n=r[0]&&At(r[0])||e,i.push([n,r[1],r[2]]);st(e),u(i,function(e){gt(rn.apply(null,e))})},on=0,sn=n,un=n;sn=function(){on&&clearTimeout(on),on=0},un=function(){sn(),h.waitms&&(on=p.setTimeout(function(){sn(),W(G,l("timeout",yt))},h.waitms))},v.add("ie-event-behavior",g.attachEvent&&"undefined"==typeof Windows&&("undefined"==typeof opera||"[object Opera]"!=opera.toString()));for(var V,cn=function(e,t,n,r){return v("ie-event-behavior")?(e.attachEvent(n,r),function(){e.detachEvent(n,r)}):(e.addEventListener(t,r,!1),function(){e.removeEventListener(t,r,!1)})},ln=cn(window,"load","onload",function(){h.pageLoaded=1,"complete"!=g.readyState&&(g.readyState="complete"),ln()}),pt=g.getElementsByTagName("script"),b=0;!ot;)/^mojo/.test((V=pt[b++])&&V.type)||(ot=V);h.injectUrl=function(e,t,n){var r=n.node=g.createElement("script"),i=function(e){e=e||window.event;var n=e.target||e.srcElement;("load"===e.type||/complete|loaded/.test(n.readyState))&&(a(),o(),t&&t())},a=cn(r,"load","onreadystatechange",i),o=cn(r,"error","onerror",function(t){a(),o(),W(G,l("scriptError",[e,t]))});return r.type="text/javascript",r.charset="utf-8",r.src=e,ot.parentNode.insertBefore(r,ot),r},h.log=function(){try{for(var e=0;e<arguments.length;e++);}catch(t){}};var dn=h.trace=function(e,t){if(dn.on&&dn.group[e]){W("trace",[e,t]);for(var n,r=[],i="trace:"+e+(t.length?":"+t[0]:""),a=1;a<t.length;)n=t[a++],o(n)?i+=", "+n:r.push(n);h.log(i),r.length&&r.push("."),h.log.apply(h,r)}};c(dn,{on:1,group:{},set:function(e,t){o(e)?dn.group[e]=t:c(dn.group,e)}}),dn.set(c(c(c({},t.trace),e.trace),at.trace)),H("config",function(e){e.trace&&dn.set(e.trace)});var fn=function(e,t,n){var r=arguments.length,i=["require","exports","module"],s=[0,e,t];1==r?s=[0,a(e)?i:[],e]:2==r&&o(e)?s=[e,a(t)?i:[],t]:3==r&&(s=[e,t,n]),h.trace("loader-define",s.slice(0,2));var u,c=s[0]&&At(s[0]);if(c&&!yt[c.mid])gt(rn(c,s[1],s[2]));else if(!v("ie-event-behavior")||en)bt.push(s);else{if(c=c||$t,!c){for(e in yt)if(u=et[e],u&&u.node&&"interactive"===u.node.readyState){c=u;break}}c?(st(c),gt(rn(c,s[1],s[2]))):W(G,l("ieDefineFailed",s[0])),Qt()}};if(fn.amd={vendor:"mojotoolkit.org"},c(c(h,t.loaderPatch),e.loaderPatch),H(G,function(e){try{if(console.error(e),e instanceof Error)for(var t in e);}catch(n){}}),c(h,{uid:f,cache:nt,packs:K}),p.define)return void W(G,l("defineAlreadyDefined",0));p.define=fn,p.require=h;u(ft,function(e){ht(e)});var hn=at.deps||e.deps||t.deps,pn=at.callback||e.callback||t.callback;h.boot=hn||pn?[hn||[],pn]:0}(this.dojoConfig||this.djConfig||this.require||{},{async:0,hasCache:{"config-selectorEngine":"acme","config-tlmSiblingOfDojo":1,"mojo-built":1,"mojo-loader":1,dom:1,"host-browser":1},packages:[{location:".",name:"mojo"},{location:"../mijit",name:"mijit"},{location:"../mojox",name:"mojox"},{location:"../bks",main:"toolkit",name:"bks"},{location:"../pgs",name:"pgs"},{location:"../validator",name:"validator"},{location:"../engine",main:"engine",name:"engine"},{location:"../editors",main:"editors",name:"editors"},{location:"../util/doh",name:"doh"}]}),require({cache:{"mojo/main":function(){define(["./_base/kernel","./has","require","./sniff","./_base/lang","./_base/array","./_base/config","./ready","./_base/declare","./_base/connect","./_base/Deferred","./_base/json","./_base/Color","./has!mojo-firebug?./_firebug/firebug","./_base/browser","./_base/loader"],function(e,t,n,r,i,a,o,s){o.isDebug&&n(["./_firebug/firebug"]);var u=o.require;return u&&(u=a.map(i.isArray(u)?u:[u],function(e){return e.replace(/\./g,"/")}),e.isAsync?n(u):s(1,function(){n(u)})),e})},"mojo/_base/kernel":function(){define(["../has","./config","require","module"],function(e,t,n,r){var i,a,o,s={},u={},c={config:t,global:this,mijit:s,mojox:u},l={mojo:["mojo",c],mijit:["mijit",s],mojox:["mojox",u]},d=n.map&&n.map[r.id.match(/[^\/]+/)[0]];for(a in d)l[a]?l[a][0]=d[a]:l[a]=[d[a],{}];for(a in l)o=l[a],o[1]._scopeName=o[0],t.noGlobals||(this[o[0]]=o[1]);c.scopeMap=l,c.baseUrl=c.config.baseUrl=n.baseUrl,c.isAsync=!1||n.async,c.locale=t.locale;var f="$Rev: e124479 $".match(/[0-9a-f]{7,}/);c.version={major:1,minor:10,patch:0,flag:"",revision:f?f[0]:0/0,toString:function(){var e=c.version;return e.major+"."+e.minor+"."+e.patch+e.flag+" ("+e.revision+")"}},Function("d","d.eval = function(){return d.global.eval ? d.global.eval(arguments[0]) : eval(arguments[0]);}")(c),c.exit=function(){},"undefined"!=typeof console||(console={});var h,p=["assert","count","debug","dir","dirxml","error","group","groupEnd","info","profile","profileEnd","time","timeEnd","trace","warn","log"];for(i=0;h=p[i++];)console[h]||!function(){var e=h+"";console[e]="log"in console?function(){var t=Array.prototype.slice.call(arguments);t.unshift(e+":"),console.log(t.join(" "))}:function(){},console[e]._fake=!0}();if(e.add("mojo-debug-messages",!!t.isDebug),c.deprecated=c.experimental=function(){},e("mojo-debug-messages")&&(c.deprecated=function(e,t,n){var r="DEPRECATED: "+e;t&&(r+=" "+t),n&&(r+=" -- will be removed in version: "+n),console.warn(r)},c.experimental=function(e,t){var n="EXPERIMENTAL: "+e+" -- APIs subject to change without notice.";t&&(n+=" "+t),console.warn(n)}),t.modulePaths){c.deprecated("mojo.modulePaths","use paths configuration");var g={};for(a in t.modulePaths)g[a.replace(/\./g,"/")]=t.modulePaths[a];n({paths:g})}return c.moduleUrl=function(e,t){c.deprecated("mojo.moduleUrl()","use require.toUrl","2.0");var r=null;return e&&(r=n.toUrl(e.replace(/\./g,"/")+(t?"/"+t:"")+"/*.*").replace(/\/\*\.\*/,"")+(t?"":"/")),r},c._hasResource={},c})},"mojo/has":function(){define(["require","module"],function(e,t){var n=e.has||function(){};n.add("dom-addeventlistener",!!document.addEventListener),n.add("touch","ontouchstart"in document||"onpointerdown"in document&&navigator.maxTouchPoints>0||window.navigator.msMaxTouchPoints),n.add("touch-events","ontouchstart"in document),n.add("pointer-events","onpointerdown"in document),n.add("MSPointer","msMaxTouchPoints"in navigator),n.add("device-width",screen.availWidth||innerWidth);var r=document.createElement("form");return n.add("dom-attributes-explicit",0==r.attributes.length),n.add("dom-attributes-specified-flag",r.attributes.length>0&&r.attributes.length<40),n.clearElement=function(e){return e.innerHTML="",e},n.normalize=function(e,t){var r=e.match(/[\?:]|[^:\?]*/g),i=0,a=function(e){var t=r[i++];return":"==t?0:"?"==r[i++]?!e&&n(t)?a():(a(!0),a(e)):t||0};return e=a(),e&&t(e)},n.load=function(e,t,n){e?t([e],n):n()},n})},"mojo/_base/config":function(){define(["../has","require"],function(e,t){var n,r={},i=t.rawConfig;for(n in i)r[n]=i[n];if(!r.locale&&"undefined"!=typeof navigator){var a=navigator.language||navigator.userLanguage;a&&(r.locale=a.toLowerCase())}return r})},"mojo/sniff":function(){define(["./has"],function(e){var t=navigator,n=t.userAgent,r=t.appVersion,i=parseFloat(r);if(e.add("air",n.indexOf("AdobeAIR")>=0),e.add("msapp",parseFloat(n.split("MSAppHost/")[1])||void 0),e.add("khtml",r.indexOf("Konqueror")>=0?i:void 0),e.add("webkit",parseFloat(n.split("WebKit/")[1])||void 0),e.add("chrome",parseFloat(n.split("Chrome/")[1])||void 0),e.add("safari",r.indexOf("Safari")>=0&&!e("chrome")?parseFloat(r.split("Version/")[1]):void 0),e.add("mac",r.indexOf("Macintosh")>=0),e.add("quirks","BackCompat"==document.compatMode),n.match(/(iPhone|iPod|iPad)/)){var a=RegExp.$1.replace(/P/,"p"),o=n.match(/OS ([\d_]+)/)?RegExp.$1:"1",s=parseFloat(o.replace(/_/,".").replace(/_/g,""));e.add(a,s),e.add("ios",s)}if(e.add("android",parseFloat(n.split("Android ")[1])||void 0),e.add("bb",(n.indexOf("BlackBerry")>=0||n.indexOf("BB10")>=0)&&parseFloat(n.split("Version/")[1])||void 0),e.add("trident",parseFloat(r.split("Trident/")[1])||void 0),e.add("svg","undefined"!=typeof SVGAngle),!e("webkit")){if(n.indexOf("Opera")>=0&&e.add("opera",i>=9.8?parseFloat(n.split("Version/")[1])||i:i),n.indexOf("Gecko")>=0&&!e("khtml")&&!e("webkit")&&!e("trident")&&e.add("mozilla",i),e("mozilla")&&e.add("ff",parseFloat(n.split("Firefox/")[1]||n.split("Minefield/")[1])||void 0),document.all&&!e("opera")){var u=parseFloat(r.split("MSIE ")[1])||void 0,c=document.documentMode;c&&5!=c&&Math.floor(u)!=c&&(u=c),e.add("ie",u)}e.add("wii","undefined"!=typeof opera&&opera.wiiremote)}return e})},"mojo/_base/lang":function(){define(["./kernel","../has","../sniff"],function(e,t){t.add("bug-for-in-skips-shadowed",function(){for(var e in{toString:1})return 0;return 1});var n=t("bug-for-in-skips-shadowed")?"hasOwnProperty.valueOf.isPrototypeOf.propertyIsEnumerable.toLocaleString.toString.constructor".split("."):[],r=n.length,i=function(t,n,r){r||(r=t[0]&&e.scopeMap[t[0]]?e.scopeMap[t.shift()][1]:e.global);try{for(var i=0;i<t.length;i++){var a=t[i];if(!(a in r)){if(!n)return;r[a]={}}r=r[a]}return r}catch(o){}},a=Object.prototype.toString,o=function(e,t,n){return(n||[]).concat(Array.prototype.slice.call(e,t||0))},s=/\{([^\}]+)\}/g,u={_extraNames:n,_mixin:function(e,i,a){var o,s,u,c={};for(o in i)s=i[o],o in e&&(e[o]===s||o in c&&c[o]===s)||(e[o]=a?a(s):s);if(t("bug-for-in-skips-shadowed")&&i)for(u=0;r>u;++u)o=n[u],s=i[o],o in e&&(e[o]===s||o in c&&c[o]===s)||(e[o]=a?a(s):s);return e},mixin:function(e){e||(e={});for(var t=1,n=arguments.length;n>t;t++)u._mixin(e,arguments[t]);return e},setObject:function(e,t,n){var r=e.split("."),a=r.pop(),o=i(r,!0,n);return o&&a?o[a]=t:void 0},getObject:function(e,t,n){return i(e?e.split("."):[],t,n)},exists:function(e,t){return void 0!==u.getObject(e,!1,t)},isString:function(e){return"string"==typeof e||e instanceof String},isArray:function(e){return e&&(e instanceof Array||"array"==typeof e)},isFunction:function(e){return"[object Function]"===a.call(e)},isObject:function(e){return void 0!==e&&(null===e||"object"==typeof e||u.isArray(e)||u.isFunction(e))},isArrayLike:function(e){return!(!e||void 0===e||u.isString(e)||u.isFunction(e)||e.tagName&&"form"==e.tagName.toLowerCase()||!u.isArray(e)&&!isFinite(e.length))},isAlien:function(e){return e&&!u.isFunction(e)&&/\{\s*\[native code\]\s*\}/.test(String(e))},extend:function(e){for(var t=1,n=arguments.length;n>t;t++)u._mixin(e.prototype,arguments[t]);return e},_hitchArgs:function(t,n){var r=u._toArray(arguments,2),i=u.isString(n);return function(){var a=u._toArray(arguments),o=i?(t||e.global)[n]:n;return o&&o.apply(t||this,r.concat(a))}},hitch:function(t,n){if(arguments.length>2)return u._hitchArgs.apply(e,arguments);if(n||(n=t,t=null),u.isString(n)){if(t=t||e.global,!t[n])throw['lang.hitch: scope["',n,'"] is null (scope="',t,'")'].join("");return function(){return t[n].apply(t,arguments||[])}}return t?function(){return n.apply(t,arguments||[])}:n},delegate:function(){function e(){}return function(t,n){e.prototype=t;var r=new e;return e.prototype=null,n&&u._mixin(r,n),r}}(),_toArray:t("ie")?function(){function e(e,t,n){for(var r=n||[],i=t||0;i<e.length;i++)r.push(e[i]);return r}return function(t){return(t.item?e:o).apply(this,arguments)}}():o,partial:function(){var t=[null];return u.hitch.apply(e,t.concat(u._toArray(arguments)))},clone:function(e){if(!e||"object"!=typeof e||u.isFunction(e))return e;if(e.nodeType&&"cloneNode"in e)return e.cloneNode(!0);if(e instanceof Date)return new Date(e.getTime());if(e instanceof RegExp)return new RegExp(e);var t,n,r;if(u.isArray(e))for(t=[],n=0,r=e.length;r>n;++n)n in e&&t.push(u.clone(e[n]));else t=e.constructor?new e.constructor:{};return u._mixin(t,e,u.clone)},trim:String.prototype.trim?function(e){return e.trim()}:function(e){return e.replace(/^\s\s*/,"").replace(/\s\s*$/,"")},replace:function(e,t,n){return e.replace(n||s,u.isFunction(t)?t:function(e,n){return u.getObject(n,!1,t)})}};return 1&&u.mixin(e,u),u})},"mojo/_base/array":function(){define(["./kernel","../has","./lang"],function(e,t,n){function r(e){return s[e]=new Function("item","index","array",e)}function i(e){var t=!e;return function(n,i,a){var o,u=0,c=n&&n.length||0;if(c&&"string"==typeof n&&(n=n.split("")),"string"==typeof i&&(i=s[i]||r(i)),a){for(;c>u;++u)if(o=!i.call(a,n[u],u,n),e^o)return!o}else for(;c>u;++u)if(o=!i(n[u],u,n),e^o)return!o;return t}}function a(e){var t=1,n=0,r=0;return e||(t=n=r=-1),function(i,a,s,c){if(c&&t>0)return u.lastIndexOf(i,a,s);var l,d=i&&i.length||0,f=e?d+r:n;for(s===o?l=e?n:d+r:0>s?(l=d+s,0>l&&(l=n)):l=s>=d?d+r:s,d&&"string"==typeof i&&(i=i.split(""));l!=f;l+=t)if(i[l]==a)return l;return-1}}var o,s={},u={every:i(!1),some:i(!0),indexOf:a(!0),lastIndexOf:a(!1),forEach:function(e,t,n){var i=0,a=e&&e.length||0;if(a&&"string"==typeof e&&(e=e.split("")),"string"==typeof t&&(t=s[t]||r(t)),n)for(;a>i;++i)t.call(n,e[i],i,e);else for(;a>i;++i)t(e[i],i,e)},map:function(e,t,n,i){var a=0,o=e&&e.length||0,u=new(i||Array)(o);if(o&&"string"==typeof e&&(e=e.split("")),"string"==typeof t&&(t=s[t]||r(t)),n)for(;o>a;++a)u[a]=t.call(n,e[a],a,e);else for(;o>a;++a)u[a]=t(e[a],a,e);return u},filter:function(e,t,n){var i,a=0,o=e&&e.length||0,u=[];if(o&&"string"==typeof e&&(e=e.split("")),"string"==typeof t&&(t=s[t]||r(t)),n)for(;o>a;++a)i=e[a],t.call(n,i,a,e)&&u.push(i);else for(;o>a;++a)i=e[a],t(i,a,e)&&u.push(i);return u},clearCache:function(){s={}}};return 1&&n.mixin(e,u),u})},"mojo/ready":function(){define(["./_base/kernel","./has","require","./domReady","./_base/lang"],function(e,t,n,r,i){var a=0,o=[],s=0,u=function(){a=1,e._postLoad=e.config.afterOnLoad=!0,c()},c=function(){if(!s){for(s=1;a&&(!r||0==r._Q.length)&&(n.idle?n.idle():!0)&&o.length;){var e=o.shift();try{e()}catch(t){if(t.info=t.message,!n.signal)throw t;n.signal("error",t)}}s=0}};n.on&&n.on("idle",c),r&&(r._onQEmpty=c);var l=e.ready=e.addOnLoad=function(t,n,r){var a=i._toArray(arguments);"number"!=typeof t?(r=n,n=t,t=1e3):a.shift(),r=r?i.hitch.apply(e,a):function(){n()},r.priority=t;for(var s=0;s<o.length&&t>=o[s].priority;s++);o.splice(s,0,r),c()},d=e.config.addOnLoad;return d&&l[i.isArray(d)?"apply":"call"](e,d),e.config.parseOnLoad&&!e.isAsync&&l(99,function(){e.parser||(e.deprecated("Add explicit require(['mojo/parser']);","","2.0"),n(["mojo/parser"]))}),r?r(u):u(),l})},"mojo/domReady":function(){define(["./has"],function(e){function t(e){c.push(e),u&&n()}function n(){if(!r){for(r=!0;c.length;)try{c.shift()(a)}catch(e){}r=!1,t._onQEmpty()}}var r,i=this,a=document,o={loaded:1,complete:1},s="string"!=typeof a.readyState,u=!!o[a.readyState],c=[];if(t.load=function(e,n,r){t(r)},t._Q=c,t._onQEmpty=function(){},s&&(a.readyState="loading"),!u){var l=[],d=function(e){e=e||i.event,u||"readystatechange"==e.type&&!o[a.readyState]||(s&&(a.readyState="complete"),u=1,n())},f=function(e,t){e.addEventListener(t,d,!1),c.push(function(){e.removeEventListener(t,d,!1)})};if(!e("dom-addeventlistener")){f=function(e,t){t="on"+t,e.attachEvent(t,d),c.push(function(){e.detachEvent(t,d)})};var h=a.createElement("div");try{h.doScroll&&null===i.frameElement&&l.push(function(){try{return h.doScroll("left"),1}catch(e){}})}catch(p){}}if(f(a,"DOMContentLoaded"),f(i,"load"),"onreadystatechange"in a?f(a,"readystatechange"):s||l.push(function(){return o[a.readyState]}),l.length){var g=function(){if(!u){for(var e=l.length;e--;)if(l[e]())return void d("poller");setTimeout(g,30)}};g()}}return t})},"mojo/_base/declare":function(){define(["./kernel","../has","./lang"],function(e,t,n){function r(e,t){throw new Error("declare"+(t?" "+t:"")+": "+e)}function i(e,t){for(var n,i,a,o,s,u,c,l,d=[],f=[{cls:0,refs:[]}],h={},p=1,g=e.length,m=0;g>m;++m){for(a=e[m],a?"[object Function]"!=E.call(a)&&r("mixin #"+m+" is not a callable constructor.",t):r("mixin #"+m+" is unknown. Did you use mojo.require to pull it in?",t),i=a._meta?a._meta.bases:[a],o=0,n=i.length-1;n>=0;--n)s=i[n].prototype,s.hasOwnProperty("declaredClass")||(s.declaredClass="uniqName_"+T++),c=s.declaredClass,h.hasOwnProperty(c)||(h[c]={count:0,refs:[],cls:i[n]},++p),u=h[c],o&&o!==u&&(u.refs.push(o),++o.count),o=u;++o.count,f[0].refs.push(o)}for(;f.length;){for(o=f.pop(),d.push(o.cls),--p;l=o.refs,1==l.length;){if(o=l[0],!o||--o.count){o=0;break}d.push(o.cls),--p}if(o)for(m=0,g=l.length;g>m;++m)o=l[m],--o.count||f.push(o)}return p&&r("can't build consistent linearization",t),a=e[0],d[0]=a?a._meta&&a===d[d.length-a._meta.bases.length]?a._meta.bases.length:1:0,d}function a(e,t,n){var i,a,o,s,u,c,l,d,f,h=this._inherited=this._inherited||{};if("string"==typeof e&&(i=e,e=t,t=n),n=0,s=e.callee,i=i||s.nom,i||r("can't deduce a name to call inherited()",this.declaredClass),u=this.constructor._meta,o=u.bases,f=h.p,i!=x){if(h.c!==s&&(f=0,c=o[0],u=c._meta,u.hidden[i]!==s)){a=u.chains,a&&"string"==typeof a[i]&&r("calling chained method with inherited: "+i,this.declaredClass);do if(u=c._meta,l=c.prototype,u&&(l[i]===s&&l.hasOwnProperty(i)||u.hidden[i]===s))break;while(c=o[++f]);f=c?f:-1}if(c=o[++f])if(l=c.prototype,c._meta&&l.hasOwnProperty(i))n=l[i];else{d=C[i];do if(l=c.prototype,n=l[i],n&&(c._meta?l.hasOwnProperty(i):n!==d))break;while(c=o[++f])}n=c&&n||C[i]}else{if(h.c!==s&&(f=0,u=o[0]._meta,u&&u.ctor!==s)){for(a=u.chains,a&&"manual"===a.constructor||r("calling chained constructor with inherited",this.declaredClass);(c=o[++f])&&(u=c._meta,!u||u.ctor!==s););f=c?f:-1}for(;(c=o[++f])&&(u=c._meta,!(n=u?u.ctor:c)););n=c&&n}return h.c=n,h.p=f,n?t===!0?n:n.apply(this,t||e):void 0}function o(e,t){return"string"==typeof e?this.__inherited(e,t,!0):this.__inherited(e,!0)}function s(e,t,n){var r=this.getInherited(e,t);return r?r.apply(this,n||t||e):void 0}function u(e){for(var t=this.constructor._meta.bases,n=0,r=t.length;r>n;++n)if(t[n]===e)return!0;return this instanceof e}function c(e,r){for(var i in r)i!=x&&r.hasOwnProperty(i)&&(e[i]=r[i]);if(t("bug-for-in-skips-shadowed"))for(var a=n._extraNames,o=a.length;o;)i=a[--o],i!=x&&r.hasOwnProperty(i)&&(e[i]=r[i])}function l(e,r){var i,a;for(i in r)a=r[i],a===C[i]&&i in C||i==x||("[object Function]"==E.call(a)&&(a.nom=i),e[i]=a);if(t("bug-for-in-skips-shadowed"))for(var o=n._extraNames,s=o.length;s;)i=o[--s],a=r[i],a===C[i]&&i in C||i==x||("[object Function]"==E.call(a)&&(a.nom=i),e[i]=a);return e}function d(e){return b.safeMixin(this.prototype,e),this}function f(e,t){return e instanceof Array||"function"==typeof e||(t=e,e=void 0),t=t||{},e=e||[],b([this].concat(e),t)}function h(e,t){return function(){var n,r,i,a,o=arguments,s=o,u=o[0],c=e.length;if(!(this instanceof o.callee))return _(o);if(t&&(u&&u.preamble||this.preamble))for(a=new Array(e.length),a[0]=o,r=0;u=o[0],u&&(n=u.preamble,n&&(o=n.apply(this,o)||o)),n=e[r].prototype,n=n.hasOwnProperty("preamble")&&n.preamble,n&&(o=n.apply(this,o)||o),++r!=c;)a[r]=o;for(r=c-1;r>=0;--r)n=e[r],i=n._meta,n=i?i.ctor:n,n&&n.apply(this,a?a[r]:o);n=this.postscript,n&&n.apply(this,s)}}function p(e,t){return function(){var n,r=arguments,i=r,a=r[0];return this instanceof r.callee?(t&&(a&&(n=a.preamble,n&&(i=n.apply(this,i)||i)),n=this.preamble,n&&n.apply(this,i)),e&&e.apply(this,r),n=this.postscript,void(n&&n.apply(this,r))):_(r)}}function g(e){return function(){var t,n,r=arguments,i=0;if(!(this instanceof r.callee))return _(r);for(;t=e[i];++i)if(n=t._meta,t=n?n.ctor:t){t.apply(this,r);break}t=this.postscript,t&&t.apply(this,r)}}function m(e,t,n){return function(){var r,i,a,o=0,s=1;for(n&&(o=t.length-1,s=-1);r=t[o];o+=s)i=r._meta,a=(i?i.hidden:r.prototype)[e],a&&a.apply(this,arguments)}}function v(e){w.prototype=e.prototype;var t=new w;return w.prototype=null,t}function _(e){var t=e.callee,n=v(t);return t.apply(n,e),n}function b(e,t,s){"string"!=typeof e&&(s=t,t=e,e=""),s=s||{};var l,_,w,T,S,O,N,j=1,A=t;if("[object Array]"==E.call(t)?(O=i(t,e),w=O[0],j=O.length-w,t=O[j]):(O=[0],t?"[object Function]"==E.call(t)?(w=t._meta,O=O.concat(w?w.bases:t)):r("base class is not a callable constructor.",e):null!==t&&r("unknown base class. Did you use mojo.require to pull it in?",e)),t)for(_=j-1;l=v(t),_;--_)w=O[_],(w._meta?c:y)(l,w.prototype),T=new Function,T.superclass=t,T.prototype=l,t=l.constructor=T;else l={};for(b.safeMixin(l,s),w=s.constructor,w!==C.constructor&&(w.nom=x,l.constructor=w),_=j-1;_;--_)w=O[_]._meta,w&&w.chains&&(N=y(N||{},w.chains));if(l["-chains-"]&&(N=y(N||{},l["-chains-"])),w=!N||!N.hasOwnProperty(x),O[0]=T=N&&"manual"===N.constructor?g(O):1==O.length?p(s.constructor,w):h(O,w),T._meta={bases:O,hidden:s,chains:N,parents:A,ctor:s.constructor},T.superclass=t&&t.prototype,T.extend=d,T.createSubclass=f,T.prototype=l,l.constructor=T,l.getInherited=o,l.isInstanceOf=u,l.inherited=I,l.__inherited=a,e&&(l.declaredClass=e,n.setObject(e,T)),N)for(S in N)l[S]&&"string"==typeof N[S]&&S!=x&&(w=l[S]=m(S,O,"after"===N[S]),w.nom=S);
return T}var y=n.mixin,C=Object.prototype,E=C.toString,w=new Function,T=0,x="constructor",I=e.config.isDebug?s:a;return e.safeMixin=b.safeMixin=l,e.declare=b,b})},"mojo/_base/connect":function(){define(["./kernel","../on","../topic","../aspect","./event","../mouse","./sniff","./lang","../keys"],function(e,t,n,r,i,a,o,s){function u(n,i,o,u,c){if(u=s.hitch(o,u),!n||!n.addEventListener&&!n.attachEvent)return r.after(n||e.global,i,u,!0);if("string"==typeof i&&"on"==i.substring(0,2)&&(i=i.substring(2)),n||(n=e.global),!c)switch(i){case"keypress":i=l;break;case"mouseenter":i=a.enter;break;case"mouseleave":i=a.leave}return t(n,i,u,c)}function c(e){e.keyChar=e.charCode?String.fromCharCode(e.charCode):"",e.charOrCode=e.keyChar||e.keyCode}o.add("events-keypress-typed",function(){var e={charCode:0};try{e=document.createEvent("KeyboardEvent"),(e.initKeyboardEvent||e.initKeyEvent).call(e,"keypress",!0,!0,null,!1,!1,!1,!1,9,3)}catch(t){}return 0==e.charCode&&!o("opera")});var l,d={106:42,111:47,186:59,187:43,188:44,189:45,190:46,191:47,192:96,219:91,220:92,221:93,222:39,229:113},f=o("mac")?"metaKey":"ctrlKey",h=function(e,t){var n=s.mixin({},e,t);return c(n),n.preventDefault=function(){e.preventDefault()},n.stopPropagation=function(){e.stopPropagation()},n};if(o("events-keypress-typed")){var p=function(e,t){try{return e.keyCode=t}catch(e){return 0}};l=function(e,n){var r=t(e,"keydown",function(e){var t=e.keyCode,r=13!=t&&32!=t&&(27!=t||!o("ie"))&&(48>t||t>90)&&(96>t||t>111)&&(186>t||t>192)&&(219>t||t>222)&&229!=t;if(r||e.ctrlKey){var i=r?0:t;if(e.ctrlKey){if(3==t||13==t)return n.call(e.currentTarget,e);i>95&&106>i?i-=48:!e.shiftKey&&i>=65&&90>=i?i+=32:i=d[i]||i}var a=h(e,{type:"keypress",faux:!0,charCode:i});n.call(e.currentTarget,a),o("ie")&&p(e,a.keyCode)}}),i=t(e,"keypress",function(e){var t=e.charCode;return t=t>=32?t:0,e=h(e,{charCode:t,faux:!0}),n.call(this,e)});return{remove:function(){r.remove(),i.remove()}}}}else l=o("opera")?function(e,n){return t(e,"keypress",function(e){var t=e.which;return 3==t&&(t=99),t=32>t&&!e.shiftKey?0:t,e.ctrlKey&&!e.shiftKey&&t>=65&&90>=t&&(t+=32),n.call(this,h(e,{charCode:t}))})}:function(e,n){return t(e,"keypress",function(e){return c(e),n.call(this,e)})};var g={_keypress:l,connect:function(){var e=arguments,t=[],n=0;t.push("string"==typeof e[0]?null:e[n++],e[n++]);var r=e[n+1];t.push("string"==typeof r||"function"==typeof r?e[n++]:null,e[n++]);for(var i=e.length;i>n;n++)t.push(e[n]);return u.apply(this,t)},disconnect:function(e){e&&e.remove()},subscribe:function(e,t,r){return n.subscribe(e,s.hitch(t,r))},publish:function(e,t){return n.publish.apply(n,[e].concat(t))},connectPublisher:function(e,t,n){var r=function(){g.publish(e,arguments)};return n?g.connect(t,n,r):g.connect(t,r)},isCopyKey:function(e){return e[f]}};return g.unsubscribe=g.disconnect,1&&s.mixin(e,g),g})},"mojo/on":function(){define(["./has!dom-addeventlistener?:./aspect","./_base/kernel","./sniff"],function(e,t,n){"use strict";function r(e,t,r,i,a){var o=t.match(/(.*):(.*)/);if(o)return t=o[2],o=o[1],s.selector(o,t).call(a,e,r);if(n("touch")&&(u.test(t)&&(r=w(r)),n("event-orientationchange")||"orientationchange"!=t||(t="resize",e=window,r=w(r))),h&&(r=h(r)),e.addEventListener){var c=t in d,l=c?d[t]:t;return e.addEventListener(l,r,c),{remove:function(){e.removeEventListener(l,r,c)}}}if(t="on"+t,v&&e.attachEvent)return v(e,t,r);throw new Error("Target must be an event emitter")}function i(){this.cancelable=!1,this.defaultPrevented=!0}function a(){this.bubbles=!1}var o=window.ScriptEngineMajorVersion;n.add("jscript",o&&o()+ScriptEngineMinorVersion()/10),n.add("event-orientationchange",n("touch")&&!n("android")),n.add("event-stopimmediatepropagation",window.Event&&!!window.Event.prototype&&!!window.Event.prototype.stopImmediatePropagation),n.add("event-focusin",function(e,t,n){return"onfocusin"in n});var s=function(e,t,n,i){return"function"!=typeof e.on||"function"==typeof t||e.nodeType?s.parse(e,t,n,r,i,this):e.on(t,n)};s.pausable=function(e,t,n,r){var i,a=s(e,t,function(){return i?void 0:n.apply(this,arguments)},r);return a.pause=function(){i=!0},a.resume=function(){i=!1},a},s.once=function(e,t,n){var r=s(e,t,function(){return r.remove(),n.apply(this,arguments)});return r},s.parse=function(e,t,n,r,i,a){if(t.call)return t.call(a,e,n);if(t instanceof Array)o=t;else if(t.indexOf(",")>-1)var o=t.split(/\s*,\s*/);if(o){for(var u,c=[],l=0;u=o[l++];)c.push(s.parse(e,u,n,r,i,a));return c.remove=function(){for(var e=0;e<c.length;e++)c[e].remove()},c}return r(e,t,n,i,a)};var u=/^touch/;s.matches=function(e,n,r,i,a){for(a=a&&a.matches?a:t.query,i=i!==!1,1!=e.nodeType&&(e=e.parentNode);!a.matches(e,n,r);)if(e==r||i===!1||!(e=e.parentNode)||1!=e.nodeType)return!1;return e},s.selector=function(e,t,n){return function(r,i){function a(t){return s.matches(t,e,r,n,o)}var o="function"==typeof e?{matches:e}:this,u=t.bubble;return u?s(r,u(a),i):s(r,t,function(e){var t=a(e.target);return t&&i.call(t,e)})}};var c=[].slice,l=s.emit=function(e,t,n){var r=c.call(arguments,2),o="on"+t;if("parentNode"in e){var s=r[0]={};for(var u in n)s[u]=n[u];s.preventDefault=i,s.stopPropagation=a,s.target=e,s.type=t,n=s}do e[o]&&e[o].apply(e,r);while(n&&n.bubbles&&(e=e.parentNode));return n&&n.cancelable&&n},d=n("event-focusin")?{}:{focusin:"focus",focusout:"blur"};if(!n("event-stopimmediatepropagation"))var f=function(){this.immediatelyStopped=!0,this.modified=!0},h=function(e){return function(t){return t.immediatelyStopped?void 0:(t.stopImmediatePropagation=f,e.apply(this,arguments))}};if(n("dom-addeventlistener"))s.emit=function(e,t,n){if(e.dispatchEvent&&document.createEvent){var r=e.ownerDocument||document,i=r.createEvent("HTMLEvents");i.initEvent(t,!!n.bubbles,!!n.cancelable);for(var a in n)a in i||(i[a]=n[a]);return e.dispatchEvent(i)&&i}return l.apply(s,arguments)};else{s._fixEvent=function(e,t){if(!e){var n=t&&(t.ownerDocument||t.document||t).parentWindow||window;e=n.event}if(!e)return e;try{p&&e.type==p.type&&e.srcElement==p.target&&(e=p)}catch(r){}if(!e.target)switch(e.target=e.srcElement,e.currentTarget=t||e.srcElement,"mouseover"==e.type&&(e.relatedTarget=e.fromElement),"mouseout"==e.type&&(e.relatedTarget=e.toElement),e.stopPropagation||(e.stopPropagation=b,e.preventDefault=y),e.type){case"keypress":var i="charCode"in e?e.charCode:e.keyCode;10==i?(i=0,e.keyCode=13):13==i||27==i?i=0:3==i&&(i=99),e.charCode=i,_(e)}return e};var p,g=function(e){this.handle=e};g.prototype.remove=function(){delete _mojoIEListeners_[this.handle]};var m=function(e){return function(t){t=s._fixEvent(t,this);var n=e.call(this,t);return t.modified&&(p||setTimeout(function(){p=null}),p=t),n}},v=function(t,r,i){if(i=m(i),((t.ownerDocument?t.ownerDocument.parentWindow:t.parentWindow||t.window||window)!=top||n("jscript")<5.8)&&!n("config-_allow_leaks")){"undefined"==typeof _mojoIEListeners_&&(_mojoIEListeners_=[]);var a=t[r];if(!a||!a.listeners){var o=a;a=Function("event","var callee = arguments.callee; for(var i = 0; i<callee.listeners.length; i++){var listener = _mojoIEListeners_[callee.listeners[i]]; if(listener){listener.call(this,event);}}"),a.listeners=[],t[r]=a,a.global=this,o&&a.listeners.push(_mojoIEListeners_.push(o)-1)}var s;return a.listeners.push(s=a.global._mojoIEListeners_.push(i)-1),new g(s)}return e.after(t,r,i,!0)},_=function(e){e.keyChar=e.charCode?String.fromCharCode(e.charCode):"",e.charOrCode=e.keyChar||e.keyCode},b=function(){this.cancelBubble=!0},y=s._preventDefault=function(){if(this.bubbledKeyCode=this.keyCode,this.ctrlKey)try{this.keyCode=0}catch(e){}this.defaultPrevented=!0,this.returnValue=!1,this.modified=!0}}if(n("touch"))var C=function(){},E=window.orientation,w=function(e){return function(t){var r=t.corrected;if(!r){var i=t.type;try{delete t.type}catch(a){}if(t.type){if(n("mozilla")){var r={};for(var o in t)r[o]=t[o]}else{C.prototype=t;var r=new C}r.preventDefault=function(){t.preventDefault()},r.stopPropagation=function(){t.stopPropagation()}}else r=t,r.type=i;if(t.corrected=r,"resize"==i)return E==window.orientation?null:(E=window.orientation,r.type="orientationchange",e.call(this,r));"rotation"in r||(r.rotation=0,r.scale=1);var s=r.changedTouches[0];for(var u in s)delete r[u],r[u]=s[u]}return e.call(this,r)}};return s})},"mojo/topic":function(){define(["./Evented"],function(e){var t=new e;return{publish:function(){return t.emit.apply(t,arguments)},subscribe:function(){return t.on.apply(t,arguments)}}})},"mojo/Evented":function(){define(["./aspect","./on"],function(e,t){"use strict";function n(){}var r=e.after;return n.prototype={on:function(e,n){return t.parse(this,e,n,function(e,t){return r(e,"on"+t,n,!0)})},emit:function(){var e=[this];return e.push.apply(e,arguments),t.emit.apply(t,e)}},n})},"mojo/aspect":function(){define([],function(){"use strict";function e(e,t,n,i){var a,o=e[t],s="around"==t;if(s){var u=n(function(){return o.advice(this,arguments)});a={remove:function(){u&&(u=e=n=null)},advice:function(e,t){return u?u.apply(e,t):o.advice(e,t)}}}else a={remove:function(){if(a.advice){var r=a.previous,i=a.next;i||r?(r?r.next=i:e[t]=i,i&&(i.previous=r)):delete e[t],e=n=a.advice=null}},id:r++,advice:n,receiveArguments:i};if(o&&!s)if("after"==t){for(;o.next&&(o=o.next););o.next=a,a.previous=o}else"before"==t&&(e[t]=a,a.next=o,o.previous=a);else e[t]=a;return a}function t(t){return function(i,a,o,s){var u,c=i[a];c&&c.target==i||(i[a]=u=function(){for(var e=r,t=arguments,i=u.before;i;)t=i.advice.apply(this,t)||t,i=i.next;if(u.around)var a=u.around.advice(this,t);for(var o=u.after;o&&o.id<e;){if(o.receiveArguments){var s=o.advice.apply(this,t);a=s===n?a:s}else a=o.advice.call(this,a,t);o=o.next}return a},c&&(u.around={advice:function(e,t){return c.apply(e,t)}}),u.target=i);var l=e(u||c,t,o,s);return o=null,l}}var n,r=0,i=t("after"),a=t("before"),o=t("around");return{before:a,around:o,after:i}})},"mojo/_base/event":function(){define(["./kernel","../on","../has","../dom-geometry"],function(e,t,n,r){if(t._fixEvent){var i=t._fixEvent;t._fixEvent=function(e,t){return e=i(e,t),e&&r.normalizeEvent(e),e}}var a={fix:function(e,n){return t._fixEvent?t._fixEvent(e,n):e},stop:function(e){n("dom-addeventlistener")||e&&e.preventDefault?(e.preventDefault(),e.stopPropagation()):(e=e||window.event,e.cancelBubble=!0,t._preventDefault.call(e))}};return e.fixEvent=a.fix,e.stopEvent=a.stop,a})},"mojo/dom-geometry":function(){define(["./sniff","./_base/window","./dom","./dom-style"],function(e,t,n,r){function i(e,t,n,r,i,a){a=a||"px";var o=e.style;isNaN(t)||(o.left=t+a),isNaN(n)||(o.top=n+a),r>=0&&(o.width=r+a),i>=0&&(o.height=i+a)}function a(e){return"button"==e.tagName.toLowerCase()||"input"==e.tagName.toLowerCase()&&"button"==(e.getAttribute("type")||"").toLowerCase()}function o(e){return"border-box"==s.boxModel||"table"==e.tagName.toLowerCase()||a(e)}var s={};s.boxModel="content-box",e("ie")&&(s.boxModel="BackCompat"==document.compatMode?"border-box":"content-box"),s.getPadExtents=function(e,t){e=n.byId(e);var i=t||r.getComputedStyle(e),a=r.toPixelValue,o=a(e,i.paddingLeft),s=a(e,i.paddingTop),u=a(e,i.paddingRight),c=a(e,i.paddingBottom);return{l:o,t:s,r:u,b:c,w:o+u,h:s+c}};var u="none";s.getBorderExtents=function(e,t){e=n.byId(e);var i=r.toPixelValue,a=t||r.getComputedStyle(e),o=a.borderLeftStyle!=u?i(e,a.borderLeftWidth):0,s=a.borderTopStyle!=u?i(e,a.borderTopWidth):0,c=a.borderRightStyle!=u?i(e,a.borderRightWidth):0,l=a.borderBottomStyle!=u?i(e,a.borderBottomWidth):0;return{l:o,t:s,r:c,b:l,w:o+c,h:s+l}},s.getPadBorderExtents=function(e,t){e=n.byId(e);var i=t||r.getComputedStyle(e),a=s.getPadExtents(e,i),o=s.getBorderExtents(e,i);return{l:a.l+o.l,t:a.t+o.t,r:a.r+o.r,b:a.b+o.b,w:a.w+o.w,h:a.h+o.h}},s.getMarginExtents=function(e,t){e=n.byId(e);var i=t||r.getComputedStyle(e),a=r.toPixelValue,o=a(e,i.marginLeft),s=a(e,i.marginTop),u=a(e,i.marginRight),c=a(e,i.marginBottom);return{l:o,t:s,r:u,b:c,w:o+u,h:s+c}},s.getMarginBox=function(t,i){t=n.byId(t);var a,o=i||r.getComputedStyle(t),c=s.getMarginExtents(t,o),l=t.offsetLeft-c.l,d=t.offsetTop-c.t,f=t.parentNode,h=r.toPixelValue;if(e("mozilla")){var p=parseFloat(o.left),g=parseFloat(o.top);isNaN(p)||isNaN(g)?f&&f.style&&(a=r.getComputedStyle(f),"visible"!=a.overflow&&(l+=a.borderLeftStyle!=u?h(t,a.borderLeftWidth):0,d+=a.borderTopStyle!=u?h(t,a.borderTopWidth):0)):(l=p,d=g)}else(e("opera")||8==e("ie")&&!e("quirks"))&&f&&(a=r.getComputedStyle(f),l-=a.borderLeftStyle!=u?h(t,a.borderLeftWidth):0,d-=a.borderTopStyle!=u?h(t,a.borderTopWidth):0);return{l:l,t:d,w:t.offsetWidth+c.w,h:t.offsetHeight+c.h}},s.getContentBox=function(t,i){t=n.byId(t);var a,o=i||r.getComputedStyle(t),u=t.clientWidth,c=s.getPadExtents(t,o),l=s.getBorderExtents(t,o);return u?(a=t.clientHeight,l.w=l.h=0):(u=t.offsetWidth,a=t.offsetHeight),e("opera")&&(c.l+=l.l,c.t+=l.t),{l:c.l,t:c.t,w:u-c.w-l.w,h:a-c.h-l.h}},s.setContentSize=function(e,t,r){e=n.byId(e);var a=t.w,u=t.h;if(o(e)){var c=s.getPadBorderExtents(e,r);a>=0&&(a+=c.w),u>=0&&(u+=c.h)}i(e,0/0,0/0,a,u)};var c={l:0,t:0,w:0,h:0};return s.setMarginBox=function(t,u,l){t=n.byId(t);var d=l||r.getComputedStyle(t),f=u.w,h=u.h,p=o(t)?c:s.getPadBorderExtents(t,d),g=s.getMarginExtents(t,d);if(e("webkit")&&a(t)){var m=t.style;f>=0&&!m.width&&(m.width="4px"),h>=0&&!m.height&&(m.height="4px")}f>=0&&(f=Math.max(f-p.w-g.w,0)),h>=0&&(h=Math.max(h-p.h-g.h,0)),i(t,u.l,u.t,f,h)},s.isBodyLtr=function(e){return e=e||t.doc,"ltr"==(t.body(e).dir||e.documentElement.dir||"ltr").toLowerCase()},s.docScroll=function(n){n=n||t.doc;var r=t.doc.parentWindow||t.doc.defaultView;return"pageXOffset"in r?{x:r.pageXOffset,y:r.pageYOffset}:(r=e("quirks")?t.body(n):n.documentElement)&&{x:s.fixIeBiDiScrollLeft(r.scrollLeft||0,n),y:r.scrollTop||0}},e("ie")&&(s.getIeDocumentElementOffset=function(n){n=n||t.doc;var r=n.documentElement;if(e("ie")<8){var i=r.getBoundingClientRect(),a=i.left,o=i.top;return e("ie")<7&&(a+=r.clientLeft,o+=r.clientTop),{x:0>a?0:a,y:0>o?0:o}}return{x:0,y:0}}),s.fixIeBiDiScrollLeft=function(n,r){r=r||t.doc;var i=e("ie");if(i&&!s.isBodyLtr(r)){var a=e("quirks"),o=a?t.body(r):r.documentElement,u=t.global;return 6==i&&!a&&u.frameElement&&o.scrollHeight>o.clientHeight&&(n+=o.clientLeft),8>i||a?n+o.clientWidth-o.scrollWidth:-n}return n},s.position=function(r,i){r=n.byId(r);var a=t.body(r.ownerDocument),o=r.getBoundingClientRect();if(o={x:o.left,y:o.top,w:o.right-o.left,h:o.bottom-o.top},e("ie")<9){var u=s.getIeDocumentElementOffset(r.ownerDocument);o.x-=u.x+(e("quirks")?a.clientLeft+a.offsetLeft:0),o.y-=u.y+(e("quirks")?a.clientTop+a.offsetTop:0)}if(i){var c=s.docScroll(r.ownerDocument);o.x+=c.x,o.y+=c.y}return o},s.getMarginSize=function(e,t){e=n.byId(e);var i=s.getMarginExtents(e,t||r.getComputedStyle(e)),a=e.getBoundingClientRect();return{w:a.right-a.left+i.w,h:a.bottom-a.top+i.h}},s.normalizeEvent=function(t){if("layerX"in t||(t.layerX=t.offsetX,t.layerY=t.offsetY),!e("dom-addeventlistener")){var n=t.target,r=n&&n.ownerDocument||document,i=e("quirks")?r.body:r.documentElement,a=s.getIeDocumentElementOffset(r);t.pageX=t.clientX+s.fixIeBiDiScrollLeft(i.scrollLeft||0,r)-a.x,t.pageY=t.clientY+(i.scrollTop||0)-a.y}},s})},"mojo/_base/window":function(){define(["./kernel","./lang","../sniff"],function(e,t,n){var r={global:e.global,doc:this.document||null,body:function(t){return t=t||e.doc,t.body||t.getElementsByTagName("body")[0]},setContext:function(t,n){e.global=r.global=t,e.doc=r.doc=n},withGlobal:function(t,n,i,a){var o=e.global;try{return e.global=r.global=t,r.withDoc.call(null,t.document,n,i,a)}finally{e.global=r.global=o}},withDoc:function(t,i,a,o){var s,u,c,l=r.doc,d=n("quirks"),f=n("ie");try{return e.doc=r.doc=t,e.isQuirks=n.add("quirks","BackCompat"==e.doc.compatMode,!0,!0),n("ie")&&(c=t.parentWindow)&&c.navigator&&(s=parseFloat(c.navigator.appVersion.split("MSIE ")[1])||void 0,u=t.documentMode,u&&5!=u&&Math.floor(s)!=u&&(s=u),e.isIE=n.add("ie",s,!0,!0)),a&&"string"==typeof i&&(i=a[i]),i.apply(a,o||[])}finally{e.doc=r.doc=l,e.isQuirks=n.add("quirks",d,!0,!0),e.isIE=n.add("ie",f,!0,!0)}}};return 1&&t.mixin(e,r),r})},"mojo/dom":function(){define(["./sniff","./_base/window"],function(e,t){if(e("ie")<=7)try{document.execCommand("BackgroundImageCache",!1,!0)}catch(n){}var r={};r.byId=e("ie")?function(e,n){if("string"!=typeof e)return e;var r=n||t.doc,i=e&&r.getElementById(e);if(i&&(i.attributes.id.value==e||i.id==e))return i;var a=r.all[e];(!a||a.nodeName)&&(a=[a]);for(var o=0;i=a[o++];)if(i.attributes&&i.attributes.id&&i.attributes.id.value==e||i.id==e)return i}:function(e,n){return("string"==typeof e?(n||t.doc).getElementById(e):e)||null},r.isDescendant=function(e,t){try{for(e=r.byId(e),t=r.byId(t);e;){if(e==t)return!0;e=e.parentNode}}catch(n){}return!1},e.add("css-user-select",function(e,t,n){if(!n)return!1;var r=n.style,i=["Khtml","O","Moz","Webkit"],a=i.length,o="userSelect";do if("undefined"!=typeof r[o])return o;while(a--&&(o=i[a]+"UserSelect"));return!1});var i=e("css-user-select");return r.setSelectable=i?function(e,t){r.byId(e).style[i]=t?"":"none"}:function(e,t){e=r.byId(e);var n=e.getElementsByTagName("*"),i=n.length;if(t)for(e.removeAttribute("unselectable");i--;)n[i].removeAttribute("unselectable");else for(e.setAttribute("unselectable","on");i--;)n[i].setAttribute("unselectable","on")},r})},"mojo/dom-style":function(){define(["./sniff","./dom"],function(e,t){function n(t,n,r){if(n=n.toLowerCase(),e("ie")||e("trident")){if("auto"==r){if("height"==n)return t.offsetHeight;if("width"==n)return t.offsetWidth}if("fontweight"==n)switch(r){case 700:return"bold";case 400:default:return"normal"}}return n in l||(l[n]=d.test(n)),l[n]?a(t,r):r}var r,i={};r=e("webkit")?function(e){var t;if(1==e.nodeType){var n=e.ownerDocument.defaultView;t=n.getComputedStyle(e,null),!t&&e.style&&(e.style.display="",t=n.getComputedStyle(e,null))}return t||{}}:e("ie")&&(e("ie")<9||e("quirks"))?function(e){return 1==e.nodeType&&e.currentStyle?e.currentStyle:{}}:function(e){return 1==e.nodeType?e.ownerDocument.defaultView.getComputedStyle(e,null):{}},i.getComputedStyle=r;var a;a=e("ie")?function(e,t){if(!t)return 0;if("medium"==t)return 4;if(t.slice&&"px"==t.slice(-2))return parseFloat(t);var n=e.style,r=e.runtimeStyle,i=e.currentStyle,a=n.left,o=r.left;r.left=i.left;try{n.left=t,t=n.pixelLeft}catch(s){t=0}return n.left=a,r.left=o,t}:function(e,t){return parseFloat(t)||0},i.toPixelValue=a;var o="DXImageTransform.Microsoft.Alpha",s=function(e,t){try{return e.filters.item(o)}catch(n){return t?{}:null}},u=e("ie")<9||e("ie")<10&&e("quirks")?function(e){try{return s(e).Opacity/100}catch(t){return 1}}:function(e){return r(e).opacity},c=e("ie")<9||e("ie")<10&&e("quirks")?function(e,t){""===t&&(t=1);var n=100*t,r=1===t;if(r?(e.style.zoom="",s(e)&&(e.style.filter=e.style.filter.replace(new RegExp("\\s*progid:"+o+"\\([^\\)]+?\\)","i"),""))):(e.style.zoom=1,s(e)?s(e,1).Opacity=n:e.style.filter+=" progid:"+o+"(Opacity="+n+")",s(e,1).Enabled=!0),"tr"==e.tagName.toLowerCase())for(var i=e.firstChild;i;i=i.nextSibling)"td"==i.tagName.toLowerCase()&&c(i,t);return t}:function(e,t){return e.style.opacity=t},l={left:!0,top:!0},d=/margin|padding|width|height|max|min|offset/,f={cssFloat:1,styleFloat:1,"float":1};return i.get=function(e,r){var a=t.byId(e),o=arguments.length,s="opacity"==r;if(2==o&&s)return u(a);r=f[r]?"cssFloat"in a.style?"cssFloat":"styleFloat":r;var c=i.getComputedStyle(a);return 1==o?c:n(a,r,c[r]||a.style[r])},i.set=function(e,n,r){var a=t.byId(e),o=arguments.length,s="opacity"==n;if(n=f[n]?"cssFloat"in a.style?"cssFloat":"styleFloat":n,3==o)return s?c(a,r):a.style[n]=r;for(var u in n)i.set(e,u,n[u]);return i.getComputedStyle(a)},i})},"mojo/mouse":function(){define(["./_base/kernel","./on","./has","./dom","./_base/window"],function(e,t,n,r,i){function a(e,n){var i=function(i,a){return t(i,e,function(e){return n?n(e,a):r.isDescendant(e.relatedTarget,i)?void 0:a.call(this,e)})};return i.bubble=function(t){return a(e,function(e,n){var r=t(e.target),i=e.relatedTarget;return r&&r!=(i&&1==i.nodeType&&t(i))?n.call(r,e):void 0})},i}n.add("dom-quirks",i.doc&&"BackCompat"==i.doc.compatMode),n.add("events-mouseenter",i.doc&&"onmouseenter"in i.doc.createElement("div")),n.add("events-mousewheel",i.doc&&"onmousewheel"in i.doc);var o;o=n("dom-quirks")&&n("ie")||!n("dom-addeventlistener")?{LEFT:1,MIDDLE:4,RIGHT:2,isButton:function(e,t){return e.button&t},isLeft:function(e){return 1&e.button},isMiddle:function(e){return 4&e.button},isRight:function(e){return 2&e.button}}:{LEFT:0,MIDDLE:1,RIGHT:2,isButton:function(e,t){return e.button==t},isLeft:function(e){return 0==e.button},isMiddle:function(e){return 1==e.button},isRight:function(e){return 2==e.button}},e.mouseButtons=o;var s;return s=n("events-mousewheel")?"mousewheel":function(e,n){return t(e,"DOMMouseScroll",function(e){e.wheelDelta=-e.detail,n.call(this,e)})},{_eventHandler:a,enter:a("mouseover"),leave:a("mouseout"),wheel:s,isLeft:o.isLeft,isMiddle:o.isMiddle,isRight:o.isRight}})},"mojo/_base/sniff":function(){define(["./kernel","./lang","../sniff"],function(e,t,n){return e._name="browser",t.mixin(e,{isBrowser:!0,isFF:n("ff"),isIE:n("ie"),isKhtml:n("khtml"),isWebKit:n("webkit"),isMozilla:n("mozilla"),isMoz:n("mozilla"),isOpera:n("opera"),isSafari:n("safari"),isChrome:n("chrome"),isMac:n("mac"),isIos:n("ios"),isAndroid:n("android"),isWii:n("wii"),isQuirks:n("quirks"),isAir:n("air")}),n})},"mojo/keys":function(){define(["./_base/kernel","./sniff"],function(e,t){return e.keys={BACKSPACE:8,TAB:9,CLEAR:12,ENTER:13,SHIFT:16,CTRL:17,ALT:18,META:t("webkit")?91:224,PAUSE:19,CAPS_LOCK:20,ESCAPE:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT_ARROW:37,UP_ARROW:38,RIGHT_ARROW:39,DOWN_ARROW:40,INSERT:45,DELETE:46,HELP:47,LEFT_WINDOW:91,RIGHT_WINDOW:92,SELECT:93,NUMPAD_0:96,NUMPAD_1:97,NUMPAD_2:98,NUMPAD_3:99,NUMPAD_4:100,NUMPAD_5:101,NUMPAD_6:102,NUMPAD_7:103,NUMPAD_8:104,NUMPAD_9:105,NUMPAD_MULTIPLY:106,NUMPAD_PLUS:107,NUMPAD_ENTER:108,NUMPAD_MINUS:109,NUMPAD_PERIOD:110,NUMPAD_DIVIDE:111,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,F13:124,F14:125,F15:126,NUM_LOCK:144,SCROLL_LOCK:145,UP_DPAD:175,DOWN_DPAD:176,LEFT_DPAD:177,RIGHT_DPAD:178,copyKey:t("mac")&&!t("air")?t("safari")?91:224:17}})},"mojo/_base/Deferred":function(){define(["./kernel","../Deferred","../promise/Promise","../errors/CancelError","../has","./lang","../when"],function(e,t,n,r,i,a,o){var s=function(){},u=Object.freeze||function(){},c=e.Deferred=function(e){function o(e){if(f)throw new Error("This deferred has already been resolved");d=e,f=!0,l()}function l(){for(var e;!e&&v;){var n=v;v=v.next,(e=n.progress==s)&&(f=!1);var r=g?n.error:n.resolved;if(i("config-useDeferredInstrumentation")&&g&&t.instrumentRejected&&t.instrumentRejected(d,!!r),r)try{var o=r(d);if(o&&"function"==typeof o.then){o.then(a.hitch(n.deferred,"resolve"),a.hitch(n.deferred,"reject"),a.hitch(n.deferred,"progress"));continue}var u=e&&void 0===o;e&&!u&&(g=o instanceof Error),n.deferred[u&&g?"reject":"resolve"](u?d:o)}catch(c){n.deferred.reject(c)}else g?n.deferred.reject(d):n.deferred.resolve(d)}}var d,f,h,p,g,m,v,_=this.promise=new n;this.isResolved=_.isResolved=function(){return 0==p},this.isRejected=_.isRejected=function(){return 1==p},this.isFulfilled=_.isFulfilled=function(){return p>=0},this.isCanceled=_.isCanceled=function(){return h},this.resolve=this.callback=function(e){this.fired=p=0,this.results=[e,null],o(e)},this.reject=this.errback=function(e){g=!0,this.fired=p=1,i("config-useDeferredInstrumentation")&&t.instrumentRejected&&t.instrumentRejected(e,!!v),o(e),this.results=[null,e]},this.progress=function(e){for(var t=v;t;){var n=t.progress;n&&n(e),t=t.next}},this.addCallbacks=function(e,t){return this.then(e,t,s),this},_.then=this.then=function(e,t,n){var r=n==s?this:new c(_.cancel),i={resolved:e,error:t,progress:n,deferred:r};return v?m=m.next=i:v=m=i,f&&l(),r.promise};var b=this;_.cancel=this.cancel=function(){if(!f){var t=e&&e(b);f||(t instanceof Error||(t=new r(t)),t.log=!1,b.reject(t))}h=!0},u(_)};return a.extend(c,{addCallback:function(){return this.addCallbacks(a.hitch.apply(e,arguments))},addErrback:function(){return this.addCallbacks(null,a.hitch.apply(e,arguments))},addBoth:function(){var t=a.hitch.apply(e,arguments);return this.addCallbacks(t,t)},fired:-1}),c.when=e.when=o,c})},"mojo/Deferred":function(){define(["./has","./_base/lang","./errors/CancelError","./promise/Promise","./promise/instrumentation"],function(e,t,n,r,i){"use strict";var a=0,o=1,s=2,u="This deferred has already been fulfilled.",c=Object.freeze||function(){},l=function(e,t,n,r,i){t===s&&p.instrumentRejected&&0===e.length&&p.instrumentRejected(n,!1,r,i);for(var a=0;a<e.length;a++)d(e[a],t,n,r)},d=function(e,t,n,r){var i=e[t],u=e.deferred;if(i)try{var c=i(n);if(t===a)"undefined"!=typeof c&&h(u,t,c);else{if(c&&"function"==typeof c.then)return e.cancel=c.cancel,void c.then(f(u,o),f(u,s),f(u,a));h(u,o,c)}}catch(l){h(u,s,l)}else h(u,t,n);t===s&&p.instrumentRejected&&p.instrumentRejected(n,!!i,r,u.promise)},f=function(e,t){return function(n){h(e,t,n)}},h=function(e,t,n){if(!e.isCanceled())switch(t){case a:e.progress(n);break;case o:e.resolve(n);break;case s:e.reject(n)}},p=function(e){var t,i,f,h=this.promise=new r,g=this,m=!1,v=[];Error.captureStackTrace&&(Error.captureStackTrace(g,p),Error.captureStackTrace(h,p)),this.isResolved=h.isResolved=function(){return t===o},this.isRejected=h.isRejected=function(){return t===s},this.isFulfilled=h.isFulfilled=function(){return!!t},this.isCanceled=h.isCanceled=function(){return m},this.progress=function(e,n){if(t){if(n===!0)throw new Error(u);return h}return l(v,a,e,null,g),h},this.resolve=function(e,n){if(t){if(n===!0)throw new Error(u);return h}return l(v,t=o,i=e,null,g),v=null,h};var _=this.reject=function(e,n){if(t){if(n===!0)throw new Error(u);return h}return Error.captureStackTrace&&Error.captureStackTrace(f={},_),l(v,t=s,i=e,f,g),v=null,h};this.then=h.then=function(e,n,r){var a=[r,e,n];return a.cancel=h.cancel,a.deferred=new p(function(e){return a.cancel&&a.cancel(e)}),t&&!v?d(a,t,i,f):v.push(a),a.deferred.promise},this.cancel=h.cancel=function(r,a){if(t){if(a===!0)throw new Error(u)}else{if(e){var o=e(r);r="undefined"==typeof o?r:o}if(m=!0,!t)return"undefined"==typeof r&&(r=new n),_(r),r;if(t===s&&i===r)return r}},c(h)};return p.prototype.toString=function(){return"[object Deferred]"},i&&i(p),p})},"mojo/errors/CancelError":function(){define(["./create"],function(e){return e("CancelError",null,null,{mojoType:"cancel"})})},"mojo/errors/create":function(){define(["../_base/lang"],function(e){return function(t,n,r,i){r=r||Error;var a=function(e){if(r===Error){Error.captureStackTrace&&Error.captureStackTrace(this,a);var t,i=Error.call(this,e);for(t in i)i.hasOwnProperty(t)&&(this[t]=i[t]);this.message=e,this.stack=i.stack}else r.apply(this,arguments);n&&n.apply(this,arguments)};return a.prototype=e.delegate(r.prototype,i),a.prototype.name=t,a.prototype.constructor=a,a}})},"mojo/promise/Promise":function(){define(["../_base/lang"],function(e){"use strict";function t(){throw new TypeError("abstract")}return e.extend(function(){},{then:function(){t()},cancel:function(){t()},isResolved:function(){t()},isRejected:function(){t()},isFulfilled:function(){t()},isCanceled:function(){t()},always:function(e){return this.then(e,e)},otherwise:function(e){return this.then(null,e)},trace:function(){return this},traceRejected:function(){return this},toString:function(){return"[object Promise]"}})})},"mojo/promise/instrumentation":function(){define(["./tracer","../has","../_base/lang","../_base/array"],function(e,t,n,r){function i(e,t,n){var r="";e&&e.stack&&(r+=e.stack),t&&t.stack&&(r+="\n    ----------------------------------------\n    rejected"+t.stack.split("\n").slice(1).join("\n").replace(/^\s+/," ")),n&&n.stack&&(r+="\n    ----------------------------------------\n"+n.stack),console.error(e,r)}function a(e,t,n,r){t||i(e,n,r)}function o(e,t,n,i){t?r.some(u,function(t,n){return t.error===e?(u.splice(n,1),!0):void 0}):r.some(u,function(t){return t.error===e})||u.push({error:e,rejection:n,deferred:i,timestamp:(new Date).getTime()}),c||(c=setTimeout(s,l))}function s(){var e=(new Date).getTime(),t=e-l;u=r.filter(u,function(e){return e.timestamp<t?(i(e.error,e.rejection,e.deferred),!1):!0}),c=u.length?setTimeout(s,u[0].timestamp+l-e):!1}t.add("config-useDeferredInstrumentation","report-unhandled-rejections");var u=[],c=!1,l=1e3;return function(r){var i=t("config-useDeferredInstrumentation");if(i){e.on("resolved",n.hitch(console,"log","resolved")),e.on("rejected",n.hitch(console,"log","rejected")),e.on("progress",n.hitch(console,"log","progress"));var s=[];if("string"==typeof i&&(s=i.split(","),i=s.shift()),"report-rejections"===i)r.instrumentRejected=a;else{if("report-unhandled-rejections"!==i&&i!==!0&&1!==i)throw new Error("Unsupported instrumentation usage <"+i+">");r.instrumentRejected=o,l=parseInt(s[0],10)||l}}}})},"mojo/promise/tracer":function(){define(["../_base/lang","./Promise","../Evented"],function(e,t,n){"use strict";function r(e){setTimeout(function(){a.apply(i,e)},0)}var i=new n,a=i.emit;return i.emit=null,t.prototype.trace=function(){var t=e._toArray(arguments);return this.then(function(e){r(["resolved",e].concat(t))},function(e){r(["rejected",e].concat(t))},function(e){r(["progress",e].concat(t))}),this},t.prototype.traceRejected=function(){var t=e._toArray(arguments);return this.otherwise(function(e){r(["rejected",e].concat(t))}),this},i})},"mojo/when":function(){define(["./Deferred","./promise/Promise"],function(e,t){"use strict";return function(n,r,i,a){var o=n&&"function"==typeof n.then,s=o&&n instanceof t;if(!o)return arguments.length>1?r?r(n):n:(new e).resolve(n);if(!s){var u=new e(n.cancel);n.then(u.resolve,u.reject,u.progress),n=u.promise}return r||i||a?n.then(r,i,a):n}})},"mojo/_base/json":function(){define(["./kernel","../json"],function(mojo,json){return mojo.fromJson=function(js){return eval("("+js+")")},mojo._escapeString=json.stringify,mojo.toJsonIndentStr="	",mojo.toJson=function(e,t){return json.stringify(e,function(e,t){if(t){var n=t.__json__||t.json;if("function"==typeof n)return n.call(t)}return t},t&&mojo.toJsonIndentStr)},mojo})},"mojo/json":function(){define(["./has"],function(has){"use strict";var hasJSON="undefined"!=typeof JSON;if(has.add("json-parse",hasJSON),has.add("json-stringify",hasJSON&&'{"a":1}'==JSON.stringify({a:0},function(e,t){return t||1})),has("json-stringify"))return JSON;var escapeString=function(e){return('"'+e.replace(/(["\\])/g,"\\$1")+'"').replace(/[\f]/g,"\\f").replace(/[\b]/g,"\\b").replace(/[\n]/g,"\\n").replace(/[\t]/g,"\\t").replace(/[\r]/g,"\\r")};return{parse:has("json-parse")?JSON.parse:function(str,strict){if(strict&&!/^([\s\[\{]*(?:"(?:\\.|[^"])*"|-?\d[\d\.]*(?:[Ee][+-]?\d+)?|null|true|false|)[\s\]\}]*(?:,|:|$))+$/.test(str))throw new SyntaxError("Invalid characters in JSON");return eval("("+str+")")},stringify:function(e,t,n){function r(e,a,o){t&&(e=t(o,e));var s,u=typeof e;if("number"==u)return isFinite(e)?e+"":"null";if("boolean"==u)return e+"";if(null===e)return"null";if("string"==typeof e)return escapeString(e);if("function"==u||"undefined"==u)return i;if("function"==typeof e.toJSON)return r(e.toJSON(o),a,o);if(e instanceof Date)return'"{FullYear}-{Month+}-{Date}T{Hours}:{Minutes}:{Seconds}Z"'.replace(/\{(\w+)(\+)?\}/g,function(t,n,r){var i=e["getUTC"+n]()+(r?1:0);return 10>i?"0"+i:i});if(e.valueOf()!==e)return r(e.valueOf(),a,o);var c=n?a+n:"",l=n?" ":"",d=n?"\n":"";if(e instanceof Array){var f=e.length,h=[];for(o=0;f>o;o++){var p=e[o];s=r(p,c,o),"string"!=typeof s&&(s="null"),h.push(d+c+s)}return"["+h.join(",")+d+a+"]"}var g=[];for(o in e){var m;if(e.hasOwnProperty(o)){if("number"==typeof o)m='"'+o+'"';else{if("string"!=typeof o)continue;m=escapeString(o)}if(s=r(e[o],c,o),"string"!=typeof s)continue;g.push(d+c+m+":"+l+s)}}return"{"+g.join(",")+d+a+"}"}var i;return"string"==typeof t&&(n=t,t=null),r(e,"","")}}})},"mojo/_base/Color":function(){define(["./kernel","./lang","./array","./config"],function(e,t,n,r){var i=e.Color=function(e){e&&this.setColor(e)
};return i.named={black:[0,0,0],silver:[192,192,192],gray:[128,128,128],white:[255,255,255],maroon:[128,0,0],red:[255,0,0],purple:[128,0,128],fuchsia:[255,0,255],green:[0,128,0],lime:[0,255,0],olive:[128,128,0],yellow:[255,255,0],navy:[0,0,128],blue:[0,0,255],teal:[0,128,128],aqua:[0,255,255],transparent:r.transparentColor||[0,0,0,0]},t.extend(i,{r:255,g:255,b:255,a:1,_set:function(e,t,n,r){var i=this;i.r=e,i.g=t,i.b=n,i.a=r},setColor:function(e){return t.isString(e)?i.fromString(e,this):t.isArray(e)?i.fromArray(e,this):(this._set(e.r,e.g,e.b,e.a),e instanceof i||this.sanitize()),this},sanitize:function(){return this},toRgb:function(){var e=this;return[e.r,e.g,e.b]},toRgba:function(){var e=this;return[e.r,e.g,e.b,e.a]},toHex:function(){var e=n.map(["r","g","b"],function(e){var t=this[e].toString(16);return t.length<2?"0"+t:t},this);return"#"+e.join("")},toCss:function(e){var t=this,n=t.r+", "+t.g+", "+t.b;return(e?"rgba("+n+", "+t.a:"rgb("+n)+")"},toString:function(){return this.toCss(!0)}}),i.blendColors=e.blendColors=function(e,t,r,a){var o=a||new i;return n.forEach(["r","g","b","a"],function(n){o[n]=e[n]+(t[n]-e[n])*r,"a"!=n&&(o[n]=Math.round(o[n]))}),o.sanitize()},i.fromRgb=e.colorFromRgb=function(e,t){var n=e.toLowerCase().match(/^rgba?\(([\s\.,0-9]+)\)/);return n&&i.fromArray(n[1].split(/\s*,\s*/),t)},i.fromHex=e.colorFromHex=function(e,t){var r=t||new i,a=4==e.length?4:8,o=(1<<a)-1;return e=Number("0x"+e.substr(1)),isNaN(e)?null:(n.forEach(["b","g","r"],function(t){var n=e&o;e>>=a,r[t]=4==a?17*n:n}),r.a=1,r)},i.fromArray=e.colorFromArray=function(e,t){var n=t||new i;return n._set(Number(e[0]),Number(e[1]),Number(e[2]),Number(e[3])),isNaN(n.a)&&(n.a=1),n.sanitize()},i.fromString=e.colorFromString=function(e,t){var n=i.named[e];return n&&i.fromArray(n,t)||i.fromRgb(e,t)||i.fromHex(e,t)},i})},"mojo/_base/browser":function(){require.has&&require.has.add("config-selectorEngine","acme"),define(["../ready","./kernel","./connect","./unload","./window","./event","./html","./NodeList","../query","./xhr","./fx"],function(e){return e})},"mojo/_base/unload":function(){define(["./kernel","./lang","../on"],function(e,t,n){var r=window,i={addOnWindowUnload:function(i,a){e.windowUnloaded||n(r,"unload",e.windowUnloaded=function(){}),n(r,"unload",t.hitch(i,a))},addOnUnload:function(e,i){n(r,"beforeunload",t.hitch(e,i))}};return e.addOnWindowUnload=i.addOnWindowUnload,e.addOnUnload=i.addOnUnload,i})},"mojo/_base/html":function(){define(["./kernel","../dom","../dom-style","../dom-attr","../dom-prop","../dom-class","../dom-construct","../dom-geometry"],function(e,t,n,r,i,a,o,s){return e.byId=t.byId,e.isDescendant=t.isDescendant,e.setSelectable=t.setSelectable,e.getAttr=r.get,e.setAttr=r.set,e.hasAttr=r.has,e.removeAttr=r.remove,e.getNodeProp=r.getNodeProp,e.attr=function(e,t,n){return 2==arguments.length?r["string"==typeof t?"get":"set"](e,t):r.set(e,t,n)},e.hasClass=a.contains,e.addClass=a.add,e.removeClass=a.remove,e.toggleClass=a.toggle,e.replaceClass=a.replace,e._toDom=e.toDom=o.toDom,e.place=o.place,e.create=o.create,e.empty=function(e){o.empty(e)},e._destroyElement=e.destroy=function(e){o.destroy(e)},e._getPadExtents=e.getPadExtents=s.getPadExtents,e._getBorderExtents=e.getBorderExtents=s.getBorderExtents,e._getPadBorderExtents=e.getPadBorderExtents=s.getPadBorderExtents,e._getMarginExtents=e.getMarginExtents=s.getMarginExtents,e._getMarginSize=e.getMarginSize=s.getMarginSize,e._getMarginBox=e.getMarginBox=s.getMarginBox,e.setMarginBox=s.setMarginBox,e._getContentBox=e.getContentBox=s.getContentBox,e.setContentSize=s.setContentSize,e._isBodyLtr=e.isBodyLtr=s.isBodyLtr,e._docScroll=e.docScroll=s.docScroll,e._getIeDocumentElementOffset=e.getIeDocumentElementOffset=s.getIeDocumentElementOffset,e._fixIeBiDiScrollLeft=e.fixIeBiDiScrollLeft=s.fixIeBiDiScrollLeft,e.position=s.position,e.marginBox=function(e,t){return t?s.setMarginBox(e,t):s.getMarginBox(e)},e.contentBox=function(e,t){return t?s.setContentSize(e,t):s.getContentBox(e)},e.coords=function(r,i){e.deprecated("mojo.coords()","Use mojo.position() or mojo.marginBox()."),r=t.byId(r);var a=n.getComputedStyle(r),o=s.getMarginBox(r,a),u=s.position(r,i);return o.x=u.x,o.y=u.y,o},e.getProp=i.get,e.setProp=i.set,e.prop=function(e,t,n){return 2==arguments.length?i["string"==typeof t?"get":"set"](e,t):i.set(e,t,n)},e.getStyle=n.get,e.setStyle=n.set,e.getComputedStyle=n.getComputedStyle,e.__toPixelValue=e.toPixelValue=n.toPixelValue,e.style=function(e,t,r){switch(arguments.length){case 1:return n.get(e);case 2:return n["string"==typeof t?"get":"set"](e,t)}return n.set(e,t,r)},e})},"mojo/dom-attr":function(){define(["exports","./sniff","./_base/lang","./dom","./dom-style","./dom-prop"],function(e,t,n,r,i,a){function o(e,t){var n=e.getAttributeNode&&e.getAttributeNode(t);return n&&n.specified}var s={innerHTML:1,textContent:1,className:1,htmlFor:t("ie"),value:1},u={classname:"class",htmlfor:"for",tabindex:"tabIndex",readonly:"readOnly"};e.has=function(e,t){var n=t.toLowerCase();return s[a.names[n]||t]||o(r.byId(e),u[n]||t)},e.get=function(e,t){e=r.byId(e);var i=t.toLowerCase(),c=a.names[i]||t,l=s[c],d=e[c];if(l&&"undefined"!=typeof d)return d;if("textContent"==c)return a.get(e,c);if("href"!=c&&("boolean"==typeof d||n.isFunction(d)))return d;var f=u[i]||t;return o(e,f)?e.getAttribute(f):null},e.set=function(t,o,c){if(t=r.byId(t),2==arguments.length){for(var l in o)e.set(t,l,o[l]);return t}var d=o.toLowerCase(),f=a.names[d]||o,h=s[f];return"style"==f&&"string"!=typeof c?(i.set(t,c),t):h||"boolean"==typeof c||n.isFunction(c)?a.set(t,o,c):(t.setAttribute(u[d]||o,c),t)},e.remove=function(e,t){r.byId(e).removeAttribute(u[t.toLowerCase()]||t)},e.getNodeProp=function(e,t){e=r.byId(e);var n=t.toLowerCase(),i=a.names[n]||t;if(i in e&&"href"!=i)return e[i];var s=u[n]||t;return o(e,s)?e.getAttribute(s):null}})},"mojo/dom-prop":function(){define(["exports","./_base/kernel","./sniff","./_base/lang","./dom","./dom-style","./dom-construct","./_base/connect"],function(e,t,n,r,i,a,o,s){function u(e){for(var t,n="",r=e.childNodes,i=0;t=r[i];i++)8!=t.nodeType&&(n+=1==t.nodeType?u(t):t.nodeValue);return n}var c={},l=0,d=t._scopeName+"attrid";n.add("dom-textContent",function(e,t,n){return"textContent"in n}),e.names={"class":"className","for":"htmlFor",tabindex:"tabIndex",readonly:"readOnly",colspan:"colSpan",frameborder:"frameBorder",rowspan:"rowSpan",textcontent:"textContent",valuetype:"valueType"},e.get=function(t,r){t=i.byId(t);var a=r.toLowerCase(),o=e.names[a]||r;return"textContent"!=o||n("dom-textContent")?t[o]:u(t)},e.set=function(t,u,f){t=i.byId(t);var h=arguments.length;if(2==h&&"string"!=typeof u){for(var p in u)e.set(t,p,u[p]);return t}var g=u.toLowerCase(),m=e.names[g]||u;if("style"==m&&"string"!=typeof f)return a.set(t,f),t;if("innerHTML"==m)return n("ie")&&t.tagName.toLowerCase()in{col:1,colgroup:1,table:1,tbody:1,tfoot:1,thead:1,tr:1,title:1}?(o.empty(t),t.appendChild(o.toDom(f,t.ownerDocument))):t[m]=f,t;if("textContent"==m&&!n("dom-textContent"))return o.empty(t),t.appendChild(t.ownerDocument.createTextNode(f)),t;if(r.isFunction(f)){var v=t[d];v||(v=l++,t[d]=v),c[v]||(c[v]={});var _=c[v][m];if(_)s.disconnect(_);else try{delete t[m]}catch(b){}return f?c[v][m]=s.connect(t,m,f):t[m]=null,t}return t[m]=f,t}})},"mojo/dom-construct":function(){define(["exports","./_base/kernel","./sniff","./_base/window","./dom","./dom-attr"],function(e,t,n,r,i,a){function o(e,t){var n=t.parentNode;n&&n.insertBefore(e,t)}function s(e,t){var n=t.parentNode;n&&(n.lastChild==t?n.appendChild(e):n.insertBefore(e,t.nextSibling))}function u(e){if("innerHTML"in e)try{return void(e.innerHTML="")}catch(t){}for(var n;n=e.lastChild;)e.removeChild(n)}function c(e,t){e.firstChild&&u(e),t&&(n("ie")&&t.canHaveChildren&&"removeNode"in e?e.removeNode(!1):t.removeChild(e))}var l={option:["select"],tbody:["table"],thead:["table"],tfoot:["table"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","thead","tr"],legend:["fieldset"],caption:["table"],colgroup:["table"],col:["table","colgroup"],li:["ul"]},d=/<\s*([\w\:]+)/,f={},h=0,p="__"+t._scopeName+"ToDomId";for(var g in l)if(l.hasOwnProperty(g)){var m=l[g];m.pre="option"==g?'<select multiple="multiple">':"<"+m.join("><")+">",m.post="</"+m.reverse().join("></")+">"}var v;n("ie")<=8&&(v=function(e){e.__mojo_html5_tested="yes";var t=_("div",{innerHTML:"<nav>a</nav>",style:{visibility:"hidden"}},e.body);1!==t.childNodes.length&&"abbr article aside audio canvas details figcaption figure footer header hgroup mark meter nav output progress section summary time video".replace(/\b\w+\b/g,function(t){e.createElement(t)}),b(t)}),e.toDom=function(e,t){t=t||r.doc;var i=t[p];i||(t[p]=i=++h+"",f[i]=t.createElement("div")),n("ie")<=8&&!t.__mojo_html5_tested&&t.body&&v(t),e+="";var a,o,s,u,c=e.match(d),g=c?c[1].toLowerCase():"",m=f[i];if(c&&l[g])for(a=l[g],m.innerHTML=a.pre+e+a.post,o=a.length;o;--o)m=m.firstChild;else m.innerHTML=e;if(1==m.childNodes.length)return m.removeChild(m.firstChild);for(u=t.createDocumentFragment();s=m.firstChild;)u.appendChild(s);return u},e.place=function(t,n,r){if(n=i.byId(n),"string"==typeof t&&(t=/^\s*</.test(t)?e.toDom(t,n.ownerDocument):i.byId(t)),"number"==typeof r){var a=n.childNodes;!a.length||a.length<=r?n.appendChild(t):o(t,a[0>r?0:r])}else switch(r){case"before":o(t,n);break;case"after":s(t,n);break;case"replace":n.parentNode.replaceChild(t,n);break;case"only":e.empty(n),n.appendChild(t);break;case"first":if(n.firstChild){o(t,n.firstChild);break}default:n.appendChild(t)}return t};var _=e.create=function(t,n,o,s){var u=r.doc;return o&&(o=i.byId(o),u=o.ownerDocument),"string"==typeof t&&(t=u.createElement(t)),n&&a.set(t,n),o&&e.place(t,o,s),t};e.empty=function(e){u(i.byId(e))};var b=e.destroy=function(e){e=i.byId(e),e&&c(e,e.parentNode)}})},"mojo/dom-class":function(){define(["./_base/lang","./_base/array","./dom"],function(e,t,n){function r(e){if("string"==typeof e||e instanceof String){if(e&&!o.test(e))return s[0]=e,s;var n=e.split(o);return n.length&&!n[0]&&n.shift(),n.length&&!n[n.length-1]&&n.pop(),n}return e?t.filter(e,function(e){return e}):[]}var i,a="className",o=/\s+/,s=[""],u={};return i={contains:function(e,t){return(" "+n.byId(e)[a]+" ").indexOf(" "+t+" ")>=0},add:function(e,t){e=n.byId(e),t=r(t);var i,o=e[a];o=o?" "+o+" ":" ",i=o.length;for(var s,u=0,c=t.length;c>u;++u)s=t[u],s&&o.indexOf(" "+s+" ")<0&&(o+=s+" ");i<o.length&&(e[a]=o.substr(1,o.length-2))},remove:function(t,i){t=n.byId(t);var o;if(void 0!==i){i=r(i),o=" "+t[a]+" ";for(var s=0,u=i.length;u>s;++s)o=o.replace(" "+i[s]+" "," ");o=e.trim(o)}else o="";t[a]!=o&&(t[a]=o)},replace:function(e,t,r){e=n.byId(e),u[a]=e[a],i.remove(u,r),i.add(u,t),e[a]!==u[a]&&(e[a]=u[a])},toggle:function(e,t,a){if(e=n.byId(e),void 0===a){t=r(t);for(var o,s=0,u=t.length;u>s;++s)o=t[s],i[i.contains(e,o)?"remove":"add"](e,o)}else i[a?"add":"remove"](e,t);return a}}})},"mojo/_base/NodeList":function(){define(["./kernel","../query","./array","./html","../NodeList-dom"],function(e,t,n){var r=t.NodeList,i=r.prototype;return i.connect=r._adaptAsForEach(function(){return e.connect.apply(this,arguments)}),i.coords=r._adaptAsMap(e.coords),r.events=["blur","focus","change","click","error","keydown","keypress","keyup","load","mousedown","mouseenter","mouseleave","mousemove","mouseout","mouseover","mouseup","submit"],n.forEach(r.events,function(e){var t="on"+e;i[t]=function(e,n){return this.connect(t,e,n)}}),e.NodeList=r,r})},"mojo/query":function(){define(["./_base/kernel","./has","./dom","./on","./_base/array","./_base/lang","./selector/_loader","./selector/_loader!default"],function(e,t,n,r,i,a,o,s){"use strict";function u(e,t){var r=function(r,i){if("string"==typeof i&&(i=n.byId(i),!i))return new t([]);var a="string"==typeof r?e(r,i):r?r.end&&r.on?r:[r]:[];return a.end&&a.on?a:new t(a)};if(r.matches=e.match||function(e,t,n){return r.filter([e],t,n).length>0},r.filter=e.filter||function(e,t,n){return r(t,n).filter(function(t){return i.indexOf(e,t)>-1})},"function"!=typeof e){var a=e.search;e=function(e,t){return a(t||document,e)}}return r}t.add("array-extensible",function(){return 1==a.delegate([],{length:1}).length&&!t("bug-for-in-skips-shadowed")});var c=Array.prototype,l=c.slice,d=c.concat,f=i.forEach,h=function(e,t,n){var r=new(n||this._NodeListCtor||y)(e);return t?r._stash(t):r},p=function(t,n,r){return n=[0].concat(l.call(n,0)),r=r||e.global,function(e){return n[0]=e,t.apply(r,n)}},g=function(e,t){return function(){return this.forEach(p(e,arguments,t)),this}},m=function(e,t){return function(){return this.map(p(e,arguments,t))}},v=function(e,t){return function(){return this.filter(p(e,arguments,t))}},_=function(t,n,r){return function(){var i=arguments,a=p(t,i,r);return n.call(r||e.global,i)?this.map(a):(this.forEach(a),this)}},b=function(e){var n=this instanceof y&&t("array-extensible");"number"==typeof e&&(e=Array(e));var r=e&&"length"in e?e:arguments;if(n||!r.sort){for(var i=n?this:[],o=i.length=r.length,s=0;o>s;s++)i[s]=r[s];if(n)return i;r=i}return a._mixin(r,C),r._NodeListCtor=function(e){return y(e)},r},y=b,C=y.prototype=t("array-extensible")?[]:{};y._wrap=C._wrap=h,y._adaptAsMap=m,y._adaptAsForEach=g,y._adaptAsFilter=v,y._adaptWithCondition=_,f(["slice","splice"],function(e){var t=c[e];C[e]=function(){return this._wrap(t.apply(this,arguments),"slice"==e?this:null)}}),f(["indexOf","lastIndexOf","every","some"],function(t){var n=i[t];C[t]=function(){return n.apply(e,[this].concat(l.call(arguments,0)))}}),a.extend(b,{constructor:y,_NodeListCtor:y,toString:function(){return this.join(",")},_stash:function(e){return this._parent=e,this},on:function(e,t){var n=this.map(function(n){return r(n,e,t)});return n.remove=function(){for(var e=0;e<n.length;e++)n[e].remove()},n},end:function(){return this._parent?this._parent:new this._NodeListCtor(0)},concat:function(){var e=l.call(this,0),t=i.map(arguments,function(e){return l.call(e,0)});return this._wrap(d.apply(e,t),this)},map:function(e,t){return this._wrap(i.map(this,e,t),this)},forEach:function(e,t){return f(this,e,t),this},filter:function(e){var t=arguments,n=this,r=0;if("string"==typeof e){if(n=E._filterResult(this,t[0]),1==t.length)return n._stash(this);r=1}return this._wrap(i.filter(n,t[r],t[r+1]),this)},instantiate:function(e,t){var n=a.isFunction(e)?e:a.getObject(e);return t=t||{},this.forEach(function(e){new n(t,e)})},at:function(){var e=new this._NodeListCtor(0);return f(arguments,function(t){0>t&&(t=this.length+t),this[t]&&e.push(this[t])},this),e._stash(this)}});var E=u(s,b);return e.query=u(s,function(e){return b(e)}),E.load=function(e,t,n){o.load(e,t,function(e){n(u(e,b))})},e._filterQueryResult=E._filterResult=function(e,t,n){return new b(E.filter(e,t,n))},e.NodeList=E.NodeList=b,E})},"mojo/selector/_loader":function(){define(["../has","require"],function(e,t){"use strict";var n=document.createElement("div");e.add("dom-qsa2.1",!!n.querySelectorAll),e.add("dom-qsa3",function(){try{return n.innerHTML="<p class='TEST'></p>",1==n.querySelectorAll(".TEST:empty").length}catch(e){}});var r,i="./acme",a="./lite";return{load:function(n,o,s){var u=t;if(n="default"==n?e("config-selectorEngine")||"css3":n,n="css2"==n||"lite"==n?a:"css2.1"==n?e("dom-qsa2.1")?a:i:"css3"==n?e("dom-qsa3")?a:i:"acme"==n?i:(u=o)&&n,"?"==n.charAt(n.length-1)){n=n.substring(0,n.length-1);var c=!0}return c&&(e("dom-compliant-qsa")||r)?s(r):void u([n],function(e){"./lite"!=n&&(r=e),s(e)})}}})},"mojo/NodeList-dom":function(){define(["./_base/kernel","./query","./_base/array","./_base/lang","./dom-class","./dom-construct","./dom-geometry","./dom-attr","./dom-style"],function(e,t,n,r,i,a,o,s,u){function c(e){return function(t,n,r){return 2==arguments.length?e["string"==typeof n?"get":"set"](t,n):e.set(t,n,r)}}var l=function(e){return 1==e.length&&"string"==typeof e[0]},d=function(e){var t=e.parentNode;t&&t.removeChild(e)},f=t.NodeList,h=f._adaptWithCondition,p=f._adaptAsForEach,g=f._adaptAsMap;return r.extend(f,{_normalize:function(t,n){var i=t.parse===!0;if("string"==typeof t.template){var o=t.templateFunc||e.string&&e.string.substitute;t=o?o(t.template,t):t}var s=typeof t;return"string"==s||"number"==s?(t=a.toDom(t,n&&n.ownerDocument),t=11==t.nodeType?r._toArray(t.childNodes):[t]):r.isArrayLike(t)?r.isArray(t)||(t=r._toArray(t)):t=[t],i&&(t._runParse=!0),t},_cloneNode:function(e){return e.cloneNode(!0)},_place:function(t,n,r,i){if(1==n.nodeType||"only"!=r)for(var o,s=n,u=t.length,c=u-1;c>=0;c--){var l=i?this._cloneNode(t[c]):t[c];if(t._runParse&&e.parser&&e.parser.parse)for(o||(o=s.ownerDocument.createElement("div")),o.appendChild(l),e.parser.parse(o),l=o.firstChild;o.firstChild;)o.removeChild(o.firstChild);c==u-1?a.place(l,s,r):s.parentNode.insertBefore(l,s),s=l}},position:g(o.position),attr:h(c(s),l),style:h(c(u),l),addClass:p(i.add),removeClass:p(i.remove),toggleClass:p(i.toggle),replaceClass:p(i.replace),empty:p(a.empty),removeAttr:p(s.remove),marginBox:g(o.getMarginBox),place:function(e,n){var r=t(e)[0];return this.forEach(function(e){a.place(e,r,n)})},orphan:function(e){return(e?t._filterResult(this,e):this).forEach(d)},adopt:function(e,n){return t(e).place(this[0],n)._stash(this)},query:function(e){if(!e)return this;var n=new f;return this.map(function(r){t(e,r).forEach(function(e){void 0!==e&&n.push(e)})}),n._stash(this)},filter:function(e){var r=arguments,i=this,a=0;if("string"==typeof e){if(i=t._filterResult(this,r[0]),1==r.length)return i._stash(this);a=1}return this._wrap(n.filter(i,r[a],r[a+1]),this)},addContent:function(e,t){e=this._normalize(e,this[0]);for(var n,r=0;n=this[r];r++)e.length?this._place(e,n,t,r>0):a.empty(n);return this}}),f})},"mojo/_base/xhr":function(){define(["./kernel","./sniff","require","../io-query","../dom","../dom-form","./Deferred","./config","./json","./lang","./array","../on","../aspect","../request/watch","../request/xhr","../request/util"],function(e,t,n,r,i,a,o,s,u,c,l,d,f,h,p,g){e._xhrObj=p._create;var m=e.config;e.objectToQuery=r.objectToQuery,e.queryToObject=r.queryToObject,e.fieldToObject=a.fieldToObject,e.formToObject=a.toObject,e.formToQuery=a.toQuery,e.formToJson=a.toJson,e._blockAsync=!1;var v=e._contentHandlers=e.contentHandlers={text:function(e){return e.responseText},json:function(e){return u.fromJson(e.responseText||null)},"json-comment-filtered":function(e){s.useCommentedJson||console.warn("Consider using the standard mimetype:application/json. json-commenting can introduce security issues. To decrease the chances of hijacking, use the standard the 'json' handler and prefix your json with: {}&&\nUse djConfig.useCommentedJson=true to turn off this message.");var t=e.responseText,n=t.indexOf("/*"),r=t.lastIndexOf("*/");if(-1==n||-1==r)throw new Error("JSON was not comment filtered");return u.fromJson(t.substring(n+2,r))},javascript:function(t){return e.eval(t.responseText)},xml:function(e){var n=e.responseXML;if(n&&t("dom-qsa2.1")&&!n.querySelectorAll&&t("dom-parser")&&(n=(new DOMParser).parseFromString(e.responseText,"application/xml")),t("ie")&&(!n||!n.documentElement)){var r=function(e){return"MSXML"+e+".DOMDocument"},i=["Microsoft.XMLDOM",r(6),r(4),r(3),r(2)];l.some(i,function(t){try{var r=new ActiveXObject(t);r.async=!1,r.loadXML(e.responseText),n=r}catch(i){return!1}return!0})}return n},"json-comment-optional":function(e){return e.responseText&&/^[^{\[]*\/\*/.test(e.responseText)?v["json-comment-filtered"](e):v.json(e)}};e._ioSetArgs=function(t,n,s,u){var l={args:t,url:t.url},d=null;if(t.form){var f=i.byId(t.form),h=f.getAttributeNode("action");l.url=l.url||(h?h.value:null),d=a.toObject(f)}var p=[{}];d&&p.push(d),t.content&&p.push(t.content),t.preventCache&&p.push({"mojo.preventCache":(new Date).valueOf()}),l.query=r.objectToQuery(c.mixin.apply(null,p)),l.handleAs=t.handleAs||"text";var g=new o(function(e){e.canceled=!0,n&&n(e);var t=e.ioArgs.error;return t||(t=new Error("request cancelled"),t.mojoType="cancel",e.ioArgs.error=t),t});g.addCallback(s);var v=t.load;v&&c.isFunction(v)&&g.addCallback(function(e){return v.call(t,e,l)});var _=t.error;_&&c.isFunction(_)&&g.addErrback(function(e){return _.call(t,e,l)});var b=t.handle;return b&&c.isFunction(b)&&g.addBoth(function(e){return b.call(t,e,l)}),g.addErrback(function(e){return u(e,g)}),m.ioPublish&&e.publish&&l.args.ioPublish!==!1&&(g.addCallbacks(function(t){return e.publish("/mojo/io/load",[g,t]),t},function(t){return e.publish("/mojo/io/error",[g,t]),t}),g.addBoth(function(t){return e.publish("/mojo/io/done",[g,t]),t})),g.ioArgs=l,g};var _=function(e){var t=v[e.ioArgs.handleAs](e.ioArgs.xhr);return void 0===t?null:t},b=function(e,t){return t.ioArgs.args.failOk||console.error(e),e},y=function(t){0>=C&&(C=0,m.ioPublish&&e.publish&&(!t||t&&t.ioArgs.args.ioPublish!==!1)&&e.publish("/mojo/io/stop"))},C=0;f.after(h,"_onAction",function(){C-=1}),f.after(h,"_onInFlight",y),e._ioCancelAll=h.cancelAll,e._ioNotifyStart=function(t){m.ioPublish&&e.publish&&t.ioArgs.args.ioPublish!==!1&&(C||e.publish("/mojo/io/start"),C+=1,e.publish("/mojo/io/send",[t]))},e._ioWatch=function(e,t,n,r){e.ioArgs.options=e.ioArgs.args;c.mixin(e,{response:e.ioArgs,isValid:function(){return t(e)},isReady:function(){return n(e)},handleResponse:function(){return r(e)}}),h(e),y(e)};return e._ioAddQueryToUrl=function(e){e.query.length&&(e.url+=(-1==e.url.indexOf("?")?"?":"&")+e.query,e.query=null)},e.xhr=function(t,n,r){var i,a=e._ioSetArgs(n,function(){i&&i.cancel()},_,b),o=a.ioArgs;"postData"in n?o.query=n.postData:"putData"in n?o.query=n.putData:"rawBody"in n?o.query=n.rawBody:(arguments.length>2&&!r||-1==="POST|PUT".indexOf(t.toUpperCase()))&&e._ioAddQueryToUrl(o);var s={method:t,handleAs:"text",timeout:n.timeout,withCredentials:n.withCredentials,ioArgs:o};"undefined"!=typeof n.headers&&(s.headers=n.headers),"undefined"!=typeof n.contentType&&(s.headers||(s.headers={}),s.headers["Content-Type"]=n.contentType),"undefined"!=typeof o.query&&(s.data=o.query),"undefined"!=typeof n.sync&&(s.sync=n.sync),e._ioNotifyStart(a);try{i=p(o.url,s,!0)}catch(u){return a.cancel(),a}return a.ioArgs.xhr=i.response.xhr,i.then(function(){a.resolve(a)}).otherwise(function(e){o.error=e,e.response&&(e.status=e.response.status,e.responseText=e.response.text,e.xhr=e.response.xhr),a.reject(e)}),a},e.xhrGet=function(t){return e.xhr("GET",t)},e.rawXhrPost=e.xhrPost=function(t){return e.xhr("POST",t,!0)},e.rawXhrPut=e.xhrPut=function(t){return e.xhr("PUT",t,!0)},e.xhrDelete=function(t){return e.xhr("DELETE",t)},e._isDocumentOk=function(e){return g.checkStatus(e.status)},e._getText=function(t){var n;return e.xhrGet({url:t,sync:!0,load:function(e){n=e}}),n},c.mixin(e.xhr,{_xhrObj:e._xhrObj,fieldToObject:a.fieldToObject,formToObject:a.toObject,objectToQuery:r.objectToQuery,formToQuery:a.toQuery,formToJson:a.toJson,queryToObject:r.queryToObject,contentHandlers:v,_ioSetArgs:e._ioSetArgs,_ioCancelAll:e._ioCancelAll,_ioNotifyStart:e._ioNotifyStart,_ioWatch:e._ioWatch,_ioAddQueryToUrl:e._ioAddQueryToUrl,_isDocumentOk:e._isDocumentOk,_getText:e._getText,get:e.xhrGet,post:e.xhrPost,put:e.xhrPut,del:e.xhrDelete}),e.xhr})},"mojo/io-query":function(){define(["./_base/lang"],function(e){var t={};return{objectToQuery:function(n){var r=encodeURIComponent,i=[];for(var a in n){var o=n[a];if(o!=t[a]){var s=r(a)+"=";if(e.isArray(o))for(var u=0,c=o.length;c>u;++u)i.push(s+r(o[u]));else i.push(s+r(o))}}return i.join("&")},queryToObject:function(t){for(var n,r,i,a=decodeURIComponent,o=t.split("&"),s={},u=0,c=o.length;c>u;++u)if(i=o[u],i.length){var l=i.indexOf("=");0>l?(n=a(i),r=""):(n=a(i.slice(0,l)),r=a(i.slice(l+1))),"string"==typeof s[n]&&(s[n]=[s[n]]),e.isArray(s[n])?s[n].push(r):s[n]=r}return s}}})},"mojo/dom-form":function(){define(["./_base/lang","./dom","./io-query","./json"],function(e,t,n,r){function i(t,n,r){if(null!==r){var i=t[n];"string"==typeof i?t[n]=[i,r]:e.isArray(i)?i.push(r):t[n]=r}}var a="file|submit|image|reset|button",o={fieldToObject:function(e){var n=null;if(e=t.byId(e)){var r=e.name,i=(e.type||"").toLowerCase();if(r&&i&&!e.disabled)if("radio"==i||"checkbox"==i)e.checked&&(n=e.value);else if(e.multiple){n=[];for(var a=[e.firstChild];a.length;)for(var o=a.pop();o;o=o.nextSibling){if(1!=o.nodeType||"option"!=o.tagName.toLowerCase()){o.nextSibling&&a.push(o.nextSibling),o.firstChild&&a.push(o.firstChild);break}o.selected&&n.push(o.value)}}else n=e.value}return n},toObject:function(e){for(var n={},r=t.byId(e).elements,s=0,u=r.length;u>s;++s){var c=r[s],l=c.name,d=(c.type||"").toLowerCase();l&&d&&a.indexOf(d)<0&&!c.disabled&&(i(n,l,o.fieldToObject(c)),"image"==d&&(n[l+".x"]=n[l+".y"]=n[l].x=n[l].y=0))}return n},toQuery:function(e){return n.objectToQuery(o.toObject(e))},toJson:function(e,t){return r.stringify(o.toObject(e),null,t?4:0)}};return o})},"mojo/request/watch":function(){define(["./util","../errors/RequestTimeoutError","../errors/CancelError","../_base/array","../_base/window","../has!host-browser?dom-addeventlistener?:../on:"],function(e,t,n,r,i,a){function o(){for(var e,n=+new Date,r=0;r<c.length&&(e=c[r]);r++){var i=e.response,a=i.options;e.isCanceled&&e.isCanceled()||e.isValid&&!e.isValid(i)?(c.splice(r--,1),s._onAction&&s._onAction()):e.isReady&&e.isReady(i)?(c.splice(r--,1),e.handleResponse(i),s._onAction&&s._onAction()):e.startTime&&e.startTime+(a.timeout||0)<n&&(c.splice(r--,1),e.cancel(new t("Timeout exceeded",i)),s._onAction&&s._onAction())}s._onInFlight&&s._onInFlight(e),c.length||(clearInterval(u),u=null)}function s(e){e.response.options.timeout&&(e.startTime=+new Date),e.isFulfilled()||(c.push(e),u||(u=setInterval(o,50)),e.response.options.sync&&o())}var u=null,c=[];return s.cancelAll=function(){try{r.forEach(c,function(e){try{e.cancel(new n("All requests canceled."))}catch(t){}})}catch(e){}},i&&a&&i.doc.attachEvent&&a(i.global,"unload",function(){s.cancelAll()}),s})},"mojo/request/util":function(){define(["exports","../errors/RequestError","../errors/CancelError","../Deferred","../io-query","../_base/array","../_base/lang","../promise/Promise"],function(e,t,n,r,i,a,o,s){function u(e){return l(e)}function c(e){return e.data||e.text}e.deepCopy=function(t,n){for(var r in n){var i=t[r],a=n[r];i!==a&&(i&&"object"==typeof i&&a&&"object"==typeof a?e.deepCopy(i,a):t[r]=a)}return t},e.deepCreate=function(t,n){n=n||{};var r,i,a=o.delegate(t);for(r in t)i=t[r],i&&"object"==typeof i&&(a[r]=e.deepCreate(i,n[r]));return e.deepCopy(a,n)};var l=Object.freeze||function(e){return e};e.deferred=function(i,a,d,f,h,p){function g(e){throw e.response=i,e}var m=new r(function(e){return a&&a(m,i),e&&(e instanceof t||e instanceof n)?e:new n("Request canceled",i)});m.response=i,m.isValid=d,m.isReady=f,m.handleResponse=h;var v=m.then(u).otherwise(g);e.notify&&v.then(o.hitch(e.notify,"emit","load"),o.hitch(e.notify,"emit","error"));var _=v.then(c),b=new s;for(var y in _)_.hasOwnProperty(y)&&(b[y]=_[y]);return b.response=v,l(b),p&&m.then(function(e){p.call(m,e)},function(e){p.call(m,i,e)}),m.promise=b,m.then=b.then,m},e.addCommonMethods=function(e,t){a.forEach(t||["GET","POST","PUT","DELETE"],function(t){e[("DELETE"===t?"DEL":t).toLowerCase()]=function(n,r){return r=o.delegate(r||{}),r.method=t,e(n,r)}})},e.parseArgs=function(e,t,n){var r=t.data,a=t.query;return r&&!n&&"object"==typeof r&&(t.data=i.objectToQuery(r)),a?("object"==typeof a&&(a=i.objectToQuery(a)),t.preventCache&&(a+=(a?"&":"")+"request.preventCache="+ +new Date)):t.preventCache&&(a="request.preventCache="+ +new Date),e&&a&&(e+=(~e.indexOf("?")?"&":"?")+a),{url:e,options:t,getHeader:function(){return null}}},e.checkStatus=function(e){return e=e||0,e>=200&&300>e||304===e||1223===e||!e}})},"mojo/errors/RequestError":function(){define(["./create"],function(e){return e("RequestError",function(e,t){this.response=t})})},"mojo/errors/RequestTimeoutError":function(){define(["./create","./RequestError"],function(e,t){return e("RequestTimeoutError",null,t,{mojoType:"timeout"})})},"mojo/request/xhr":function(){define(["../errors/RequestError","./watch","./handlers","./util","../has"],function(e,t,n,r,i){function a(t,i){var a=t.xhr;t.status=t.xhr.status;try{t.text=a.responseText}catch(o){}if("xml"===t.options.handleAs&&(t.data=a.responseXML),!i)try{n(t)}catch(o){i=o}i?this.reject(i):r.checkStatus(a.status)?this.resolve(t):(i=new e("Unable to load "+t.url+" status: "+a.status,t),this.reject(i))}function o(e){return this.xhr.getResponseHeader(e)}function s(n,g,m){var v=i("native-formdata")&&g&&g.data&&g.data instanceof FormData,_=r.parseArgs(n,r.deepCreate(p,g),v);n=_.url,g=_.options;var b,y=function(){b&&b()},C=r.deferred(_,d,u,c,a,y),E=_.xhr=s._create();if(!E)return C.cancel(new e("XHR was not created")),m?C:C.promise;_.getHeader=o,l&&(b=l(E,C,_));var w=g.data,T=!g.sync,x=g.method;try{E.open(x,n,T,g.user||h,g.password||h),g.withCredentials&&(E.withCredentials=g.withCredentials),i("native-response-type")&&g.handleAs in f&&(E.responseType=g.handleAs);var I=g.headers,S=v?!1:"application/x-www-form-urlencoded";if(I)for(var O in I)"content-type"===O.toLowerCase()?S=I[O]:I[O]&&E.setRequestHeader(O,I[O]);S&&S!==!1&&E.setRequestHeader("Content-Type",S),I&&"X-Requested-With"in I||E.setRequestHeader("X-Requested-With","XMLHttpRequest"),r.notify&&r.notify.emit("send",_,C.promise.cancel),E.send(w)}catch(N){C.reject(N)}return t(C),E=null,m?C:C.promise}i.add("native-xhr",function(){return"undefined"!=typeof XMLHttpRequest}),i.add("mojo-force-activex-xhr",function(){return i("activex")&&!document.addEventListener&&"file:"===window.location.protocol}),i.add("native-xhr2",function(){if(i("native-xhr")){var e=new XMLHttpRequest;return"undefined"!=typeof e.addEventListener&&("undefined"==typeof opera||"undefined"!=typeof e.upload)}}),i.add("native-formdata",function(){return"undefined"!=typeof FormData}),i.add("native-response-type",function(){return i("native-xhr")&&"undefined"!=typeof(new XMLHttpRequest).responseType});var u,c,l,d,f={blob:1,document:1,arraybuffer:1};i("native-xhr2")?(u=function(){return!this.isFulfilled()},d=function(e,t){t.xhr.abort()},l=function(t,n,r){function i(){n.handleResponse(r)}function a(t){var i=t.target,a=new e("Unable to load "+r.url+" status: "+i.status,r);n.handleResponse(r,a)}function o(e){e.lengthComputable?(r.loaded=e.loaded,r.total=e.total,n.progress(r)):3===r.xhr.readyState&&(r.loaded=e.position,n.progress(r))}return t.addEventListener("load",i,!1),t.addEventListener("error",a,!1),t.addEventListener("progress",o,!1),function(){t.removeEventListener("load",i,!1),t.removeEventListener("error",a,!1),t.removeEventListener("progress",o,!1),t=null}}):(u=function(e){return e.xhr.readyState},c=function(e){return 4===e.xhr.readyState},d=function(e,t){var n=t.xhr,r=typeof n.abort;("function"===r||"object"===r||"unknown"===r)&&n.abort()});var h,p={data:null,query:null,sync:!1,method:"GET"};if(s._create=function(){throw new Error("XMLHTTP not available")},i("native-xhr")&&!i("mojo-force-activex-xhr"))s._create=function(){return new XMLHttpRequest};else if(i("activex"))try{new ActiveXObject("Msxml2.XMLHTTP"),s._create=function(){return new ActiveXObject("Msxml2.XMLHTTP")}}catch(g){try{new ActiveXObject("Microsoft.XMLHTTP"),s._create=function(){return new ActiveXObject("Microsoft.XMLHTTP")}}catch(g){}}return r.addCommonMethods(s),s})},"mojo/request/handlers":function(){define(["../json","../_base/kernel","../_base/array","../has","../selector/_loader"],function(e,t,n,r){function i(e){var t=c[e.options.handleAs];return e.data=t?t(e):e.data||e.text,e}r.add("activex","undefined"!=typeof ActiveXObject),r.add("dom-parser",function(e){return"DOMParser"in e});var a;if(r("activex")){var o,s=["Msxml2.DOMDocument.6.0","Msxml2.DOMDocument.4.0","MSXML2.DOMDocument.3.0","MSXML.DOMDocument"];a=function(e){function t(e){try{var t=new ActiveXObject(e);t.async=!1,t.loadXML(a),i=t,o=e}catch(n){return!1}return!0}var i=e.data,a=e.text;return i&&r("dom-qsa2.1")&&!i.querySelectorAll&&r("dom-parser")&&(i=(new DOMParser).parseFromString(a,"application/xml")),i&&i.documentElement||o&&t(o)||n.some(s,t),i}}var u=function(e){return e.xhr.response},c={javascript:function(e){return t.eval(e.text||"")
},json:function(t){return e.parse(t.text||null)},xml:a,blob:u,arraybuffer:u,document:u};return i.register=function(e,t){c[e]=t},i})},"mojo/_base/fx":function(){define(["./kernel","./config","./lang","../Evented","./Color","../aspect","../sniff","../dom","../dom-style"],function(e,t,n,r,i,a,o,s,u){var c=n.mixin,l={},d=l._Line=function(e,t){this.start=e,this.end=t};d.prototype.getValue=function(e){return(this.end-this.start)*e+this.start};var f=l.Animation=function(e){c(this,e),n.isArray(this.curve)&&(this.curve=new d(this.curve[0],this.curve[1]))};f.prototype=new r,n.extend(f,{duration:350,repeat:0,rate:20,_percent:0,_startRepeatCount:0,_getStep:function(){var e=this._percent,t=this.easing;return t?t(e):e},_fire:function(e,n){var r=n||[];if(this[e])if(t.debugAtAllCosts)this[e].apply(this,r);else try{this[e].apply(this,r)}catch(i){console.error("exception in animation handler for:",e),console.error(i)}return this},play:function(e,t){var r=this;if(r._delayTimer&&r._clearTimer(),t)r._stopTimer(),r._active=r._paused=!1,r._percent=0;else if(r._active&&!r._paused)return r;r._fire("beforeBegin",[r.node]);var i=e||r.delay,a=n.hitch(r,"_play",t);return i>0?(r._delayTimer=setTimeout(a,i),r):(a(),r)},_play:function(){var e=this;e._delayTimer&&e._clearTimer(),e._startTime=(new Date).valueOf(),e._paused&&(e._startTime-=e.duration*e._percent),e._active=!0,e._paused=!1;var t=e.curve.getValue(e._getStep());return e._percent||(e._startRepeatCount||(e._startRepeatCount=e.repeat),e._fire("onBegin",[t])),e._fire("onPlay",[t]),e._cycle(),e},pause:function(){var e=this;return e._delayTimer&&e._clearTimer(),e._stopTimer(),e._active?(e._paused=!0,e._fire("onPause",[e.curve.getValue(e._getStep())]),e):e},gotoPercent:function(e,t){var n=this;return n._stopTimer(),n._active=n._paused=!0,n._percent=e,t&&n.play(),n},stop:function(e){var t=this;return t._delayTimer&&t._clearTimer(),t._timer?(t._stopTimer(),e&&(t._percent=1),t._fire("onStop",[t.curve.getValue(t._getStep())]),t._active=t._paused=!1,t):t},destroy:function(){this.stop()},status:function(){return this._active?this._paused?"paused":"playing":"stopped"},_cycle:function(){var e=this;if(e._active){var t=(new Date).valueOf(),n=0===e.duration?1:(t-e._startTime)/e.duration;n>=1&&(n=1),e._percent=n,e.easing&&(n=e.easing(n)),e._fire("onAnimate",[e.curve.getValue(n)]),e._percent<1?e._startTimer():(e._active=!1,e.repeat>0?(e.repeat--,e.play(null,!0)):-1==e.repeat?e.play(null,!0):e._startRepeatCount&&(e.repeat=e._startRepeatCount,e._startRepeatCount=0),e._percent=0,e._fire("onEnd",[e.node]),!e.repeat&&e._stopTimer())}return e},_clearTimer:function(){clearTimeout(this._delayTimer),delete this._delayTimer}});var h=0,p=null,g={run:function(){}};n.extend(f,{_startTimer:function(){this._timer||(this._timer=a.after(g,"run",n.hitch(this,"_cycle"),!0),h++),p||(p=setInterval(n.hitch(g,"run"),this.rate))},_stopTimer:function(){this._timer&&(this._timer.remove(),this._timer=null,h--),0>=h&&(clearInterval(p),p=null,h=0)}});var m=o("ie")?function(e){var t=e.style;t.width.length||"auto"!=u.get(e,"width")||(t.width="auto")}:function(){};l._fade=function(e){e.node=s.byId(e.node);var t=c({properties:{}},e),r=t.properties.opacity={};r.start="start"in t?t.start:function(){return+u.get(t.node,"opacity")||0},r.end=t.end;var i=l.animateProperty(t);return a.after(i,"beforeBegin",n.partial(m,t.node),!0),i},l.fadeIn=function(e){return l._fade(c({end:1},e))},l.fadeOut=function(e){return l._fade(c({end:0},e))},l._defaultEasing=function(e){return.5+Math.sin((e+1.5)*Math.PI)/2};var v=function(e){this._properties=e;for(var t in e){var n=e[t];n.start instanceof i&&(n.tempColor=new i)}};return v.prototype.getValue=function(e){var t={};for(var r in this._properties){var a=this._properties[r],o=a.start;o instanceof i?t[r]=i.blendColors(o,a.end,e,a.tempColor).toCss():n.isArray(o)||(t[r]=(a.end-o)*e+o+("opacity"!=r?a.units||"px":0))}return t},l.animateProperty=function(t){var r=t.node=s.byId(t.node);t.easing||(t.easing=e._defaultEasing);var o=new f(t);return a.after(o,"beforeBegin",n.hitch(o,function(){function e(e,t){var n={height:e.offsetHeight,width:e.offsetWidth}[t];return void 0!==n?n:(n=u.get(e,t),"opacity"==t?+n:s?n:parseFloat(n))}var t={};for(var a in this.properties){("width"==a||"height"==a)&&(this.node.display="block");var o=this.properties[a];n.isFunction(o)&&(o=o(r)),o=t[a]=c({},n.isObject(o)?o:{end:o}),n.isFunction(o.start)&&(o.start=o.start(r)),n.isFunction(o.end)&&(o.end=o.end(r));var s=a.toLowerCase().indexOf("color")>=0;"end"in o?"start"in o||(o.start=e(r,a)):o.end=e(r,a),s?(o.start=new i(o.start),o.end=new i(o.end)):o.start="opacity"==a?+o.start:parseFloat(o.start)}this.curve=new v(t)}),!0),a.after(o,"onAnimate",n.hitch(u,"set",o.node),!0),o},l.anim=function(e,t,n,r,i,a){return l.animateProperty({node:e,duration:n||f.prototype.duration,properties:t,easing:r,onEnd:i}).play(a||0)},c(e,l),e._Animation=f,l})},"mojo/_base/loader":function(){define(["./kernel","../has","require","module","../json","./lang","./array"],function(mojo,has,require,thisModule,json,lang,array){var makeErrorToken=function(e){return{src:thisModule.id,id:e}},slashName=function(e){return e.replace(/\./g,"/")},buildDetectRe=/\/\/>>built/,mojoRequireCallbacks=[],mojoRequireModuleStack=[],mojoRequirePlugin=function(e,t,n){mojoRequireCallbacks.push(n),array.forEach(e.split(","),function(e){var n=getModule(e,t.module);mojoRequireModuleStack.push(n),injectModule(n)}),checkDojoRequirePlugin()},checkDojoRequirePlugin=function(){var e,t;for(t in modules)if(e=modules[t],void 0===e.noReqPluginCheck&&(e.noReqPluginCheck=/loadInit\!/.test(t)||/require\!/.test(t)?1:0),!e.executed&&!e.noReqPluginCheck&&e.injected==requested)return;guardCheckComplete(function(){var e=mojoRequireCallbacks;mojoRequireCallbacks=[],array.forEach(e,function(e){e(1)})})},mojoLoadInitPlugin=function(mid,require,loaded){require([mid],function(bundle){require(bundle.names,function(){for(var scopeText="",args=[],i=0;i<arguments.length;i++)scopeText+="var "+bundle.names[i]+"= arguments["+i+"]; ",args.push(arguments[i]);eval(scopeText);var callingModule=require.module,requireList=[],i18nDeps,syncLoaderApi={provide:function(e){e=slashName(e);var t=getModule(e,callingModule);t!==callingModule&&setArrived(t)},require:function(e,t){e=slashName(e),t&&(getModule(e,callingModule).result=nonmodule),requireList.push(e)},requireLocalization:function(e,t,n){i18nDeps||(i18nDeps=["mojo/i18n"]),n=(n||mojo.locale).toLowerCase(),e=slashName(e)+"/nls/"+(/root/i.test(n)?"":n+"/")+slashName(t),getModule(e,callingModule).isXd&&i18nDeps.push("mojo/i18n!"+e)},loadInit:function(e){e()}},hold={},p;try{for(p in syncLoaderApi)hold[p]=mojo[p],mojo[p]=syncLoaderApi[p];bundle.def.apply(null,args)}catch(e){signal("error",[makeErrorToken("failedDojoLoadInit"),e])}finally{for(p in syncLoaderApi)mojo[p]=hold[p]}i18nDeps&&(requireList=requireList.concat(i18nDeps)),requireList.length?mojoRequirePlugin(requireList.join(","),require,loaded):loaded()})})},extractApplication=function(e,t,n){var r,i=/\(|\)/g,a=1;for(i.lastIndex=t;(r=i.exec(e))&&(")"==r[0]?a-=1:a+=1,0!=a););if(0!=a)throw"unmatched paren around character "+i.lastIndex+" in: "+e;return[mojo.trim(e.substring(n,i.lastIndex))+";\n",i.lastIndex]},removeCommentRe=/(\/\*([\s\S]*?)\*\/|\/\/(.*)$)/gm,syncLoaderApiRe=/(^|\s)mojo\.(loadInit|require|provide|requireLocalization|requireIf|requireAfterIf|platformRequire)\s*\(/gm,amdLoaderApiRe=/(^|\s)(require|define)\s*\(/m,extractLegacyApiApplications=function(e,t){var n,r,i,a,o=[],s=[],u=[];for(t=t||e.replace(removeCommentRe,function(e){return syncLoaderApiRe.lastIndex=amdLoaderApiRe.lastIndex=0,syncLoaderApiRe.test(e)||amdLoaderApiRe.test(e)?"":e});n=syncLoaderApiRe.exec(t);)r=syncLoaderApiRe.lastIndex,i=r-n[0].length,a=extractApplication(t,r,i),"loadInit"==n[2]?o.push(a[0]):s.push(a[0]),syncLoaderApiRe.lastIndex=a[1];return u=o.concat(s),u.length||!amdLoaderApiRe.test(t)?[e.replace(/(^|\s)mojo\.loadInit\s*\(/g,"\n0 && mojo.loadInit("),u.join(""),u]:0},transformToAmd=function(e,t){var n,r,i=[],a=[];if(buildDetectRe.test(t)||!(n=extractLegacyApiApplications(t)))return 0;r=e.mid+"-*loadInit";for(var o in getModule("mojo",e).result.scopeMap)i.push(o),a.push('"'+o+'"');return"// xdomain rewrite of "+e.mid+"\ndefine('"+r+"',{\n	names:"+json.stringify(i)+",\n	def:function("+i.join(",")+"){"+n[1]+"}});\n\ndefine("+json.stringify(i.concat(["mojo/loadInit!"+r]))+", function("+i.join(",")+"){\n"+n[0]+"});"},loaderVars=require.initSyncLoader(mojoRequirePlugin,checkDojoRequirePlugin,transformToAmd),sync=loaderVars.sync,requested=loaderVars.requested,arrived=loaderVars.arrived,nonmodule=loaderVars.nonmodule,executing=loaderVars.executing,executed=loaderVars.executed,syncExecStack=loaderVars.syncExecStack,modules=loaderVars.modules,execQ=loaderVars.execQ,getModule=loaderVars.getModule,injectModule=loaderVars.injectModule,setArrived=loaderVars.setArrived,signal=loaderVars.signal,finishExec=loaderVars.finishExec,execModule=loaderVars.execModule,getLegacyMode=loaderVars.getLegacyMode,guardCheckComplete=loaderVars.guardCheckComplete;return mojoRequirePlugin=loaderVars.mojoRequirePlugin,mojo.provide=function(e){var t=syncExecStack[0],n=lang.mixin(getModule(slashName(e),require.module),{executed:executing,result:lang.getObject(e,!0)});return setArrived(n),t&&(t.provides||(t.provides=[])).push(function(){n.result=lang.getObject(e),delete n.provides,n.executed!==executed&&finishExec(n)}),n.result},has.add("config-publishRequireResult",1,0,0),mojo.require=function(e,t){function n(e,t){var n=getModule(slashName(e),require.module);if(syncExecStack.length&&syncExecStack[0].finish)return void syncExecStack[0].finish.push(e);if(n.executed)return n.result;t&&(n.result=nonmodule);var r=getLegacyMode();return injectModule(n),r=getLegacyMode(),n.executed!==executed&&n.injected===arrived&&loaderVars.guardCheckComplete(function(){execModule(n)}),n.executed?n.result:void(r==sync?n.cjs?execQ.unshift(n):syncExecStack.length&&(syncExecStack[0].finish=[e]):execQ.push(n))}var r=n(e,t);return has("config-publishRequireResult")&&!lang.exists(e)&&void 0!==r&&lang.setObject(e,r),r},mojo.loadInit=function(e){e()},mojo.registerModulePath=function(e,t){var n={};n[e.replace(/\./g,"/")]=t,require({paths:n})},mojo.platformRequire=function(e){for(var t,n=(e.common||[]).concat(e[mojo._name]||e["default"]||[]);n.length;)lang.isArray(t=n.shift())?mojo.require.apply(mojo,t):mojo.require(t)},mojo.requireIf=mojo.requireAfterIf=function(e,t,n){e&&mojo.require(t,n)},mojo.requireLocalization=function(e,t,n){require(["../i18n"],function(r){r.getLocalization(e,t,n)})},{extractLegacyApiApplications:extractLegacyApiApplications,require:mojoRequirePlugin,loadInit:mojoLoadInitPlugin}})}}}),require({cache:{"engine/engine":function(){require(["engine/has","engine/kernel","engine/loader","engine/MsfMrlJs","engine/profiles","engine/util","engine/context/BKSPresentationContext","engine/context/Logger","engine/data/_Bean","engine/events/Event","engine/flow/manager","engine/model/att-handler","engine/model/dom-handler","engine/model/error-msg","engine/model/ev-handler","engine/model/properties-handler","engine/model/visitor","engine/components/component","engine/components/fillgap","engine/components/gap","engine/components/html","engine/components/interface","engine/components/interfaceFlow","engine/components/template","engine/components/view","engine/components/flow","engine/components/action","engine/components/validator/validator-impl","engine/components/component/componentContainer","engine/components/component/componentInput","engine/components/component/component-with-data","engine/render/defaultRender","mojo/selector/acme","mojo/i18n","mojo/text"],1)},"engine/has":function(){define(["require","module","engine/util"],function(e,t,n){var r=e.has||function(){};r.add("dom-addeventlistener",!!document.addEventListener),r.add("touch","ontouchstart"in document),r.add("device-width",screen.availWidth||innerWidth);var i=document.createElement("form");return r.add("dom-attributes-explicit",0===i.attributes.length),r.add("dom-attributes-specified-flag",i.attributes.length>0&&i.attributes.length<40),r.clearElement=function(e){return e.innerHTML="",e},r.normalize=function(e,t){var n=e.match(/[\?:]|[^:\?]*/g),i=0,a=function(e){var t=n[i++];return":"===t?0:"?"===n[i++]?!e&&r(t)?a():(a(!0),a(e)):t||0};return e=a(),e&&t(e)},r.load=function(e,t,n){e?t([e],n):n()},r.set=function(e,t){r.add(e,function(){return t},!1,!0)},r.loadFromQuerystring=function(){r.set("oldBksEditor","HTML_BKS_EDITOR"===n.readFromQueryString("renderkit")),r.set("engine-editable","true"===n.readFromQueryString("engine-editable")||"true"===n.readFromQueryString("editable")),r.set("editable",r("engine-editable")),r("engine-editable")&&(r.set("editor-rulesOn",!0),r.set("editor-paletteOn","false"!==n.readFromQueryString("mdf_show_palette")),r.set("editor-propertiesOn","false"!==n.readFromQueryString("mdf_show_properties"))),r.set("engine-test",n.readFromQueryString("engine-test")),r.set("engine-debug",n.readFromQueryString("engine-debug"))},r.loadFromQuerystring(),r})},"engine/util":function(){define(["mojo/_base/lang"],function(e){return{getter:function(e){return"get"+this.capitalize(e)},setter:function(e){return"set"+this.capitalize(e)},getterFor:function(t,n){return t._isHtmlTag?e.partial(t._get,n):t[this.getter(n)]},setterFor:function(t,n){return t._isHtmlTag?e.partial(t._set,n):t[this.setter(n)]},executeGetter:function(t,n,r,i,a){if(a)return e.hitch(t,t._get)(n,i);var o=this.getterFor(t,n);return o?e.hitch(t,o)(r,i):null},executeSetter:function(t,n,r,i){var a=this.setterFor(t,n);a&&e.hitch(t,a)(r,i)},capitalize:function(e){return e&&"string"==typeof e?1===e.length?e.toUpperCase():e.charAt(0).toUpperCase()+e.substring(1):null},getUrlFor:function(e){var t="";switch(e){case"editors":t="editors"}return t},trim:function(e){return e.replace(/(?:(?:^|\n)\s+|\s+(?:$|\n))/g,"").replace(/\s+/g," ")},readFromQueryString:function(e){if("undefined"==typeof window)return null;var t=escape(unescape(e)),n=new RegExp("[?&]".concat(t).concat("(?:=([^&]*))?"),"i"),r=n.exec(window.location.search);return r?"undefined"==typeof r[1]?"":r[1]:null},mna:function(e,t){var n=t&&t.declaredClass||"";n=n.length>0?" from "+n:"",console.error("Method "+e+n+" is not available... yet!")},getGroupId:function(e){var t=e._get("groupId");return this.getClientId(e,t)},getClientId:function(e,t){if(t&&-1===t.indexOf(engine.SEPARATOR)){if(-1!==t.indexOf("."))return e._resolveInnerClientId(t);var n=e._getDeclarationView().find(t);if(n)return n.getClientId();var r=e._getParent("bks.forEach"),i=e._getParent("pgs.forEach"),a=null;if(r&&!i?a=r:i&&!r?a=i:r&&i===r._getParent("pgs.forEach")?a=r:i&&r===i._getParent("bks.forEach")&&(a=i),!a)return t;if(!e._getDeclarationView().find(a.getId()))return e._resolveInnerClientId(t);var o=a.getIteration(e);if(n=a.find(o,t))return n.getClientId()}return t}}})},"engine/kernel":function(){define(["mojo/_base/lang","mojo/query","mojo/_base/declare","mojo/_base/connect","mojo/ready","mojo/request/xhr","mojo/topic","engine/context/Logger","engine/util","engine/render/defaultRender","engine/mapper/manager","engine/model/dom-handler","engine/data/_Bean","engine/data/types"],function(e,t,n,r,i,a,o,s,u,c,l,d,f,h){return("undefined"==typeof engine||null===engine)&&(engine={}),n.safeMixin(engine,{util:u,isMarkedAsReady:!1,isMarkedAsRender:!1,MESSAGE:{EVENT_READY:"MESSAGE#READY"},BODY:{_children:[],_isBody:function(){return!0},_getChildren:function(){return this._children.length?this._children[0]._getChildren():[]},getDomNode:function(){return document.body},_isView:!1,_getParentView:function(){return null},_getDeclarationView:function(){return null},_getRender:function(){return{place:e.hitch(d,d.place),_getRenderizableChildren:function(e){var t=e._children,n=t[0];return n&&n._isFlow?[n]:t.length?t[0]._getRender()._getRenderizableChildren(t[0]):[]},_isRenderizable:function(){return!0}}}},decl:n,lang:e,root:null,types:h,loadRoot:function(e,t){return t||null===this.root?(this.root=new e("root"),this.root._isRoot=!0,this.root._parent=this.BODY,this.BODY._children=[this.root],s.info("Root view has been loaded"),this.root):this.root},buildMappings:function(e,t){l.init(e,t)},declare:function(e,t,r,i,a){if(this.updateModelWithRender(r,i,a),a){var o=n(t,r);return n(e,o,a)}return n(e,t,r)},updateModelWithRender:function(t,n,r){var i;n?(i=n,r&&r.customizeRender&&(i=e.mixin(i,r.customizeRender))):i=c,t._getRender=function(){return i},t._render=function(e,t){return this._getRender().fullRender(this,e,t)}},subscribe:function(e,t){return o.subscribe(e,t)},unsubscribe:function(e){return e?void e.remove():void console.error("No se ha pasado ningun manejador que borrar")},publish:function(e,t){r.publish(e,t)},clone:function(t){var n;return t&&"object"==typeof t?t.nodeType&&"cloneNode"in t?n=t.cloneNode(!0):t instanceof Date?n=new Date(t.getTime()):t instanceof RegExp?n=new RegExp(t):(n=e.isArray(t)?[]:t.constructor?new t.constructor:{},e._mixin(n,t,engine.clone)):n=t,n},ready:function(e,t){"undefined"!=typeof t&&(e=this.hitch(t,e)),i(e)},markAsIdle:function(){this.isMarkedAsReady=!1},markAsReady:function(){this.isMarkedAsReady=!0},isReady:function(){return this.isMarkedAsReady},markAsRender:function(){this.isMarkedAsRender=!0},isRender:function(){return this.isMarkedAsRender},get:function(e,t,n,r,i){a(e,{handleAs:t}).then(n,r,i)},createData:function(e,t){var n={},r={};return r[e]=t,n.attributes=r,n}}),engine.SEPARATOR="-",engine})},"engine/context/Logger":function(){define(["engine/has"],function(e){var t="engine-log-api",n=100,r=[],i=function(e){if(!e)return"null component";if("string"==typeof e)return e;if(!e.getId||!e._getParent)return e;var t=e.getId(),n=e._getParent();return(n?i(n)+":":"")+t},a=function(e,t){r.length===n&&r.shift(),r.push({message:e,messageType:t})},o=function(){return r},s=function(e,t){for(var n=0;n<r.length;n++){var i=r[n];if(t){if(i.message===e&&i.messageType===t)return!0}else if(i.message===e)return!0}return!1};return{DEFAULT_LEVEL_VALUE:0,LEVEL_DEBUG:0,LEVEL_INFO:0,LEVEL_WARN:0,LEVEL_ERROR:0,LEVEL_FATAL:0,LEVEL_OFF:0,LEVEL_STR_DEBUG:"",LEVEL_STR_INFO:"",LEVEL_STR_WARN:"",LEVEL_STR_ERROR:"",LEVEL_STR_FATAL:"",LEVEL_STR_OFF:"",LEVEL_STR_UNKNOWN:"",isDebugEnabled:function(){throw"NO IMPLEMENTADO"},debug:function(){e(t)&&a(this._getMsg.apply(this,arguments),"debug")},isInfoEnabled:function(){throw"NO IMPLEMENTADO"},info:function(){e(t)&&a(this._getMsg.apply(this,arguments),"info")},isWarnEnabled:function(){throw"NO IMPLEMENTADO"},warn:function(){e(t)&&(console.warn(this._getMsg.apply(this,arguments)),a(this._getMsg.apply(this,arguments),"warn"))},isErrorEnabled:function(){return"undefined"!=typeof djConfig},error:function(){this.isErrorEnabled()&&(console.error(this._getMsg.apply(this,arguments)),a(this._getMsg.apply(this,arguments),"error"))},isFatalErrorEnabled:function(){throw"NO IMPLEMENTADO"},fatalError:function(){console.error("FATAL ERROR: "+this._getMsg.apply(this,arguments)),a(this._getMsg.apply(this,arguments),"fatalError")},_getMsg:function(e,t){return e+(t?" - "+t:"")},_trace:function(n,r,a){e(t)&&this.info(i(n),r,a)},_time:function(n){!e("engine-debug")&&!e(t)},_timeEnd:function(n){!e("engine-debug")&&!e(t)},getLoggedMessages:function(){return o()},hasMessageBeenLogged:function(e,t){return e?s(e,t):!1}}})},"engine/render/defaultRender":function(){define(["mojo/_base/lang","engine/model/dom-handler","engine/context/Logger","mojo/_base/array"],function(e,t,n){var r=function(e){return e.replace(/[\.\/]/g,"_").trim()},i=function(e,t){var n=t,r=e._getParent();return n&&r?r._isView?r._isRoot?r.isRendered():(n=r.isRendered(),n?i(r,n):!1):i(r,n):!1},a={fullRender:function(e,n,r){var i=engine.root.isRendered();return i&&(i=this.hasRender(e)),i===!1?(this.removeNode(e),null):t.renderDomNode(e,n,r)},removeNode:function(e){var n=this.safeGetDomNode(e);n&&t.destroy(e,n)},checkMethod:function(e,t){if(!t)return n.error("No se ha pasado por parametro el att a renderizar en: "+e.declaredClass),null;var r;return r=0===t.indexOf("data-")||0===t.indexOf("aria-")?"renderAttributesPassThrough":"render"+t.substring(0,1).toUpperCase()+t.substring(1),this[r]?this[r]:(e._isView||n.warn("No existe el render para el atributo "+t+" en el componente "+e.declaredClass),null)},getTagNode:function(){return null},getCustomInitialArguments:function(){return{}},getInitialArguments:function(t){var n={id:t.getClientId()},r=t.getStyleClass&&t.getStyleClass()||null;return r&&(n.className=r),e.mixin(n,this.getCustomInitialArguments(t)||{})},createDomNode:function(e){return t.createDomNode(e)},place:function(e,n){var r=e._getRender();return r.isBodyRenderizable()?t.place(e,n):r.customPlaceNode?r.customPlaceNode(e,n):null},getDefaultComponentSelector:function(e){var t=e._getDeclarationView().declaredClass,n=e.getId(),i=t+"_"+n;return r(i)},render:function(e,t,n){if("undefined"==typeof t)return void this.fullRender(e,!1,!0);var r=this.checkMethod(e,t);r&&r(e,t,n)},_isRenderizable:function(){return!0},_getRenderizableChildren:function(e){for(var t=[],n=0;n<e._children.length;n++){var r=e._children[n];if(!r.isRendered||r.isRendered()){var i=r._getRender();if(i.isBodyRenderizable())if(i._isRenderizable())t.push(r);else for(var a=i._getRenderizableChildren(r),o=0;o<a.length;o++)t.push(a[o])}}return t},safeGetDomNode:function(e){return t.safeGetDomNode(e)},renderAttributesPassThrough:function(e,n){t.updateAttributesPassThrough(e,n)},hasRender:function(e){var t=e.isRendered?e.isRendered():!0;return t?i(e,t):t}};return a})},"engine/model/dom-handler":function(){define(["mojo/dom","mojo/_base/window","mojo/_base/lang","mojo/_base/array","mojo/dom-attr","mojo/dom-construct","mojo/query","mojo/has","engine/context/Logger","engine/model/ev-handler","engine/data/types"],function(e,t,n,r,i,a,o,s,u,c,l){var d={fireModelChange:function(e,t,n){t?e._getRender().render(e,t,n):e._render()},updateViewRendered:function(e,t){var n=e._isRoot?e:e._parent;this.updateRendered(n,t)},updateRendered:function(e,t){if(e._isInterface||e._isRoot){var i=e._isInterface?e._getViewImpl():e,a=i._getChildren(),o=!0;return r.forEach(a,n.hitch(this,function(e){var n=this.updateRendered(e,t);n||(o=!1)})),!o||t||e.editable||c.fireOnClientHide(e),o}var s=this.safeGetDomNode(e),u=!1;return t&&!s&&(e._render(),u=!0),!t&&s&&(this.destroy(e,s),u=!0),u},updateStyleClass:function(e,t){var n=this.safeGetDomNode(e),r=t&&t.trim?t.trim():null;r=null!==r&&r.length?r:null,this.updateAttributeInNode(n,"className",r)},hasDom:function(){return null!==this.getRoot()},updateAttribute:function(e,t,n,r){var i=this.safeGetDomNode(e);return this.updateAttributeInNode(i,t,n,r)},updateAttributeInNode:function(e,t,n,r){return e?(null===n||r===!0&&n===!1?i.remove(e,t):i.set(e,t,n),!0):!1},updateTextContent:function(e,t){var n=this.safeGetDomNode(e);return n?(n.innerHTML=t,!0):!1},updateAttributesPassThrough:function(e,t){var n=this.safeGetDomNode(e);for(var r in e._data){var i=r;if(0===r.indexOf("data-")||0===r.indexOf("aria-")){"aria-role"===r&&(i="role");var a=e._data[r];"undefined"==typeof a?u.error("El atributo '"+i+"' renderizado es erroneo. No se puede renderizar un undefined"):this.updateAttributeInNode(n,i,a)}}"undefined"!=typeof t&&"undefined"==typeof e._data[t]&&("aria-role"===t&&(t="role"),this.updateAttributeInNode(n,t,!1,!0))},replaceAll:function(e,t,n){return e.split(t).join(n)},place:function(e,t){for(var n=t;n&&!n._getRender()._isRenderizable();)n=n._parent;var i=n._getRender()._getRenderizableChildren(n),o=r.indexOf(i,e),s=this.safeGetDomNode(i[o]),u=n._getBaseDomNode?n._getBaseDomNode():this.safeGetDomNode(n);if(s&&u){var l=r.indexOf(u.children,s);if(-1!==l&&o>l&&o++,-1===o?a.place(s,u):a.place(s,u,o),!e.editable&&e.getDomNode()){var d=e;if(t._isView){var f=null,h=null;f=engine.isRender()?t:t._getRootView(),h=f._getRender()._getRenderizableChildren(f);for(var p=null,g=0;g<h.length;g++)h[g].getRendered&&h[g].getRendered()&&(p=h[g]);p===e&&c.fireOnClientRender(f)}else c.fireOnClientRender(d)}}},createForm:function(e,t,n,r,i){var o=n._arqParams;i&&"get"!==i.toLowerCase()&&(i="POST");var u=djConfig&&djConfig.charset?djConfig.charset:"ISO-8859-1",c=djConfig&&"undefined"!=typeof djConfig.multipart?djConfig.multipart:!0,d=a.create("form",{action:r?r:"BtoChannelDriver.ssobto",enctype:c?"multipart/form-data":"application/x-www-form-urlencoded",method:i?i:"POST","accept-charset":u},document.body);(s("trident")||s("ie"))&&(document.charset=u);for(var f in e){var h=e[f],p=l.getAttSchema(n,f);l.isFile(p)&&(h.name=f,d.style.display="none",d.appendChild(h.cloneNode()),delete e[f])}a.create("input",{type:"hidden",name:"data",value:JSON.stringify(e)},d),a.create("input",{type:"hidden",name:void 0!==dojoConfig.params&&dojoConfig.params.eventParamName?dojoConfig.params.eventParamName:"eventId",value:t},d);for(var g in o)a.create("input",{id:g,name:g,value:o[g],type:"hidden"},d);return d},createDomNode:function(e){var t=e._getRender().getTagNode(e),n=e._getRender().getInitialArguments(e);return a.create(t,n)},destroy:function(e,t){c.dettachEvents(e);var n=t||e.getDomNode();if(n)return a.destroy(n),void(e.editable||c.fireOnClientHide(e));if(e._isInterface){for(var r=e._getViewImpl(),i=r._getChildren();i.length;)this.destroy(i[0]),i.splice(0,1);e.editable||c.fireOnClientHide(e)}},renderChildren:function(e,t,i){var a=e._getRender()._getRenderizableChildren(e);e._isRoot&&0===a.length&&c.fireOnClientRender(e),r.forEach(a,n.hitch(this,function(e){e._render(t,i)}))},hasParentNode:function(e){return null!==this.getParentNode(e)},getParentNode:function(e){var t=e._getParent();return t?this.safeGetDomNode(t):null},renderDomNode:function(e,t,r){if(e&&e.isRendered&&!e.isRendered())return null;var i=e.getDomNode(),a=i||e._DOM_NODE_,o=i&&t;e._DOM_NODE_=o?i:e._getRender().createDomNode(e);var s,u;if(!e._isView){for(var l in e._CTX)u=engine.util.getterFor(e,l.substring(1)),u&&(s=n.hitch(e,u)(l.substring(1))),e._getRender().render(e,l.substring(1),s);this.updateAttributesPassThrough(e)}this.renderChildren(e,t,r),o||(this.destroy(e,a),i=null);var d=e._getParent();d._getRender().place(e,d),e._storeDom&&e._storeDom(e._DOM_NODE_);var f=e._DOM_NODE_;return e._DOM_NODE_=null,delete e._DOM_NODE_,e.getDomNode()&&!e.editable&&c.attachAllEvents(e),f},safeGetDomNode:function(e){return e?e._DOM_NODE_||e.getDomNode()||null:(u.warn("[safeGetDomNode] El componente es nulo"),null)},swapTagName:function(e){this.changeTag(e,e.getTypetag())},changeTag:function(e,t){var n=this.safeGetDomNode(e);if(!n)return!1;if(n.tagName){var r=n.tagName.toLowerCase();if(r===t)return!1}e._getRender().render(e)},updateDisabled:function(e){var t=e.isDisabled()===!0,n=t?"disabled":null;return this.updateAttribute(e,"disabled",n)},getAttValue:function(e,t){var n=e.getDomNode();return n?i.get(n,t):null}};return d})},"engine/model/ev-handler":function(){define(["mojo/_base/lang","engine/has","engine/context/Logger","mojo/on","mojo/_base/event","engine/model/visitor","engine/events/Event","engine/mapper/manager","engine/model/att-handler","engine/util","engine/model/res-handler"],function(e,t,n,r,i,a,o,s,u,c,l){var d=function(e){for(var t in e._CTX){var n=t.substring(1),r=c.getterFor(e,n);r.apply(e,[])}};return{attachPoint:{},nextState:function(e,t,n,r){d(e);var i=u.getCtx(e,!0);this.send(e,t,i,n,r)},send:function(e,n,r,i,a){t("engine-flow")?require(["engine/flow/manager"],function(e){e.loadNextState(null,n,r)}):require(["engine/model/dom-handler"],function(t){var o=t.createForm(r,n,e,i,a);o.submit()})},fireEvent:function(e,t,n){var r,i,a=e.getEventName(),o=e.getComponent(),s="onClientReady"===a||o._isView&&("onClientRender"===a||"onClientHide"===a)?o:o._getDeclarationView(),u=o._structure.events;if(t)r=t;else try{r=null!==dojoConfig&&void 0!==dojoConfig.params&&void 0!==dojoConfig.params.targetURL?dojoConfig.params.targetURL:null}catch(c){r=null}i=n;var l=e.getEventHandlerName();if(l||(l=u&&u.client&&u.client[a]),l||(l=u&&u.server&&u.server[a]),!l){var d=e.getComponent();return void("onClientReady"!==a&&"onClientRender"!==a&&"onClientHide"!==a&&d&&d._isRoot&&!djConfig.isPreview&&this.nextState(d,a,t,n))}if("string"==typeof l){var f=s[l];if(!f||"function"!=typeof f)return;f.call(s,e)}else s._goTo&&s._goTo(l,e)},fireOnClientReady:function(t){var n=function(e){if(e._isView)try{var t=new o("onClientReady",e);this.fireEvent(t)}catch(n){console.error(n)}};a.traverseComponent(t,e.hitch(this,n),!0)},fireOnClientHide:function(t){var n=function(e){try{var t=new o("onClientHide",e);this.fireEvent(t)}catch(n){console.error(n)}};t._isInterface?n.call(this,t._getViewImpl()):a.traverseComponent(t,e.hitch(this,n),!0)},fireOnClientRender:function(t){var n=function(e){try{var t=e.getDomNode();if(!t){var n=e;if("bks.fillgap"===e._getParent().declaredClass||"pgs.fillgap"===e._getParent().declaredClass)for(n=e._getParent();null!==n&&("bks.fillgap"===n.declaredClass||"pgs.fillgap"===n.declaredClass);)n=n._getParent();n.getDomNode()&&(t=!0)}if(t){e._isView&&l.downloadViewCss(e);var r=new o("onClientRender",e);this.fireEvent(r)}}catch(i){console.error(i)}};a.traverseComponent(t,e.hitch(this,n),!0)},attachAllEvents:function(t){a.traverseComponent(t,e.hitch(this,function(e){e&&this.attachEvents(e)}))},attachEvents:function(e){this.attachClientEvents(e),this.attachServerEvents(e)},attachClientEvents:function(n){if(!n._structure||!n._structure.events||n._isView)return void(!t("engine-client")||"bks.button"!==n.declaredClass&&"pgs.button"!==n.declaredClass||"submit"!==n.getType()||this.attachEvent(n,"click",e.hitch(this,function(e){i.stop(e)})));for(var r in n._structure.events.client)"undefined"!=typeof djConfig&&djConfig.isPreview&&/^onClientDrag/.test(r)||this.attachClientEvent(n,r)},attachServerEvents:function(){},attachClientEvent:function(n,r,a){var s=null;s=-1!==r.search(/^onClient/)?r.replace(/^onClient/,"").toLowerCase():r.replace(/^on/,"").toLowerCase(),this.isEventDomValid(s)&&this.attachEvent(n,s,e.hitch(this,function(e){var s=new o(r,n,e,null,a);this.fireEvent(s),s.isStopped()&&i.stop(e),"bks.button"!==n.declaredClass&&"pgs.button"!==n.declaredClass||"submit"!==n.getType()||"onClientClick"!==r||!t("engine-client")||i.stop(e)}))},attachEvent:function(e,t,i){this.dettachEvent(e,t);var a=e.getDomNode();if(!a)return void n._trace(this,"Intentando registrar el evento ",t," en el componente ",e.getId(),", pero no existe el DOM");var o=e.getClientId();this.attachPoint[o]||(this.attachPoint[o]={});var s=this.attachPoint[o];s[t]||(s[t]={}),s[t].attach=r(a,t,i),s[t].fun=i},dettachEvents:function(e){var t=e.getClientId(),n=this.attachPoint[t];if(n)for(var r in n)this.dettachEvent(e,r,n)},dettachClientEvent:function(e,t,n){var r=t.replace(/^onClient/,"").toLowerCase();this.isEventDomValid(r)&&this.dettachEvent(e,r,n)},dettachEvent:function(e,t,n){var r=n||this.attachPoint[e.getClientId()]||{};r[t]&&r[t].attach&&(r[t].attach.remove(),r[t].attach=null)},updateAttachPoints:function(e){var t=e.getClientId();if(this.attachPoint[t])for(var n in this.attachPoint[t]){var r=this.attachPoint[t][n];r&&r.fun&&this.attach(e,n,r.fun)}},isEventDomValid:function(e){return"hide"!==e||"render"!==e}}})},"engine/model/visitor":function(){define(["mojo/_base/declare","mojo/_base/lang","mojo/_base/array"],function(e,t,n){var r=function(e,i,a,o,s){if(e){s=s||"_children",i&&i.call(this,e);var u=[];("undefined"==typeof o||null===o||o===!0||"function"==typeof o&&o.call(this,e))&&("function"==typeof s?u=s(e):"string"==typeof s&&(u="function"==typeof e[s]?e[s]():e[s])),n.forEach(u,t.hitch(this,function(e){r(e,i,a,o,s)})),a&&a.call(this,e)}},i=function(e,i,a){var o=t.hitch(e,i),s=function(e){var t=[];n.forEach(e._getChildren(),function(e){t.push(e)});var r=e.isTemplate?e._fillGaps:[];return n.forEach(r,function(e){t.push(e)}),t};r(e,a?null:o,a?o:null,null,s)};return{traverseComponent:i,forEachComponent:i,forEachView:function(e,t){i(e,function(e){e&&e._isView&&t(e)})},partialTraverse:function(e,r,i){var a=e._getChildren();a&&n.forEach(a,t.hitch(this,function(e){var t=!1;
r&&(t=r.call(this,e)),t&&this.partialTraverse(e,r,i)})),i&&i.call(this,e)},innerTraverse:function(e,r,i){var a=e._getChildren();a&&n.forEach(a,t.hitch(this,function(e){r&&r.call(this,e),this.innerTraverse(e,r,i)})),i&&i.call(this,e)}}})},"engine/events/Event":function(){define(["mojo/_base/declare"],function(e){return e("engine.events.Event",null,{comp:null,eventName:null,domEvent:null,info:null,eventHandlerName:null,constructor:function(e,t,n,r,i){this.comp=t,this.info=r,this.eventName=e,this.domEvent=n,this.eventHandlerName=i},getComponent:function(){return this.comp},getEvent:function(){return this.domEvent},getEventName:function(){return this.eventName},getInfo:function(){return"undefined"!=typeof this.info?this.info:null},setInfo:function(e){this.info=e},getEventHandlerName:function(){return this.eventHandlerName},setEventHandlerName:function(e){this.eventHandlerName=e},isStopped:function(){return this._isStopped},stop:function(e){this._isStopped="undefined"==typeof e?!0:e}})})},"engine/mapper/manager":function(){define(["engine/model/visitor","./Adapter","engine/context/Logger","engine/util","engine/data/tbl-param"],function(e,t,n,r,i){var a=function(e,t){var n=e._getMapperAdapter();n&&n.executeAll(t)},o=function(e){if(e&&e.initialize)try{e.initialize()}catch(t){n.error('Error in function initialize() of view "'+e.declaredClass+'"',t)}a(e)};return{init:function(t,n){for(var a in n){var s=r.setterFor(t,a);s.call(t,n[a],!0)}e.forEachView(t,function(e){i.loadTables(e),o(e)})},updateContext:function(e){a(e,!0)}}})},"engine/mapper/Adapter":function(){define(["mojo/_base/lang","mojo/_base/declare","./DirectMapping","./DynamicMapping","./Island","./constants"],function(e,t,n,r,i,a){var o={TUPLES:"tuplesOut",ATT_MAP:"attMapOut",CONTAINS_ATT:"containsAttTo"},s={TUPLES:"tuplesIn",ATT_MAP:"attMapIn",CONTAINS_ATT:"containsAttFrom"},u=function(e){var t,n;if(!e||!e.split)return!1;for(t=e.split("."),n=0;n<t.length;n++)if(/^\*$|^\d+$/.test(t[n]))return!0;return!1},c=function(e){var t,n,r,i=e?o.TUPLES:s.TUPLES;if(this.view&&this.view._getMapInfo)for(this[i]=[],this[e?o.ATT_MAP:s.ATT_MAP]={},t=this.view._getMapInfo(e),n=0;n<t.length;n++)r=this.newTuple(t[n]),r&&this[i].push(r)},l=function(e,t){var n=this[t?o.ATT_MAP:s.ATT_MAP],r=n[e];if("undefined"==typeof r){r=[];for(var i=this[t?o.TUPLES:s.TUPLES],a=0;a<i.length;a++)i[a][t?o.CONTAINS_ATT:s.CONTAINS_ATT](e)&&r.push(i[a]);n[e]=r}return r};return t(null,{view:null,tuplesIn:null,tuplesOut:null,attMapIn:null,attMapOut:null,constructor:function(e){this.view=e,e._updateMapperAdapter(this),c.call(this,!1),c.call(this,!0)},newTuple:function(e){var t=null;switch(e.type){case a.TYPE.MAPPING:case a.TYPE.ISLAND_IN:case a.TYPE.ISLAND_OUT:t=u(e.from)||u(e.to)?r:n;break;case a.TYPE.ISLAND:t=i}return t?new t(this.view,e):null},execute:function(e,t,n,r){for(var i=l.call(this,e,t),a=0;a<i.length;a++)try{i[a].execute(n,r)}catch(o){console.error(o)}},executeAll:function(e){for(var t=this[e?o.TUPLES:s.TUPLES],n=0;n<t.length;n++)try{t[n].execute()}catch(r){console.error(r)}},setCurrentIslandBeans:function(e,t,n){this[e]={_inBean:t,_outBean:n}},getCurrentInBean:function(e){return this[e]?this[e]._inBean:null},getCurrentOutBean:function(e){return this[e]?this[e]._outBean:null}})})},"engine/mapper/DirectMapping":function(){define(["mojo/_base/lang","mojo/_base/declare","engine/util","engine/context/Logger","./_Mapping"],function(e,t,n,r,i){return t([i],{execute:function(e,t){try{var n=this._applyFrom(e);this._applyTo(n,t)}catch(i){r.error("Error mapping ["+this.fromStr+" - "+this.toStr+"] ("+i.message+")")}},_applyFromView:function(e){var t=this.fromViewAtt[0];return this.setTmpValueSchema(this.view,t),n.executeGetter(this.view,t,!1,!1,e)},_applyFromComponent:function(e){var t=this._getCtx(this.view,this.from);if(t)for(var r=this._getAttributeIndex(this.from);r<this.from.length;r++){var i=this.from[r];this.setTmpValueSchema(t,i),t=n.executeGetter(t,i,!1,!1,e)}return t},_applyFromViewBean:function(e){for(var t=this.view,r=0;r<this.fromViewAtt.length;r++){var i=this.fromViewAtt[r];this.setTmpValueSchema(t,i),t=n.executeGetter(t,i,!1,!1,e)}return t},_applyFromIsland:function(e){var t=this.view._getMapperAdapter(),r=t.getCurrentOutBean(this.island.method),i=this.from[0];return this.setTmpValueSchema(r,i),n.executeGetter(r,i,!1,!1,e)},_applyToView:function(e,t){n.executeSetter(this.view,this.toViewAtt[0],e,t)},_applyToComponent:function(e,t){var n=this._getCtx(this.view,this.to);if(n){var r=this._getAttributeIndex(this.to),i=this.to[r];this.performUpdate(n,i,this.to,r+1,e,this.getTmpValueSchema(),t)}},_applyToViewBean:function(e,t){var n=this.toViewAtt[0];this.updateBean(this.view,n,this.toViewAtt,1,e,t)},_applyToIsland:function(e,t){var r=this.view._getMapperAdapter(),i=r.getCurrentInBean(this.island.method);n.executeSetter(i,this.to[0],e,t)},_getCtx:function(e,t){for(var n=e,r=0;r<t.length;r++){var i=t[r];if("attributes"===i)break;n=this._findCtx(i,n)}return n},_getAttributeIndex:function(e){for(var t=0;t<e.length;t++)if("attributes"===e[t])return t+1;return null}})})},"engine/mapper/_Mapping":function(){define(["mojo/_base/lang","mojo/_base/declare","./_Tuple","./constants","../util","../data/types"],function(e,t,n,r,i,a){var o=function(e,t){return!isNaN(e[t])},s=function(e,t){return parseInt(e[t],10)},u=function(e,t,n){return e[s(t,n)]},c=function(e){for(var t=e&&e._isInterface?e._getViewImpl():e;t&&!t.find;)t=t._isFillGap?t._getDeclarationView()._getDeclarationView():t._parent;return t};return t([n],{from:null,fromStr:null,fromViewAtt:null,fromType:null,to:null,toStr:null,toViewAtt:null,toType:null,_tmpValueSchema:null,build:function(e,t){var n=e[t],i=this[t]=n.split(".");if(this[t+r.VARS.STR]=n,this.isViewAttribute(t)){if(i[1]!==r.PATH.ATT)throw r.EXCEPTION.UNKNOWN_PATH;var a=i.splice(2,i.length-2);this[t+r.VARS.VIEW_ATT]=a,this[t+r.VARS.TYPE]=1===a.length||2===a.length&&"*"===a[1]?r.VARS.TYPES.VIEW:r.VARS.TYPES.VIEW_BEAN}else switch(this.type){case r.TYPE.MAPPING:this[t+r.VARS.TYPE]=r.VARS.TYPES.COMPONENT;var o=this.view._map._datasources;o&&o[i[0]]&&(this[t+r.VARS.TYPE]=r.VARS.TYPES.TBL);break;case r.TYPE.ISLAND_IN:this[t+r.VARS.TYPE]=t===r.FROM?r.VARS.TYPES.COMPONENT:r.VARS.TYPES.BEAN;break;case r.TYPE.ISLAND_OUT:this[t+r.VARS.TYPE]=t===r.FROM?r.VARS.TYPES.BEAN:r.VARS.TYPES.COMPONENT}},containsAttFrom:function(e){return this.fromViewAtt&&0!==this.fromViewAtt.length&&e===this.fromViewAtt[0]},containsAttTo:function(e){return this.toViewAtt&&0!==this.toViewAtt.length&&e===this.toViewAtt[0]},isViewAttribute:function(e){return this[e][0]===r.PATH.VIEW},_applyFrom:function(){var e=null;switch(this.fromType){case r.VARS.TYPES.VIEW:e=this._applyFromView.apply(this,arguments);break;case r.VARS.TYPES.COMPONENT:e=this._applyFromComponent.apply(this,arguments);break;case r.VARS.TYPES.VIEW_BEAN:e=this._applyFromViewBean.apply(this,arguments);break;case r.VARS.TYPES.BEAN:e=this._applyFromIsland.apply(this,arguments);break;case r.VARS.TYPES.TBL:e=this._applyFromTbl.apply(this,arguments)}if("undefined"==typeof e)throw r.EXCEPTION.UNDEFINED_VALUE;return e},_applyFromView:function(){console.error("Not implemented yet")},_applyFromComponent:function(){console.error("Not implemented yet")},_applyFromViewBean:function(){console.error("Not implemented yet")},_applyFromIsland:function(){console.error("Not implemented yet")},_applyFromTbl:function(){console.error("Not implemented yet")},_applyTo:function(){switch(this.toType){case r.VARS.TYPES.VIEW:this._applyToView.apply(this,arguments);break;case r.VARS.TYPES.VIEW_BEAN:this._applyToViewBean.apply(this,arguments);break;case r.VARS.TYPES.COMPONENT:this._applyToComponent.apply(this,arguments);break;case r.VARS.TYPES.BEAN:this._applyToIsland.apply(this,arguments)}},_applyToView:function(){console.error("Not implemented yet")},_applyToComponent:function(){console.error("Not implemented yet")},_applyToViewBean:function(){console.error("Not implemented yet")},_applyToIsland:function(){console.error("Not implemented yet")},_findCtx:function(e,t,n){var r=c(t,e);if("bks.forEach"===r.declaredClass||"pgs.forEach"===r.declaredClass)return r.find(n,e);if(!r.find(e))for(var i=t._parent;i;){if(("bks.forEach"===i.declaredClass||"pgs.forEach"===i.declaredClass)&&i.find&&i.find(n,e))return i.find(n,e);if(i.find&&i.find(e))return i.find(e);i=i._parent}return r.find(e)},performUpdate:function(e,t,n,r,i,o,s){var u=a.schemaIsList(e,t);return r<n.length&&a.schemaIsBean(e,t)?(u?this.updateBeanList(e,t,n,r,i,s):this.updateBean(e,t,n,r,i,s),!0):(u?this.updateListValue(e,t,n,r,i,o,s):this.updateValue(e,t,i,o,s),!1)},updateListValue:function(e,t,n,r,a,u,c){var l=i.executeGetter(e,t,!0,!1,c);l||(l=[]),o(n,r)?l[s(n,r)]=a:l=engine.clone(a),this.updateValue(e,t,l,u,c)},updateValue:function(e,t,n,r,o){var s=n,u=a.getAttSchema(e,t);if(u)if(r)a.getAttSchemaType(r)!==a.getAttSchemaType(u)&&(s=a.convertTo(n,r,u));else if(a.isTbl(n)&&u.list.creator&&u.list){s=i.executeGetter(e,t);for(var c=u.list.creator,l="_"+this.fromStr.split(".").pop(),d=this.toStr.split(".").pop(),f=0;f<n.length;f++){var h=s[f];h||(h=new c,s.push(h)),i.executeSetter(h,d,n[f][l])}}i.executeSetter(e,t,s,o)},updateBeanList:function(e,t,n,r,c,l){var d=i.executeGetter(e,t,!0,!1,l);if(d||(d=[]),c.toString()!==d.toString()){if(o(n,r)){var f=u(d,n,r);f||(d[s(n,r)]=f=a.newInstance(e,t)),this._updateBean(f,n,r+1,c,l)}else{d=engine.clone(d.slice(0,c.length));for(var h=0;h<c.length;h++)d[h]=engine.clone(c[h])}this.updateValue(e,t,d,l)}},updateBean:function(e,t,n,r,a,o){var s=i.executeGetter(e,t,!0);a.toString()!==s.toString()&&(this._updateBean(s,n,r,a,o),this.updateValue(e,t,s,null,o))},_updateBean:function(t,n,r,a,o){var s=!0,u=!1,c=t,l=n.length;if(r>=l)t.fromObject(a.toObject());else{for(var d=r;l-1>d;d++)c=i.executeGetter(c,n[d],o,s,u,o);e.isArray(c)&&!isNaN(n[d])?c[parseInt(n[d],10)]=a:i.executeSetter(c,n[d],a)}},setTmpValueSchema:function(e,t){var n=a.getAttSchema(e,t);this._tmpValueSchema=n?n:null},getTmpValueSchema:function(){return this._tmpValueSchema?this._tmpValueSchema:null}})})},"engine/mapper/_Tuple":function(){define(["mojo/_base/declare","engine/util","./constants"],function(e,t,n){return e(null,{view:null,map:null,type:null,constructor:function(e,t){this.view=e,this.map=t,t&&(this.type=t.type,this.build(t,n.FROM),this.build(t,n.TO))},build:function(){},getView:function(){return this.view}})})},"engine/mapper/constants":function(){define([],function(){return{FROM:"from",TO:"to",IN:"In",OUT:"Out",PATH:{VIEW:"CTX",ATT:"attributes"},TYPE:{MAPPING:"simple",ISLAND:"javaNative",ISLAND_IN:"Mapeo Entrada Isla",ISLAND_OUT:"Mapeo Salida Isla"},EXCEPTION:{UNKNOWN_PATH:"UNKNOWN MAPPING PATH",UNDEFINED_VALUE:"UNDEFINED_VALUE"},VARS:{TYPE:"Type",STR:"Str",VIEW_ATT:"ViewAtt",TYPES:{VIEW:"view",VIEW_BEAN:"view_bean",COMPONENT:"component",BEAN:"island",TBL:"tbl"}}}})},"engine/data/types":function(){define(["mojo/_base/lang"],function(e){var t=function(e,t){for(var n=0;n<e.length;n++)if(!t(e[n]))return!1;return!0};return{TYPENAME:{STRING:"string",ENUM:"enum",BOOLEAN:"boolean",DATE:"date",FLOAT:"float",INTEGER:"integer",BEAN:"bean",FILE:"file"},getTypeName:function(e,t){var n;return n=1===arguments.length?e:this.getAttSchema(e,t),this.isString(n)?"object"==typeof n.accepted&&"function"==typeof n.accepted.test?this.TYPENAME.ENUM:this.TYPENAME.STRING:this.isBoolean(n)?this.TYPENAME.BOOLEAN:this.isDate(n)?this.TYPENAME.DATE:this.isFloat(n)?this.TYPENAME.FLOAT:this.isInteger(n)?this.TYPENAME.INTEGER:this.isBean(n)?this.TYPENAME.BEAN:this.isFile(n)?this.TYPENAME.FILE:null},isList:function(e,t){return 2===arguments.length?this.schemaIsList(e,t):!!e.list},isBoolean:function(e){return e.type===this._boolean||e.list&&e.list.type===this._boolean},isString:function(e){return e.type===this._string||e.list&&e.list.type===this._string},isInteger:function(e){return e.type===this._integer||e.list&&e.list.type===this._integer},isFloat:function(e){return e.type===this._float||e.list&&e.list.type===this._float},isDate:function(e){return e.type===this._date||e.list&&e.list.type===this._date},isBean:function(e){return!!e.creator},isFile:function(e){return e.type===this._file},isTbl:function(t){if(e.isArray(t)&&t.length){for(var n=0;n<t.length;n++)if(!t[n]._isTblRow)return!1;return!0}return null!==t&&t._isTblRow},dummyFun:function(){return!0},_unknown:function(){return!0},_bean:function(e){return function(t){return null===t||t.isInstanceOf&&t.isInstanceOf(e)}},_boolean:function(e){return null===e||"boolean"==typeof e},_float:function(e){return null===e||"number"==typeof e},_integer:function(e){return null===e||"number"==typeof e&&e===Math.floor(e)},_string:function(e){return null===e||"string"==typeof e},_date:function(e){return null===e||e instanceof Date&&!isNaN(e.valueOf())},_file:function(e){return null===e||"string"==typeof e},_array:function(n){return function(r){return null===r?!0:e.isArray(r)?t(r,n):!1}},getDefaultValue:function(e){var t=e.defaultValue;if("undefined"==typeof t)switch(e.type){case this._boolean:return!1;case this._float:case this._integer:return 0;case this._string:case this._date:default:return null}return t},getType:function(e){return e?e.type:this.dummyFun},isValid:function(e,t){return this.getType(e).call(this,t)},accepts:function(e,t){if(!e||null===t)return!0;var n=e.accepted;return n?n.test(""+t):!0},getAttSchema:function(e,t){var n=e._CTX;return e._isInterface&&e._isInterface&&(n=e._getViewImpl()._CTX),n["_"+t]},getAttSchemaType:function(e){return e?e.list?e.list.type:e.type:null},schemaIsBean:function(e,t){var n=this.getAttSchema(e,t);return n&&n.creator},schemaIsList:function(e,t){var n=this.getAttSchema(e,t);return n&&n.list},newInstance:function(e,t){var n=this.getAttSchema(e,t).creator;return new n},isDateValue:function(e){return e instanceof Date&&!isNaN(e.valueOf())},applyConversion:function(t,n){switch(t.type){case this._string:return this.isDateValue(n)?n.toJSON():""+n;case this._boolean:if("true"===n)return!0;if("false"===n)return!1;break;case this._float:if(this.isDateValue(n))return n.getTime();if(!isNaN(n))return parseFloat(n);break;case this._integer:if(this.isDateValue(n))return n.getTime();if(!isNaN(n))return parseInt(n,10);break;case this._date:return n?new Date(isNaN(n)?n:parseInt(n,10)):null}if(t.list){var r;r=e.isArray(n)?n:JSON.parse(n);var i=this.convertEach(t.list,r);if(i)return i}if(t.creator){var a=t.creator,o=new a;return n&&n._beanToJson&&n._jsonToBean&&n.toString()&&(n=n.toString()),e.isString(n)?o.fromString(n):o.fromObject(n),o}throw new Error("No se ha podido realizar correctamente la conversion")},convertEach:function(e,t){for(var n=[],r=0;r<t.length;r++)if(!e.type(t[r]))try{n.push(this.applyConversion(e,t[r]))}catch(i){return null}return n},smartClone:function(e,t){if(t)switch(t.type){case this._string:case this._boolean:case this._float:case this._integer:return e}return engine.clone(e)},convertTo:function(t,n,r){var i=t;if(null===t)return t;if(e.isArray(t)){i=[];for(var a=0;a<t.length;a++)i.push(this.convertTo(t[a],n,r));return i}var o=this.getAttSchemaType(n),s=this.getAttSchemaType(r);switch(s){case this._boolean:switch(o){case this._string:return"true"===t;default:return!!t}case this._float:switch(o){case this._string:return parseFloat(t,10)}case this._integer:switch(o){case this._boolean:return t?1:0;case this._date:return t.getTime();case this._string:return parseInt(t,10);case this._float:return Math.floor(t);default:return t}case this._string:switch(o){case this._integer:return this.isDateValue(t)&&(i=t.getTime()),""+Math.floor(i);case this._float:return this.isDateValue(t)&&(i=t.getTime()),""+i+(Math.floor(i)===i?".0":"");case this._date:if("number"==typeof i||"string"==typeof i&&!isNaN(i))i=new Date(i);else if("string"==typeof i&&isNaN(i))return i;return i.toJSON();case this._string:return t;default:return""+t}case this._date:switch(o){case this._date:return t;case this._string:if(!isNaN(t))return new Date(parseInt(t,10));default:return new Date(t)}default:return t}}}})},"engine/mapper/DynamicMapping":function(){define(["mojo/_base/lang","mojo/_base/declare","engine/util","./_Mapping","engine/data/_Bean","engine/data/types","engine/data/tbl-param"],function(e,t,n,r,i,a,o){var s="Steps";return t([r],{fromSteps:null,toSteps:null,execute:function(e){this._applyTo(null,this.view,0,void 0,e)},build:function(e,t){this.inherited(arguments),this[t+s]=this._buildSteps(e[t],"from"===t)},_buildSteps:function(e,t){for(var n=[],r=[],i=e.split("."),a=0;a<i.length;a++){r.push(i[a]);var o=t?a:a-1;"*"===i[o]&&(n[n.length]=r,r=[])}return 0!==r.length&&(n[n.length]=r),n},_applyFromView:function(t,r,i,a){var o=this.fromSteps[r];if(!o)return t;for(var s=0;s<o.length;s++){var u=o[s];if(""===u||isNaN(u))if("CTX"===u)t=this.view,s++;else if("*"===u)t=t;else if(e.isArray(t)){for(var c=[],l=0;l<t.length;l++)c.push(n.executeGetter(t[l],u,!1,!0));t=c}else this.setTmpValueSchema(t,u),t=n.executeGetter(t,u,!1,!0,a);else t=t[parseInt(u,10)]}return t},_applyFromComponent:function(t,r,i){var a=this.fromSteps[r];if(!a)return t;for(var o=0;o<a.length;o++){var s=a[o];if(""===s||isNaN(s))if("CTX"===s)t=this.view,o++;else if("*"===s)t=t;else if("attributes"===a[o]){o++;var u=a[o];if(e.isArray(t))for(var c=0;c<t.length;c++)t=n.executeGetter(t[c],u,!1,!0);else t=n.executeGetter(t,u,!1,!0)}else this.setTmpValueSchema(t,s),t=this._findCtx(s,t,i);else t=t[parseInt(s,10)]}return t},_applyFromViewBean:function(t,r){var i=this.fromSteps[r];if(!i)return t;for(var a=0;a<i.length;a++){var o=i[a];if(""===o||isNaN(o))if("CTX"===o)t=this.view,a++;else if("*"===o)t=t;else if(e.isArray(t)){for(var s=[],u=0;u<t.length;u++)s.push(n.executeGetter(t[u],o,!1,!0));t=s}else this.setTmpValueSchema(t,o),t=n.executeGetter(t,o,!1,!0,!engine.isReady());else t=t[parseInt(o,10)]}return t},_applyFromIsland:function(t,r){if(!t||!t.isInstanceOf||!t.isInstanceOf(i)){var a=this.view._getMapperAdapter();t=a.getCurrentOutBean(this.island.method)}var o=this.fromSteps[r];if(!o)return t;for(var s=0;s<o.length;s++){var u=o[s];if(""===u||isNaN(u))if("CTX"===u)t=this.view,s++;else if("*"===u)t=t;else if(e.isArray(t)){for(var c=[],l=0;l<t.length;l++)c.push(n.executeGetter(t[l],u,!1,!0));t=c}else t=n.executeGetter(t,u,!1,!0);else t=t[parseInt(u,10)]}return t},_applyFromTbl:function(t,n){var r=this.fromSteps[n];if(!r)return t;for(var i=0;i<r.length;i++){var a=r[i];if(0===n&&0===i){var s=this.view._map._datasources;t=o.getRows(this.view,s[a])}else""===a||isNaN(a)?"CTX"===a?(t=this.view,i++):"*"===a?t=t:(e.isArray(t),t=t["_"+a]):t=t[parseInt(a,10)]}return t},_applyToView:function(e,t,r,i,a){e=this._applyFrom(null!==e?e:this.view,r,i,a);for(var o=null,s=this.toSteps[r],u=0;u<s.length;u++){var c=s[u];if(""===c||isNaN(c))if("CTX"===c)t=this.view;else if("attributes"===s[u]){u++,o=s[u],u++;var l=s[u],d=null;if("*"===l){d=[];for(var f=0;f<e.length;f++)d.push(e[f].declaredClass?this._applyFrom(e[f],r+1,f,a):e[f])}else{var h=parseInt(l,10);d=this._applyFrom(e[h],r+1,h,a)}n.executeSetter(t,o,d)}else t=this._findCtx(c,t,i);else t=t[parseInt(c,10)]}},_applyToComponent:function(t,n,r,i,a){var o=null,s=this.toSteps[r];if(s){t=this._applyFrom(t,r,i,a);for(var u=0;u<s.length;u++){var c=s[u];if(""===c||isNaN(c))if("*"===c){if(u<s.length-1){u++;var l=s[u];n=n._findAll(l)}}else if("attributes"===c)if(u++,o=s[u],e.isArray(n))for(var d=0;d<n.length;d++)this.updateValue(n[d],o,t[d],schema);else{n&&("bks.forEach"===n.declaredClass||"pgs.forEach"===n.declaredClass)&&"values"===o&&n._updateMappingTuple&&n._updateMappingTuple("island"===this.fromType?this.island:this);var f=this.performUpdate(n,o,s,u+1,t,this.getTmpValueSchema());if(f)return}else n=this._findCtx(c,n,i);else n=n[parseInt(c,10)]}if(e.isArray(n)){var h=0;!n[0]||"bks.forEach"!==n[0]._parent.declaredClass&&"pgs.forEach"!==n[0]._parent.declaredClass||(h=n[0]._parent.getStart());for(var p=0;p<n.length;p++)this._applyToComponent(t[p+h],n[p],r+1,p,a)}}},_applyToViewBean:function(e,t,n,r,i){var a=this.toSteps[n];if(a)for(var o=this._applyFrom(null!==e?e:this.view,n,r,i),s=0;s<a.length-1;s++){var u=a[s];if("CTX"!==u&&"attributes"!==u){var c=this.performUpdate(t,u,a,s+1,o);if(c)return}}},_applyToIsland:function(e,t,r,i,o){var s=null,u=this._applyFrom(null!==e?e:this.view,r,i,o),c=this.toSteps[r];if(!c)return s=t[i]=a.newInstance(t.bean,this.to[0]),void n.executeSetter(s,this.to[this.to.length-1],u);s=t=this.view._getMapperAdapter().getCurrentInBean(this.island.method);for(var l=0;l<c.length-1;l++){var d=c[l];if(""===d||isNaN(d))if("*"===d){if(l<c.length-1){l++;for(var f=0;f<u.length;f++)t.bean=s,this._applyToIsland(u[f],t,r+1,f,o);return}}else this.setTmpValueSchema(t,d),t=n.executeGetter(t,d,!1,!0,o);else t=t[parseInt(d,10)]}var h=this.to[l];if("*"===h){for(var p=0;p<u.length;p++)t[p]=engine.clone(u[p]);u.length<t.length&&t.splice(p)}else if(isNaN(h))n.executeSetter(t,h,u);else{var g=parseInt(h,10);t[g]=engine.clone(u[g])}}})})},"engine/data/_Bean":function(){define(["mojo/_base/declare","mojo/_base/lang","engine/data/types","engine/context/Logger","engine/model/att-handler","engine/util"],function(e,t,n,r,i,a){return e(null,{_data:null,_dataNew:null,constructor:function(){this._data={},this._dataNew={},this._buildCTX(),this._defineProperties()},_defineProperties:function(){var e=this;for(var t in e._CTX){var n="_"===t.charAt(0)?t.slice(1):t;this._defineAttributeProperty(e,n)}},_addDefineProperty:function(e,t){Object.defineProperty(e,t,{__proto__:null,get:function(){var n="get"+a.capitalize(t);return e[n]?e[n]():null},set:function(n){var r="set"+a.capitalize(t);e[r]&&e[r](n)}})},_addDefineGetterSetter:function(e,t){var n="get"+a.capitalize(t),r="set"+a.capitalize(t);e.__defineGetter__(t,e[n]),e.__defineSetter__(t,e[r])},_defineAttributeProperty:function(e,t){Object.defineProperty?this._addDefineProperty(e,t):e.__defineGetter__&&e.__defineSetter__&&this._addDefineGetterSetter(e,t)},_buildCTX:function(){},_set:function(e,t){i.set(this,e,t)},_get:function(e){return i.get(this,e)},_setNew:function(e){this._dataNew["_"+e]=!0},_unsetNew:function(e){delete this._dataNew["_"+e]},_isSetNew:function(e){return this._dataNew["_"+e]},_clone:function(e){return engine.clone(e)},_beanToJson:function(e,n){var r=e[n];if(t.isArray(r)){for(var i=[],a=0;a<r.length;a++)i.push(r[a]._toObject());e[n]=i}else null===r?e[n]=null:"undefined"!=typeof r&&r._toObject&&(e[n]=r._toObject())},_jsonToBean:function(e,n,r){var i=e[n];if(t.isArray(i)){for(var a=[],o=0;o<i.length;o++){var s=new r;s._fromObject(i[o]),a.push(s)}e[n]=a}this.inherited(arguments)},toString:function(){return this._toString()},_toString:function(){return JSON.stringify(this._toObject())},fromString:function(e){this._fromString(e)},_fromString:function(e){this._fromObject(JSON.parse(e))},toObject:function(){return this._toObject()},_toObject:function(){return this._clone(this._data)},fromObject:function(e){this._fromObject(e)},_fromObject:function(e){for(var t in e)this._set(t,e[t])}})})},"engine/model/att-handler":function(){define(["mojo/_base/lang","engine/util","engine/data/types","engine/context/Logger","mojo/query"],function(e,t,n,r,i){var a,o="private",s=function(){a||(a=require("engine/data/_Bean"))};return{set:function(e,t,i){var a=n.getAttSchema(e,t);if(!a)return r.error("Se está haciendo un setter de un atributo '"+t+"' desconocido para este bean"),!1;if(!n.isValid(a,i))try{i=n.applyConversion(a,i)}catch(o){return r.error("Se está haciendo un setter de un atibuto con un tipo distinto al que acepta y no se ha podido convertir automaticamente"),!1}return e._data[t]=i,!0},get:function(e,t){return"undefined"==typeof e._data[t]?null:e._data[t]},toJson:function(t){if(a||s(),e.isArray(t)){for(var n=[],r=0;r<t.length;r++)n[r]=this.toJson(t[r]);return n}return t&&t.isInstanceOf&&t.isInstanceOf(a)?t.toObject():t},getCtx:function(e,r){var a={};for(var s in e._CTX){var u=e._CTX[s];if(u.scope!==o){s=s.substring(1);var c=t.executeGetter(e,s,r,!0,!0);n.isFile(u)?i("input[type=file]").forEach(function(e){e.value===c&&(a[s]=e)}):a[s]=this.toJson(c)}}return a}}})},"engine/data/tbl-param":function(){define(["mojo/Deferred","mojo/request/xhr","mojo/_base/lang"],function(e,t,n){var r={};return{loadTables:function(t){var i=new e,a=t._map,o=a._datasources;if(!o)return i.resolve();for(var s in o){var u,c=o[s];r[this.getKey(t,c)]?u=n.clone(r[this.getKey(t,c)]):(u=this.load(c),u&&(r[this.getKey(t,c)]=u)),a._tblCache||(a._tblCache={}),u&&(a._tblCache[this.getKey(t,c)]=u)}return setTimeout(function(){i.resolve()},0),i},load:function(e){var n=[];if(t(this.getUrl(e),{handleAs:"xml",sync:!0}).then(function(t){try{var r=t.getElementsByTagName("table");if(r){var i=r[0].getAttribute("error");if(i){var a=null;a="Tabla no encontrada"===i?"La tabla de parámetros '"+e.tableName+"' no se ha encontrado":"El proyecto GlobalTblParam no se encuentra en el workspace",console.error(a)}var o=r[0].getElementsByTagName("row");if(o)for(var s=0;s<o.length;s++){for(var u={_isTblRow:!0},c=o[s],l=0;l<c.childNodes.length;l++){var d=c.childNodes[l],f=d.innerHTML?d.innerHTML:d.text;!f&&d.firstChild&&(f=d.firstChild.nodeValue);var h=null;try{h=d.id?d.id:d.attributes.getNamedItem("id").text}catch(p){}!h&&d.attributes&&d.attributes.id&&(h=d.attributes.id.nodeValue),h&&f&&(u["_"+h]=f)}n.push(u)}}else n="No se ha encontrado el nodo de la tabla de parámetros con id: "+e.tableName}catch(p){n="Se ha producido un error buscando la tabla de parámetros: "+e.tableName}},function(e){n=e}),"string"==typeof n)throw n;return n},getUrl:function(e){var t="";for(var n in e)t+=n+"="+e[n],t+="&";return t=t.substring(0,t.length-1),"pegasus.tbl?"+t},getKey:function(e,t){return t.tableName},getRows:function(e,t){return e._map._tblCache[this.getKey(e,t)]}}})},"engine/mapper/Island":function(){define(["mojo/_base/declare","mojo/_base/lang","engine/mapper/_Tuple","engine/util","engine/context/Logger","./constants"],function(e,t,n,r,i,a){var o=function(e){return e?t.isArray(e)?e:[e]:[]},s=function(e,t,n){for(var r=0;r<e.length;r++)try{e[r].execute(t,n)}catch(i){console.error(i)}};return e([n],{method:null,InConstructor:null,inTuples:null,OutConstructor:null,outTuples:null,build:function(e){var t=this.view._getMapperAdapter(),n=this.view._map._beans[e.method];this.method=e.method,this.InConstructor=n?n[a.IN]:null,this.islandTuplesInInfo=o(e.paramIn.mapJava),this.inTuples=[];for(var r=0;r<this.islandTuplesInInfo.length;r++){var i=t.newTuple(this.islandTuplesInInfo[r]);i.island=this,this.inTuples.push(i)}this.OutConstructor=n?n[a.OUT]:null,this.islandTuplesOutInfo=o(e.paramOut.mapJava),this.outTuples=[];for(var s=0;s<this.islandTuplesOutInfo.length;s++){var u=t.newTuple(this.islandTuplesOutInfo[s]);u.island=this,this.outTuples.push(u)}},execute:function(e,n){var r=this.getView(),a=r._map,o=this.method,u=a[o];if(u&&this.InConstructor&&this.OutConstructor){var c=new this.InConstructor,l=new this.OutConstructor;r._getMapperAdapter().setCurrentIslandBeans(o,c,l),s(this.inTuples,e),t.hitch(a,u)(c,l),s(this.outTuples,e,n),r._getMapperAdapter().setCurrentIslandBeans(o)}else i.error("Falta algo por implementar..")},containsAttFrom:function(e){for(var t=0;t<this.inTuples.length;t++)if(this.inTuples[t].containsAttFrom(e))return!0;return!1},containsAttTo:function(e){for(var t=0;t<this.outTuples.length;t++)if(this.outTuples[t].containsAttTo(e))return!0;return!1}})})},"engine/model/res-handler":function(){define(["engine/model/visitor","mojo/dom-construct","mojo/_base/array"],function(e,t,n){var r=function(e,t){if(e&&"/"!==e[0]&&!e.startsWith("https://")&&!e.startsWith("http://")&&!e.startsWith("data:image")){for(var n=t._getParentView();n&&n!==n._getParentView()&&!n._isRoot;){var r=n._parent;if(null!==r&&r._isSceneView())return r._getSceneURL()+"/"+e;if("undefined"!=typeof djConfig&&djConfig.flow)n=n._getParentView();else{if(n===n._getParentView())return e;n=n._getParentView()}}"undefined"!=typeof djConfig&&djConfig.flow&&(e=(djConfig.flow.root?djConfig.flow.root:"")+e+(djConfig.flow.version?"?"+djConfig.flow.version:""))}return e};return{calculatePath:function(e,t){return r(e,t)},calculateMapping:function(e,t){var n=t._get(e);return-1==n.indexOf("@")?n:("class"===e&&(n=this.calculateQfcnClass(t).join(" ")),n)},calculateQfcnClass:function(e){for(var t=e.getClass().split(" "),n=e._getDeclarationView().STYLE,r=[],i=0;i<t.length;i++)if(-1!=t[i].indexOf("@")){var a=-1!=t[i].indexOf("@style"),o=-1!=t[i].indexOf("@theme"),s=t[i].split("/")[1];if(a)r.push(n[s.toUpperCase()]);else if(o){var u=e._getDeclarationView().declaredClass.split(".")[0];r.push(u+"___"+s)}}else r.push(t[i]);return r},downloadCss:function(e,n){var i=n.getHref();if(i){var a=n.getRel(),o={href:r(i,n),rel:a?a:"stylesheet",type:"text/css"},s=n.getMedia();s&&(o.media=s),n._eachData(function(e,t){o[e]=t}),n._eachAria(function(e,t){o[e]=t}),t.create("link",o,e)}},downloadViewCss:function(e){var t=document.head?document.head:document.getElementsByTagName("head")[0],r=this,i=e._getChildren();n.forEach(i,function(e){e._getRender().isBodyRenderizable()||"bks.outputStylesheet"!==e.declaredClass&&"pgs.outputStylesheet"!==e.declaredClass||e.getDomNode()||r.downloadCss(t,e)})},download:function(n){var i=function(){},a=document.head?document.head:document.getElementsByTagName("head")[0],o=this,s=[];if(e.forEachComponent(n,function(e){if(!e._getRender().isBodyRenderizable())if("bks.outputStylesheet"===e.declaredClass||"pgs.outputStylesheet"===e.declaredClass)o.downloadCss(a,e);else if("bks.outputScript"===e.declaredClass||"pgs.outputScript"===e.declaredClass){var t=e.getSrc();t&&s.push(e)}}),s.length){var u=function(e){var n=null,i=e.getSrc();return t.create("script",{type:"text/javascript",src:r(i,e),onload:function(){n()},onreadystatechange:function(){("loaded"===this.readyState||"complete"===this.readyState)&&(this.onreadystatechange=null,n())}},a),{then:function(e){n=e?e:function(){}}}},c=0,l=function(){u(s[c]).then(function(){++c<s.length?l():i()})};l()}else setTimeout(function(){i()},0);return{then:function(e){i=e?e:function(){}}}},qualifiedAtt:function(e){var t=!1;switch(e){case"src":t=!0;break;case"href":t=!0;break;case"poster":t=!0}return t},qualifiedHtmlTag:function(e){var t=!1;switch(e){case"img":t=!0;break;case"script":t=!0;break;case"audio":t=!0;break;case"video":t=!0;break;case"link":t=!0}return t},possibleMappingAtt:function(e){var t=!1;switch(e){case"class":t=!0}return t}}})},"engine/loader":function(){define(["engine/kernel","engine/has","engine/profiles","engine/model/dom-handler","engine/util","engine/model/visitor","mojo/_base/lang","engine/context/Logger","engine/model/properties-handler","engine/model/ev-handler","engine/events/Event","engine/model/res-handler","mojo/Deferred","engine/context/BKSPresentationContext","engine/ieHacks"],function(e,t,n,r,i,a,o,s,u,c,l,d,f,h){var p="testmsf/functional/engine/EmptyView",g=function(e){return e&&e.resolve?(t("engine-editable")?require(["editors/design"],function(){require(["bks/bks-editor"],function(){require(["engine/components/view","engine/components/template","engine/components/interface"],function(){e.resolve()})})}):e.resolve(),e.promise):null},m=function(){var e,t=2,n=document.getElementsByTagName("meta");if(n&&n.length)for(var r=0;r<n.length;r++)if("pgs-domain"===n[r].getAttribute("http-equiv")){if(e=n[r].getAttribute("content"),e&&/translate\s*=\s*false/.test(e))return;(t=/\s*length\s*=\s*(\d+)\s*/.exec(e))&&(t=t[1])||2}var i=document.domain;if(i&&!document.domain.match(/\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}/)){var a=i.split(".");a.length>t&&(a.splice(0,a.length-t),document.domain=a.join("."))}},v=function(e){if(window.parent!==window){var t,n;try{t=window.parent,n=t.document.location.origin}catch(r){return void(e.postMessage=function(){})}window.addEventListener("message",function(r){r.source===t&&r.origin===n&&c.fireEvent(new l("onClientMessage",e,null,r.data))},!1)}};return{setClientEngine:function(){t.set("engine-client",!0),t.set("engine-log-api",!0)},resetBody:function(){h.clear(),document.body.innerHTML=""},getViewModule:function(){try{var e=i.readFromQueryString("view");
if(!e)throw'No se puede acceder al parámetro "view" en la queryString';var t=/(.+)\.xhtml$/i.exec(e);return e=t?t[1]:e,e="/"===e[0]?e.substring(1):e,e.replace(/\./g,"/")}catch(n){return s.error(n),p}},loadNav:function(t){e.get(t+".json","json",function(e){require(["engine/flow/manager"],function(t){t.start(e)})},console.error)},load:function(r,i,a,o){var u=new f,l=this,h=null;r||(r=this.getViewModule()),"undefined"!=typeof djConfig&&djConfig.uncompressed&&(r+=".js.uncompressed");var p="Loading ["+r+"] (Full time)",_="Loading root",b="Building mappers",y="Asking for resources",C="Rendering view";m(),s._time(p);var E=function(){s._timeEnd(p),e.publish(e.MESSAGE.EVENT_READY),u.resolve(h)};n._loadRuntimeProfile();var w=new f;return g(w).then(function(){require([r,"engine/has!engine-editable?editors/design/manager"],function(n,r){s._time(_),h=e.loadRoot(n,o),h._arqParams=a,s._timeEnd(_),s._time(b),e.buildMappings(h,i),s._timeEnd(b);var u=function(){t("engine-client")||c.attachAllEvents(h),e.markAsReady(),s._time(C),t("engine-client")&&(l.resetBody(h),h._render()),s._timeEnd(C),e.markAsRender(),c.fireOnClientReady(h),window.parent!==window&&v(h),t("engine-editable")?r.init().then(E):E()},f=!1,p=!1;t("engine-client")&&(s._time(y),d.download(h).then(function(){p=!0,f&&u()}),s._timeEnd(y)),e.ready(function(){f=!0,(p||!t("engine-client"))&&u()})})}),u.promise}}})},"engine/profiles":function(){define(["engine/util","mojo/_base/array","engine/MsfMrlJs"],function(e,t,n){var r=[];return{_accessor:null,get:function(e){return r[e]},set:function(e,t){r[e]=t},_loadRuntimeProfile:function(){if("undefined"!=typeof dojoConfig&&dojoConfig.multiProfile){var e=dojoConfig.multiProfile;for(var t in e)this.set(t,e[t])}},_getCurrentExecProfile:function(){var e="profile=";for(var t in r)e=e+t+"%3D"+r[t]+"%23";return e},_resolvePath:function(e){for(var t in e){if(/^[a-z]{2}$|^[a-z]{2}(-[a-zA-Z]+){1,2}/.test(t)&&dojoConfig.multiLocale&&dojoConfig.multiLocale===t)return e[t];if(n.evaluate(t,this))return e[t]}},resolvePath:function(e){for(var t in e)if(n.evaluate(t,this))return e[t]},_access:function(){if(this._accessor)return this._accessor;var e=this,t={getCanalMarco:function(){return e.get("CanalMarco")||null},getEstructura:function(){return e.get("Estructura")||null},getGama:function(){return e.get("Gama")||null},getEmpresaAsociada:function(){return e.get("EmpresaAsociada")||null},getEmpresa:function(){return e.get("Empresa")||null},getIdioma:function(){return e.get("Idioma")||null},getNivelIU:function(){return e.get("NivelIU")||null},getRender:function(){return e.get("Render")||null}};return this._accessor=t,t}}})},"engine/MsfMrlJs":function(){define([],function(){return String.prototype.equals=function(e){return this==e},String.prototype.startsWith=function(e){return e&&this.substring(0,e.length)===e},{evaluate:function(e,t){switch(e){case"0a2442c001-0823-94d7-9234-a0552c4f89":return"0030".equals(t.get("Empresa"));case"0a2442c001-0823-94f6-3613-4f55591183":return"0049".equals(t.get("Empresa"));case"0a2442c001-0823-951c-2dd7-7d788cdd3e":return"0015".equals(t.get("Empresa"));case"0a2442c001-0877-1990-0d92-2e6dae88ae":return"0018".equals(t.get("Empresa"));case"0a2442c001-0877-19bb-729a-c860f893be":return"0073".equals(t.get("Empresa"));case"0a690b4f01-1aba-be74-af3e-bf7c5112ac":return"3293".equals(t.get("Empresa"));case"b469089a01-2207-48d3-3747-2475a23343":return"2222".equals(t.get("Empresa"));case"b469071201-249f-cec1-96bf-31e18d728f":return"0019".equals(t.get("Empresa"));case"b469087601-2507-3ca8-b9d1-e3bd948a2a":return"0086".equals(t.get("Empresa"));case"0a2442c001-0823-9561-a2c9-130322331f":return"OFI".equals(t.get("CanalMarco"));case"0a2442c001-0823-9589-eb39-e9ea3a73ef":return"CIC".equals(t.get("CanalMarco"));case"0a2442c001-0823-95b3-5c81-a137308cd2":return"INT".equals(t.get("CanalMarco"));case"0a2442c001-0823-95dd-9841-e282f40be6":return"RCA".equals(t.get("CanalMarco"));case"0a2442c001-0823-9b6c-ffed-f0c1139e76":return"RML".equals(t.get("CanalMarco"));case"0a2442c001-0823-966f-a7e2-6ab777ea67":return"COL".equals(t.get("CanalMarco"));case"b469089401-13ce-e745-9b0b-c5875f9b11":return null==t.get("EmpresaAsociada")||"0000".equals(t.get("EmpresaAsociada"));case"b469089401-13ce-e7a9-56ad-9b1bfeaa5e":return"0001".equals(t.get("EmpresaAsociada"));case"b469089401-13ce-e7f4-78b1-c259f0d63f":return"0002".equals(t.get("EmpresaAsociada"));case"b469089401-13ce-e830-6862-64a9597e0d":return"0003".equals(t.get("EmpresaAsociada"));case"b469089401-13ce-e95e-78b8-766461b0c8":return"0004".equals(t.get("EmpresaAsociada"));case"b469089401-13ce-e990-856f-bc66dc25bf":return"0005".equals(t.get("EmpresaAsociada"));case"b469089401-13ce-e9df-fd31-294cced509":return"0006".equals(t.get("EmpresaAsociada"));case"b469089401-13ce-ea09-4f09-685d84b507":return"0007".equals(t.get("EmpresaAsociada"));case"b469089401-13ce-ea3d-dcbd-c81f2a9232":return"0008".equals(t.get("EmpresaAsociada"));case"b469089401-13ce-ea59-34ce-ffce9a27e2":return"0009".equals(t.get("EmpresaAsociada"));case"b469086201-179b-ceb4-cd58-314ffb7cc2":return"0011".equals(t.get("EmpresaAsociada"));case"0a2442c001-0823-996a-c6c7-75cd381745":return t.get("Idioma").startsWith("es");case"0a2442c001-0823-99c3-188f-d421b304e7":return t.get("Idioma").startsWith("en");case"0a2442c001-0823-9a57-a796-e96192c85f":return"ca-ES".equals(t.get("Idioma"));case"0a2442c001-0877-4e43-c0a7-a321fc485b":return"eu-ES".equals(t.get("Idioma"));case"0a2442c001-0823-9bf2-c954-cfd142f81a":return t.get("Idioma").startsWith("pt");case"0a2442c001-0877-1b5c-316d-a96050f6dd":return"es-ES".equals(t.get("Idioma"));case"0a2442c001-0877-1bc7-dcc5-9a577bb3ab":return"pt-PT".equals(t.get("Idioma"));case"0a2442c001-0877-1bff-d424-3f15e7fd65":return"pt-BR".equals(t.get("Idioma"));case"0a2442c001-0877-1dbe-1ee7-804d92b0fd":return"en-GB".equals(t.get("Idioma"));case"b469345801-15a3-8674-ba58-bb17708fa0":return"en-US".equals(t.get("Idioma"));case"b469345801-15a3-86fc-8799-75158cf04f":return t.get("Idioma").startsWith("it");case"b469345801-15a3-8a05-b16a-97c65174cd":return"it-IT".equals(t.get("Idioma"));case"b469345801-15a3-8842-46eb-63d6696b4c":return t.get("Idioma").startsWith("de");case"b469345801-15a3-88c1-0b9e-8e6a7519e1":return"de-DE".equals(t.get("Idioma"));case"b469345801-15a3-88ef-3f07-6b7a93d915":return"de-AT".equals(t.get("Idioma"));case"b469345801-15a3-892e-4cb7-e49edd057c":return"de-LI".equals(t.get("Idioma"));case"b469345801-15a3-8971-dde4-27b5127876":return"de-LU".equals(t.get("Idioma"));case"b469345801-15a3-899f-a439-e66038d7c2":return"de-CH".equals(t.get("Idioma"));case"0a2442c001-0823-9ce3-15ca-1988103566":return"0030".equals(t.get("Empresa"))&&"OFI".equals(t.get("CanalMarco"));case"0a2442c001-0823-9d46-639a-7d9fbe5f67":return"0030".equals(t.get("Empresa"))&&"CIC".equals(t.get("CanalMarco"));case"0a2442c001-0823-9dd2-574d-4463719e26":return"0030".equals(t.get("Empresa"))&&"INT".equals(t.get("CanalMarco"));case"0a2442c001-0823-9e3a-87ec-9304103b6a":return"0030".equals(t.get("Empresa"))&&"RCA".equals(t.get("CanalMarco"));case"0a2442c001-0823-a2c6-a66f-9340b96edd":return"0030".equals(t.get("Empresa"))&&"RML".equals(t.get("CanalMarco"));case"0a2442c001-0823-a3ca-e752-94fdc74fd9":return"0030".equals(t.get("Empresa"))&&"COL".equals(t.get("CanalMarco"));case"0a2442c001-0823-a4b1-eca9-1d4d1f9b4a":return"0049".equals(t.get("Empresa"))&&"OFI".equals(t.get("CanalMarco"));case"0a2442c001-0823-a54f-0727-027d7f2e93":return"0049".equals(t.get("Empresa"))&&"CIC".equals(t.get("CanalMarco"));case"0a2442c001-0823-a594-caee-d9a12b63e4":return"0049".equals(t.get("Empresa"))&&"INT".equals(t.get("CanalMarco"));case"0a2442c001-0823-a611-da30-1ab13cb9f7":return"0049".equals(t.get("Empresa"))&&"RCA".equals(t.get("CanalMarco"));case"0a2442c001-0823-a65a-f8dc-e78c116c4d":return"0049".equals(t.get("Empresa"))&&"RML".equals(t.get("CanalMarco"));case"0a2442c001-0823-a73c-bdf0-7764fbe5c4":return"0049".equals(t.get("Empresa"))&&"COL".equals(t.get("CanalMarco"));case"0a2442c001-0823-a7bc-9c2d-a72a752c89":return"0015".equals(t.get("Empresa"))&&"OFI".equals(t.get("CanalMarco"));case"0a2442c001-0823-a7f0-0039-3c330fc17b":return"0015".equals(t.get("Empresa"))&&"CIC".equals(t.get("CanalMarco"));case"0a2442c001-0823-a854-b573-52344e8a92":return"0015".equals(t.get("Empresa"))&&"INT".equals(t.get("CanalMarco"));case"0a2442c001-0823-a8a6-cd06-89d3cfb791":return"0015".equals(t.get("Empresa"))&&"RCA".equals(t.get("CanalMarco"));case"0a2442c001-0823-a8ef-fb04-1111e6c538":return"0015".equals(t.get("Empresa"))&&"RML".equals(t.get("CanalMarco"));case"0a2442c001-0823-a9b8-ba88-6649c411f2":return"0015".equals(t.get("Empresa"))&&"COL".equals(t.get("CanalMarco"));case"b469089401-12e1-e247-5d4b-36c1507935":return"0073".equals(t.get("Empresa"))&&"OFI".equals(t.get("CanalMarco"));case"b469089401-12e1-e2bf-b9ef-d87154ce15":return"0073".equals(t.get("Empresa"))&&"CIC".equals(t.get("CanalMarco"));case"b469089401-12e1-e342-67bd-99116b7998":return"0073".equals(t.get("Empresa"))&&"INT".equals(t.get("CanalMarco"));case"b469089401-12e1-e3a8-c261-4533158a97":return"0073".equals(t.get("Empresa"))&&"RCA".equals(t.get("CanalMarco"));case"b469089401-12e1-e3ef-ae51-ad116ee291":return"0073".equals(t.get("Empresa"))&&"RML".equals(t.get("CanalMarco"));case"b469089401-12e1-e457-90f8-ff64082641":return"0073".equals(t.get("Empresa"))&&"COL".equals(t.get("CanalMarco"));case"0a690b4f01-1aba-e04f-eba1-9ea6feda2d":return"3293".equals(t.get("Empresa"))&&"OFI".equals(t.get("CanalMarco"));case"0a690b4f01-1aba-e08a-83a3-b8f8de6404":return"3293".equals(t.get("Empresa"))&&"CIC".equals(t.get("CanalMarco"));case"0a690b4f01-1aba-e0d8-a3db-bc2a0d2d78":return"3293".equals(t.get("Empresa"))&&"INT".equals(t.get("CanalMarco"));case"0a690b4f01-1aba-e13d-78c3-b063cca69a":return"3293".equals(t.get("Empresa"))&&"RCA".equals(t.get("CanalMarco"));case"0a690b4f01-1aba-e170-6f7f-58e33b2be3":return"3293".equals(t.get("Empresa"))&&"RML".equals(t.get("CanalMarco"));case"0a690b4f01-1aba-e1be-9e51-b981b8145c":return"3293".equals(t.get("Empresa"))&&"COL".equals(t.get("CanalMarco"));case"0a2442b501-07b2-7271-96e1-d3565775b8":return"00".equals(t.get("Gama"));case"0a2442b501-07b2-7288-0cb0-bcca7e954a":return"01".equals(t.get("Gama"));case"0a2442b501-07b2-7298-a62d-1e29d51d6f":return"02".equals(t.get("Gama"));case"0a2442b501-07b2-72bd-e187-b6d31c139d":return"03".equals(t.get("Gama"));case"0a2442b501-07b2-72f1-4692-f3cf1f8cc3":return"04".equals(t.get("Gama"));case"0a2442b501-07b2-7306-c281-931991512e":return"05".equals(t.get("Gama"));case"0a2442b501-07b2-7327-9810-2b0a69002b":return"06".equals(t.get("Gama"));case"0a2442b501-07b2-7338-5145-b5622f8a7a":return"07".equals(t.get("Gama"));case"0a2442b501-07b2-7346-c89c-3bfda636e4":return"08".equals(t.get("Gama"));case"0a2442b501-07b2-73ac-0aae-dc8c6cf1d0":return"09".equals(t.get("Gama"));case"0a2442b501-07b2-73c2-61cc-e10a153742":return"10".equals(t.get("Gama"));case"0a2442b501-07b2-73d4-6267-6459a461f0":return"11".equals(t.get("Gama"));case"0a2442b501-07b2-73f8-e23d-7d36e02b86":return"12".equals(t.get("Gama"));case"0a2442b501-07b2-740c-a98d-a56369dc7e":return"13".equals(t.get("Gama"));case"0a2442b501-07b2-741f-46ac-82731fe8f5":return"14".equals(t.get("Gama"));case"0a2442b501-07b2-742e-e6d3-29023ecddc":return"15".equals(t.get("Gama"));case"b469083f01-15a8-2221-304b-a9945d83bd":return"17".equals(t.get("Gama"));case"b469083f01-15a8-2254-b3e1-f6d934ba4f":return"18".equals(t.get("Gama"));case"0a690b2101-1d3e-c0f4-5a5d-632ec963cb":return"19".equals(t.get("Gama"));case"0a2442b501-07b2-7459-7149-edaad83fd5":return"100".equals(t.get("Gama"));case"0a2442b501-07b2-7468-a35e-4c7952ec70":return"101".equals(t.get("Gama"));case"0a2442b501-07b2-7499-1acd-0197295bed":return"102".equals(t.get("Gama"));case"0a2442b501-07b2-74cb-1784-f89b91aff9":return"103".equals(t.get("Gama"));case"0a2442b501-07b2-74dd-a5df-34a516597d":return"104".equals(t.get("Gama"));case"0a2442b501-07b2-74f4-59d6-10f303ff01":return"105".equals(t.get("Gama"));case"0a24132301-09df-4793-8dd0-04df07b6c3":return"106".equals(t.get("Gama"));case"b469083f01-15a8-22ae-9b58-005fe98494":return"107".equals(t.get("Gama"));case"b46907b201-1170-03e5-7f84-cdb25f534b":return"108".equals(t.get("Gama"));case"0a2442b501-07b2-7511-f3b8-93a5311d20":return"200".equals(t.get("Gama"));case"0a2442b501-07b2-7529-8260-c245952f6d":return"201".equals(t.get("Gama"));case"0a690bf701-276c-e4ef-f15a-19f0bd112e":return"203".equals(t.get("Gama"));case"0a2442b501-07b2-7559-4d09-9375fb63bb":return!0;case"b469343801-18e0-d2ac-7050-f750c99016":return-1!=t.get("NivelIU").indexOf("A");case"b469343801-18e0-d2e3-3089-6b02dc2846":return-1!=t.get("NivelIU").indexOf("B");case"b469343801-18e0-d31a-4dfb-65d3a67f30":return-1!=t.get("NivelIU").indexOf("C");case"b469343801-18e0-d350-3279-a50ce2a6e3":return-1!=t.get("NivelIU").indexOf("D");case"b469343801-18e0-d37f-1287-94f02a0b08":return-1!=t.get("NivelIU").indexOf("E");case"b469087001-23dc-48c8-349c-e459157982":return-1!=t.get("NivelIU").indexOf("I");case"b469343801-18e0-d3be-5dce-70f7f525a8":return-1!=t.get("NivelIU").indexOf("P");case"0a690bee01-1c08-8ec7-6994-68e4b3ba16":return"0073".equals(t.get("Empresa"))&&t.get("Idioma").startsWith("es");case"0a690bee01-1c08-9261-39c2-f9e3158647":return"0073".equals(t.get("Empresa"))&&t.get("Idioma").startsWith("en");case"0a690bee01-1c08-93f9-cb27-7d68c58fc5":return"0073".equals(t.get("Empresa"))&&t.get("Idioma").startsWith("de");case"0a690bee01-1c08-94ee-8bd5-0c75ea276f":return"0073".equals(t.get("Empresa"))&&t.get("Idioma").startsWith("pt");case"0a690bee01-1c08-9616-817f-7cd6ae223c":return"0073".equals(t.get("Empresa"))&&"ca-ES".equals(t.get("Idioma"));case"0a690bee01-1c08-a171-9bee-83b48e2266":return"0049".equals(t.get("Empresa"))&&t.get("Idioma").startsWith("es");case"0a690bee01-1c08-a19c-26e7-cbc064ef80":return"0049".equals(t.get("Empresa"))&&t.get("Idioma").startsWith("en");case"0a690bee01-1c08-a1c0-9673-4560f3bf30":return"0049".equals(t.get("Empresa"))&&t.get("Idioma").startsWith("de");case"0a690bee01-1c08-a1e8-df97-79c4ec6495":return"0049".equals(t.get("Empresa"))&&t.get("Idioma").startsWith("pt");case"0a690bee01-1c08-a20e-a705-d0864fb62c":return"0049".equals(t.get("Empresa"))&&"ca-ES".equals(t.get("Idioma"));case"0a690bee01-1c08-a284-9256-3597ebb4ab":return"3293".equals(t.get("Empresa"))&&t.get("Idioma").startsWith("es");case"0a690bee01-1c08-a2c1-6cc0-9d787d2a6d":return"3293".equals(t.get("Empresa"))&&t.get("Idioma").startsWith("en");case"0a690bee01-1c08-a2ee-1a67-af693bea65":return"3293".equals(t.get("Empresa"))&&t.get("Idioma").startsWith("de");case"0a690bee01-1c08-a31a-5ac1-f75566d561":return"3293".equals(t.get("Empresa"))&&t.get("Idioma").startsWith("pt");case"0a690bee01-1c08-a340-02a2-81d6b44072":return"3293".equals(t.get("Empresa"))&&"ca-ES".equals(t.get("Idioma"));case"0a690bee01-1c08-a3e7-ebe8-fda77e833d":return"0030".equals(t.get("Empresa"))&&t.get("Idioma").startsWith("es");case"0a690bee01-1c08-a411-9be0-0674fdb118":return"0030".equals(t.get("Empresa"))&&t.get("Idioma").startsWith("en");case"0a690bee01-1c08-a43e-a6de-e61b48c4cf":return"0030".equals(t.get("Empresa"))&&t.get("Idioma").startsWith("de");case"0a690bee01-1c08-a461-129c-c4a1dfcc8d":return"0030".equals(t.get("Empresa"))&&t.get("Idioma").startsWith("pt");case"0a690bee01-1c08-a487-4859-bc6348dcc5":return"0030".equals(t.get("Empresa"))&&"ca-ES".equals(t.get("Idioma"));case"b469088c01-1ef9-8743-10bf-742acaabe6":return"INT".equals(t.get("CanalMarco"))&&"es-ES".equals(t.get("Idioma"));case"b469088c01-1ef9-87c4-3700-5ea366d090":return"INT".equals(t.get("CanalMarco"))&&"pt-PT".equals(t.get("Idioma"));case"b469088c01-1ef9-888d-4406-b6fa02b50d":return"INT".equals(t.get("CanalMarco"))&&"en-GB".equals(t.get("Idioma"));case"b469087001-23dc-3c7c-ae8d-e14cff09b0":return"2222".equals(t.get("Empresa"))&&t.get("Idioma").startsWith("es");case"b469087001-23dc-3d18-fec7-0644961065":return"2222".equals(t.get("Empresa"))&&t.get("Idioma").startsWith("en");case"b469087001-23dc-3da4-c388-ce85c906df":return"2222".equals(t.get("Empresa"))&&t.get("Idioma").startsWith("de");case"b469087001-23dc-3ea2-e96b-2a8c8f59ad":return"2222".equals(t.get("Empresa"))&&t.get("Idioma").startsWith("pt");case"b469087001-23dc-3f58-adc9-6de7b18b76":return"2222".equals(t.get("Empresa"))&&"ca-ES".equals(t.get("Idioma"));case"b469087001-23dc-e864-bc04-50a75fe1dc":return"2222".equals(t.get("Empresa"))&&"OFI".equals(t.get("CanalMarco"));case"b469087001-23dc-e8d7-9bec-33933fd5fd":return"2222".equals(t.get("Empresa"))&&"CIC".equals(t.get("CanalMarco"));case"b469087001-23dc-e936-a3fd-94ea840417":return"2222".equals(t.get("Empresa"))&&"INT".equals(t.get("CanalMarco"));case"b469087001-23dc-e9af-8cf8-d2f97344b3":return"2222".equals(t.get("Empresa"))&&"RCA".equals(t.get("CanalMarco"));case"b469087001-23dc-ea55-a02f-6f46ccf0fc":return"2222".equals(t.get("Empresa"))&&"RML".equals(t.get("CanalMarco"));case"b469087001-23dc-eab6-4e08-d55bd1ec52":return"2222".equals(t.get("Empresa"))&&"COL".equals(t.get("CanalMarco"));case"b469087001-23dc-423e-bd65-e17a43587d":return"01".equals(t.get("Estructura"));case"b469087001-23dc-42bb-7f5a-42066a72e9":return"02".equals(t.get("Estructura"));case"b469071201-24ba-6eae-8aa3-416ab7517e":return-1!=t.get("NivelIU").indexOf("W");case"b469087601-2507-0e67-b8c5-72df996a55":return"0019".equals(t.get("Empresa"))&&t.get("Idioma").startsWith("es");case"b469087601-2507-135d-ae9c-d27f2ef9ef":return"0019".equals(t.get("Empresa"))&&t.get("Idioma").startsWith("de");case"b469087601-2507-157a-2573-417491cab0":return"0019".equals(t.get("Empresa"))&&t.get("Idioma").startsWith("en");case"b469087601-2507-1629-fdab-b77c4b9809":return"0019".equals(t.get("Empresa"))&&t.get("Idioma").startsWith("pt");case"b469087601-2507-182d-bc05-1f816ddad5":return"0019".equals(t.get("Empresa"))&&"ca-ES".equals(t.get("Idioma"));case"b469087601-2507-1925-a9f8-5d45777458":return"0086".equals(t.get("Empresa"))&&t.get("Idioma").startsWith("es");case"b469087601-2507-198f-7fab-876cb80b22":return"0086".equals(t.get("Empresa"))&&t.get("Idioma").startsWith("en");case"b469087601-2507-19f5-bad1-68e3d921a9":return"0086".equals(t.get("Empresa"))&&t.get("Idioma").startsWith("de");case"b469087601-2507-1a4e-2bd5-f6b00b48d1":return"0086".equals(t.get("Empresa"))&&t.get("Idioma").startsWith("pt");case"b469087601-2507-1b29-f5ec-68c7caf153":return"0086".equals(t.get("Empresa"))&&"ca-ES".equals(t.get("Idioma"));case"b469087601-2507-2b3e-a80a-6f1e349fd4":return"0019".equals(t.get("Empresa"))&&"OFI".equals(t.get("CanalMarco"));case"b469087601-2507-2c97-fecf-2055eb8933":return"0019".equals(t.get("Empresa"))&&"CIC".equals(t.get("CanalMarco"));case"b469087601-2507-2cdf-96e7-6e8e85efbc":return"0019".equals(t.get("Empresa"))&&"INT".equals(t.get("CanalMarco"));case"b469087601-2507-2d23-a472-2bc534b0f0":return"0019".equals(t.get("Empresa"))&&"RCA".equals(t.get("CanalMarco"));case"b469087601-2507-2d6c-c368-b2732ae01c":return"0019".equals(t.get("Empresa"))&&"RML".equals(t.get("CanalMarco"));case"b469087601-2507-2db1-0f22-e927816ab7":return"0019".equals(t.get("Empresa"))&&"COL".equals(t.get("CanalMarco"));case"b469087601-2507-2df4-0466-44ce981296":return"0086".equals(t.get("Empresa"))&&"OFI".equals(t.get("CanalMarco"));case"b469087601-2507-2e27-97a7-d6af6d45a9":return"0086".equals(t.get("Empresa"))&&"CIC".equals(t.get("CanalMarco"));case"b469087601-2507-2e62-9c60-a490479805":return"0086".equals(t.get("Empresa"))&&"INT".equals(t.get("CanalMarco"));case"b469087601-2507-2e9b-50a8-b227aef2a0":return"0086".equals(t.get("Empresa"))&&"RCA".equals(t.get("CanalMarco"));case"b469087601-2507-2ed7-ad7d-040bdda783":return"0086".equals(t.get("Empresa"))&&"RML".equals(t.get("CanalMarco"));case"b469087601-2507-2f10-324e-15db58161b":return"0086".equals(t.get("Empresa"))&&"COL".equals(t.get("CanalMarco"));case"0a690b5101-24e2-b3ed-b685-4791a9dd08":return"202".equals(t.get("Gama"));case"b469089a01-2521-3a8b-221c-afeeff04c3":return"INT".equals(t.get("CanalMarco"))&&"pt-BR".equals(t.get("Idioma"));case"0a690b2801-2597-e9ae-430c-21affa0bd3":return"7002".equals(t.get("Empresa"));case"b469075401-2608-c153-24f1-4d2ff47ba6":return"0317".equals(t.get("Empresa"));case"b469075401-2608-c2ab-9033-17c0050963":return"7002".equals(t.get("Empresa"))&&"OFI".equals(t.get("CanalMarco"));case"b469075401-2608-c352-8e42-63223b34a5":return"7002".equals(t.get("Empresa"))&&"CIC".equals(t.get("CanalMarco"));case"b469075401-2608-c3cc-ee82-d6ad6e6e8c":return"7002".equals(t.get("Empresa"))&&"INT".equals(t.get("CanalMarco"));case"b469075401-2609-3043-6943-f80f48d2c3":return"7002".equals(t.get("Empresa"))&&"RCA".equals(t.get("CanalMarco"));case"b469075401-2609-3289-2326-1a19822496":return"7002".equals(t.get("Empresa"))&&"RML".equals(t.get("CanalMarco"));case"b469075401-2609-3306-afff-1e7d045eab":return"7002".equals(t.get("Empresa"))&&"COL".equals(t.get("CanalMarco"));case"b469075401-2609-339c-c553-2136c951a3":return"0317".equals(t.get("Empresa"))&&"OFI".equals(t.get("CanalMarco"));case"b469075401-2609-3771-ca9a-4ce792f8b2":return"0317".equals(t.get("Empresa"))&&"CIC".equals(t.get("CanalMarco"));case"b469075401-2609-37d7-b7eb-e130325c46":return"0317".equals(t.get("Empresa"))&&"INT".equals(t.get("CanalMarco"));case"b469075401-2609-387b-b8c6-a7807e427f":return"0317".equals(t.get("Empresa"))&&"RCA".equals(t.get("CanalMarco"));case"b469075401-2609-39d7-cd10-bef9faf8c8":return"0317".equals(t.get("Empresa"))&&"RML".equals(t.get("CanalMarco"));case"b469075401-2609-3a79-ca7b-4abe2ffeb3":return"0317".equals(t.get("Empresa"))&&"COL".equals(t.get("CanalMarco"));case"b469075401-2609-3f05-5df9-7eaf416070":return"7002".equals(t.get("Empresa"))&&t.get("Idioma").startsWith("es");case"b469075401-2609-4021-6ce7-6a1c6bf59b":return"7002".equals(t.get("Empresa"))&&t.get("Idioma").startsWith("en");case"b469075401-2609-41de-ac09-a92d98e341":return"7002".equals(t.get("Empresa"))&&t.get("Idioma").startsWith("de");case"b469075401-2609-4271-86a2-9f47fd1aeb":return"7002".equals(t.get("Empresa"))&&t.get("Idioma").startsWith("pt");case"b469075401-2609-42f7-8e1d-7d2361a30b":return"7002".equals(t.get("Empresa"))&&"ca-ES".equals(t.get("Idioma"));case"b469075401-2609-43bc-f225-b3195feffe":return"0317".equals(t.get("Empresa"))&&t.get("Idioma").startsWith("es");case"b469075401-2609-45e6-6925-3b89ce99b5":return"0317".equals(t.get("Empresa"))&&t.get("Idioma").startsWith("en");case"b469075401-2609-4675-1c7c-bacbaf2841":return"0317".equals(t.get("Empresa"))&&t.get("Idioma").startsWith("de");case"b469075401-2609-46e0-3af5-798e88db1e":return"0317".equals(t.get("Empresa"))&&t.get("Idioma").startsWith("pt");case"b469075401-2609-4752-ab3a-63a67b8d90":return"0317".equals(t.get("Empresa"))&&"ca-ES".equals(t.get("Idioma"));case"b469087601-2647-3c84-cb52-3d7dea86c3":return"0030".equals(t.get("Empresa"))&&"EMP".equals(t.get("CanalMarco"));case"b469087601-2647-3dbb-284e-8936f4004a":return"0049".equals(t.get("Empresa"))&&"EMP".equals(t.get("CanalMarco"));case"b469087601-2647-3f22-2bc0-eb5e25f061":return"0015".equals(t.get("Empresa"))&&"EMP".equals(t.get("CanalMarco"));case"b469087601-2647-3f84-adcc-76283122b3":return"0073".equals(t.get("Empresa"))&&"EMP".equals(t.get("CanalMarco"));case"b469087601-2647-3fe6-653f-40241b519c":return"3293".equals(t.get("Empresa"))&&"EMP".equals(t.get("CanalMarco"));case"b469087601-2647-406d-3982-e543033d1d":return"2222".equals(t.get("Empresa"))&&"EMP".equals(t.get("CanalMarco"));case"b469087601-2647-40aa-ed64-3e0cb87d0f":return"0019".equals(t.get("Empresa"))&&"EMP".equals(t.get("CanalMarco"));case"b469087601-2647-40ee-fb42-97a8d2ea8f":return"0086".equals(t.get("Empresa"))&&"EMP".equals(t.get("CanalMarco"));case"b469087601-2647-4143-e252-123f4cc450":return"7002".equals(t.get("Empresa"))&&"EMP".equals(t.get("CanalMarco"));case"b469087601-2647-417f-261e-89650c09ed":return"0317".equals(t.get("Empresa"))&&"EMP".equals(t.get("CanalMarco"));case"b469087601-2640-def6-4a7e-3a1bd0fc6a":return"EMP".equals(t.get("CanalMarco"));case"b469089a01-26b3-a746-c0b8-ccbd2e348b":return"es-US".equals(t.get("Idioma"));case"b469089a01-26b7-23c4-0cec-57d5d908d3":return"0015".equals(t.get("Empresa"))&&t.get("Idioma").startsWith("es");case"b469089a01-26b7-2502-587f-c24fa1838c":return"0015".equals(t.get("Empresa"))&&t.get("Idioma").startsWith("en");case"b469089a01-26b7-25ab-c774-5ee7e85221":return"0015".equals(t.get("Empresa"))&&t.get("Idioma").startsWith("de");case"b469089a01-26b7-263a-a9b1-159a40a28e":return"0015".equals(t.get("Empresa"))&&t.get("Idioma").startsWith("pt");case"b469089a01-26b7-2703-a6f4-3d0e006803":return"0015".equals(t.get("Empresa"))&&"ca-ES".equals(t.get("Idioma"));case"0a690b2801-2597-a5a8-72ab-48bee99e75":return"7002".equals(t.get("Empresa"));case"b469089a01-272e-352b-7cc4-7773f21fbc":return"INT".equals(t.get("CanalMarco"))&&"en-US".equals(t.get("Idioma"));case"b469089a01-2795-ddf7-780b-39ca26878a":return"INT".equals(t.get("CanalMarco"))&&"es-US".equals(t.get("Idioma"));case"b46908c301-28b5-0d57-fb26-bab6bd3da6":return"0022".equals(t.get("Empresa"));case"b46908c301-28b5-0e50-b30a-adff0f4a86":return"0022".equals(t.get("Empresa"))&&"OFI".equals(t.get("CanalMarco"));case"b46908c301-28b5-0f08-a83b-eb7b858f1b":return"0022".equals(t.get("Empresa"))&&"CIC".equals(t.get("CanalMarco"));case"b46908c301-28b5-0f76-85d0-bbe4401eb9":return"0022".equals(t.get("Empresa"))&&"INT".equals(t.get("CanalMarco"));case"b46908c301-28b5-0ff5-8974-254df0d142":return"0022".equals(t.get("Empresa"))&&"RCA".equals(t.get("CanalMarco"));case"b46908c301-28b5-1093-30e0-021dceb577":return"0022".equals(t.get("Empresa"))&&"RML".equals(t.get("CanalMarco"));case"b46908c301-28b5-111a-04d4-3db571eb53":return"0022".equals(t.get("Empresa"))&&"COL".equals(t.get("CanalMarco"));case"b46908c301-28b5-1174-78a4-8b55e9234a":return"0022".equals(t.get("Empresa"))&&"EMP".equals(t.get("CanalMarco"));case"b46908c301-28b5-1518-99e0-9e503fe167":return"0022".equals(t.get("Empresa"))&&t.get("Idioma").startsWith("es");case"b46908c301-28b5-16f6-fe60-382c0848a7":return"0022".equals(t.get("Empresa"))&&t.get("Idioma").startsWith("de");case"b46908c301-28b5-171f-b4cb-2b04d4cbd7":return"0022".equals(t.get("Empresa"))&&t.get("Idioma").startsWith("en");case"b46908c301-28b5-1764-9c67-27bdaef46b":return"0022".equals(t.get("Empresa"))&&t.get("Idioma").startsWith("pt");case"b46908c301-28b5-1963-1c91-5a5c46f649":return"0022".equals(t.get("Empresa"))&&"ca-ES".equals(t.get("Idioma"));case"b46587b101-4477-d878-f569-fabdb0dc5d":return"es-MX".equals(t.get("Idioma"));case"b469206801-300c-c3e9-c302-fe73acd11d":return"3294".equals(t.get("Empresa"));case"b469206801-300c-d794-b6e0-ea65be4283":return"3294".equals(t.get("Empresa"))&&"OFI".equals(t.get("CanalMarco"));case"b469206801-300c-d881-6846-f42f55eb44":return"3294".equals(t.get("Empresa"))&&"CIC".equals(t.get("CanalMarco"));case"b469206801-300c-d8c9-27cf-3cd25669ed":return"3294".equals(t.get("Empresa"))&&"INT".equals(t.get("CanalMarco"));case"b469206801-300c-d91a-84f3-ae5c9c5c1f":return"3294".equals(t.get("Empresa"))&&"RCA".equals(t.get("CanalMarco"));case"b469206801-300c-d970-e317-a87892f83f":return"3294".equals(t.get("Empresa"))&&"RML".equals(t.get("CanalMarco"));case"b469206801-300c-d9bb-3d75-86d5c6cc58":return"3294".equals(t.get("Empresa"))&&"COL".equals(t.get("CanalMarco"))}}}})},"engine/model/properties-handler":function(){define(["mojo/_base/declare","mojo/_base/lang","mojo/_base/array","engine/util","engine/context/Logger"],function(e,t,n,r,i){var a=function(e){if(-1!==e.indexOf("(")&&-1!==e.indexOf(")")){var t=e.substring(e.indexOf("(")+1,e.indexOf(")")),n=t.split(",");return n}return null},o=function(e,t,n){for(var a=0;a<n.length;a++){var o="{"+a+"}";if(-1!==t.indexOf(o)){var s=r.trim(n[a]),u="";try{var c=null;"#"===s.charAt(0)?(s=s.substring(1),c="value"===s?e._parent:e):c=e._getDeclarationView(),u=r.executeGetter(c,s)}catch(l){i.error("Se ha producido un error al intentar reemplazar el atributo "+s+"en el literal ["+t+"]")}t=t.replace(o,u)}}return t};return{generatePropertiesContext:function(e,t){t?require([t],function(t){e._PROPERTIES=t}):e._PROPERTIES={}},getLiteral:function(e,t){var n=e._isView?e:e._getDeclarationView(),r=t.substring(6),i=a(r),s=null;return i?(r=r.substring(0,r.indexOf("(")),s=n._PROPERTIES[r],s=o(e,s,i)):(s=n._PROPERTIES[r],s||(s=t)),s},isLiteralValue:function(e){return t.isString(e)&&0===e.indexOf("@text/")}}})},"engine/context/BKSPresentationContext":function(){define(["engine/context/Logger","engine/model/error-msg","engine/model/dom-handler","mojo/topic","mojo/_base/lang","mojo/_base/array"],function(e,t,n,r,i,a){var o,s={},u="engine.context.BKSPresentationContext.ON_ADD_ERROR_MESSAGE",c=0,l=1e3,d=function(e){r.publish(u,e)},f=function(t){o||(o=require("engine/components/component"));var n;return t?"string"==typeof t?n="_"+t:t.isInstanceOf&&t.isInstanceOf(o)?n="_"+t.getClientId():e.warn("Trying to add an error from an unknown source!"):n="_",n||null},h=function(t,n){var r;return n?(c>=l&&e.warn("El mensaje "+n+" no se ha podido almacenarporque se ha alcanzado el límite en el número demensajes controlados por BKSPresentationContext"),(r=f(t))?(s[r]=s[r]||[],s[r].push(n),void c++):void e.warn("Cannot add a message to a null index. Message: '"+n+"' is lost")):void e.warn("Add a null error message is not allowed")},p={TOPIC:{ON_ADD_ERROR_MESSAGE:u},addErrorMessage:function(n,r,i,a){var o;if(r.isInstanceOf&&r.isInstanceOf(t))o=r;else if("string"!=typeof r)return void e.warn("Storing dead messages ain't my ****ing business!");o||(o=new t(n,r,i)),h(n,o),a||d(n)},getAllMessages:function(){var e,t,n=[];for(e in s)for(t=0;t<s[e].length;t++)n.push(s[e][t]);return n},getMessageList:function(e){var t=f(e);return t?s[t]||[]:[]},removeThisMessages:function(e,t,n){var r,o,u;return t?(o=i.isArray(t)?t:[t],r=f(e),void(r&&(a.forEach(o,function(e){if(s[r]&&s[r].length)for(u=0;u<s[r].length;u++)if(s[r][u]&&s[r][u].getMsg&&s[r][u].getMsg()===e){if(n&&s[r][u].getDetail()!==n)continue;s[r].splice(u,1),c--,u--}}),d(e)))):void this.removeMessages(e,t)},removeMessages:function(e){var t,n,r=f(e);r&&(n=s[r],n&&(t=n.length,s[r]=null,delete s[r],c-=t,d(e)))},refreshValidations:function(e){d(e)},_validationStarts:function(e,t){t||this.removeMessages(e)},_validationEnds:function(e,t){t||d(e)},clear:function(){s={},c=0}};return p})},"engine/model/error-msg":function(){define(["mojo/_base/declare","engine/model/properties-handler"],function(e,t){return e("engine.model.error-msg",null,{_clientId:null,_component:null,_msg:null,_detail:null,constructor:function(e,t,n){this._clientId=e?"string"!=typeof e&&e.getClientId?e.getClientId():e:null,this._component=e,this._msg=t?t:"",this._detail=n?n:""},getComponent:function(){return this._component},getClientId:function(){return this._clientId},getMsg:function(){var e=this._msg;return t.isLiteralValue(e)&&(e=t.getLiteral(this._component,e)),e},getDetail:function(){var e=this._detail;return t.isLiteralValue(e)&&(e=t.getLiteral(this._component,e)),e},toString:function(){return this.getMsg()+": "+this.getDetail()}})})},"engine/ieHacks":function(){define(["mojo/_base/array","mojo/has","mojo/_base/lang","mojo/_base/json","mojo/sniff"],function(e,t,n,r){"undefined"==typeof Function.prototype.bind&&(Function.prototype.bind=function(e){return n.hitch(e,arguments.callee.caller)}),"function"!=typeof Array.prototype.indexOf&&(Array.prototype.indexOf=function(t){return e.indexOf(this,t)}),"undefined"==typeof JSON&&(JSON={parse:r.fromJson,stringify:r.toJson}),"undefined"==typeof window.addEventListener&&(window.addEventListener=function(){}),t("ie")&&"function"!=typeof String.prototype.trim&&(String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,"")})})},"engine/flow/manager":function(){define(["mojo/router","engine/kernel","engine/loader"],function(e,t,n){var r=null,i=null;return{start:function(e){r=e,this.loadNextState("Start","ok")},loadNextState:function(e,t,r){e||(e=i);var a=this.nextStateName(e,t),o=this.getPath(a);o&&n.load(o.replace(/\./g,"/"),r,null,!0).then(function(){i=a})},nextStatePath:function(e,t){return this.getPath(this.nextStateName(e,t))},nextStateName:function(e,t){if(!r)return null;
var n=r[e];if(!n)return null;var i=n.events[t];return i?i.target:null},getPath:function(e){return e&&r[e]?r[e].path:null},getState:function(){}}})},"mojo/router":function(){define(["./router/RouterBase"],function(e){return new e({})})},"mojo/router/RouterBase":function(){define(["mojo/_base/declare","mojo/hash","mojo/topic"],function(e,t,n){function r(e,t,n){var r,i,a,o,s,u,c;if(r=this.callbackQueue,i=!1,a=!1,o={stopImmediatePropagation:function(){i=!0},preventDefault:function(){a=!0},oldPath:t,newPath:n,params:e},s=[o],e instanceof Array)s=s.concat(e);else for(var l in e)s.push(e[l]);for(u=0,c=r.length;c>u;++u)i||r[u].apply(null,s);return!a}var i;i=String.prototype.trim?function(e){return e.trim()}:function(e){return e.replace(/^\s\s*/,"").replace(/\s\s*$/,"")};var a=e(null,{_routes:null,_routeIndex:null,_started:!1,_currentPath:"",idMatch:/:(\w[\w\d]*)/g,idReplacement:"([^\\/]+)",globMatch:/\*(\w[\w\d]*)/,globReplacement:"(.+)",constructor:function(e){this._routes=[],this._routeIndex={};for(var t in e)e.hasOwnProperty(t)&&(this[t]=e[t])},register:function(e,t){return this._registerRoute(e,t)},registerBefore:function(e,t){return this._registerRoute(e,t,!0)},go:function(e,n){var r;return"string"!=typeof e?!1:(e=i(e),r=this._handlePathChange(e),r&&t(e,n),r)},startup:function(e){if(!this._started){var r=this,i=t();this._started=!0,this._hashchangeHandle=n.subscribe("/mojo/hashchange",function(){r._handlePathChange.apply(r,arguments)}),i?this._handlePathChange(i):this.go(e,!0)}},destroy:function(){this._hashchangeHandle&&this._hashchangeHandle.remove(),this._routes=null,this._routeIndex=null},_handlePathChange:function(e){var t,n,r,i,a,o,s,u,c,l=this._routes,d=this._currentPath;if(!this._started||e===d)return s;for(s=!0,t=0,r=l.length;r>t;++t)if(a=l[t],o=a.route.exec(e)){if(a.parameterNames)for(u=a.parameterNames,c={},n=0,i=u.length;i>n;++n)c[u[n]]=o[n+1];else c=o.slice(1);s=a.fire(c,d,e)}return s&&(this._currentPath=e),s},_convertRouteToRegExp:function(e){return e=e.replace(this.idMatch,this.idReplacement),e=e.replace(this.globMatch,this.globReplacement),e="^"+e+"$",new RegExp(e)},_getParameterNames:function(e){var t,n=this.idMatch,r=this.globMatch,i=[];for(n.lastIndex=0;null!==(t=n.exec(e));)i.push(t[1]);return null!==(t=r.exec(e))&&i.push(t[1]),i.length>0?i:null},_indexRoutes:function(){var e,t,n,r,i=this._routes;for(r=this._routeIndex={},e=0,t=i.length;t>e;++e)n=i[e],r[n.route]=e},_registerRoute:function(e,t,n){var i,a,o,s,u,c=this,l=this._routes,d=this._routeIndex;return i=this._routeIndex[e],a="undefined"!=typeof i,a&&(o=l[i]),o||(o={route:e,callbackQueue:[],fire:r}),s=o.callbackQueue,"string"==typeof e&&(o.parameterNames=this._getParameterNames(e),o.route=this._convertRouteToRegExp(e)),n?s.unshift(t):s.push(t),a||(i=l.length,d[e]=i,l.push(o)),u=!1,{remove:function(){var e,n;if(!u){for(e=0,n=s.length;n>e;++e)s[e]===t&&s.splice(e,1);0===s.length&&(l.splice(i,1),c._indexRoutes()),u=!0}},register:function(t,n){return c.register(e,t,n)}}}});return a})},"mojo/hash":function(){define(["./_base/kernel","require","./_base/config","./aspect","./_base/lang","./topic","./domReady","./sniff"],function(e,t,n,r,i,a,o,s){function u(e,t){var n=e.indexOf(t);return n>=0?e.substring(n+1):""}function c(){return u(location.href,"#")}function l(){a.publish("/mojo/hashchange",c())}function d(){c()!==p&&(p=c(),l())}function f(e){if(g){if(g.isTransitioning())return void setTimeout(i.hitch(null,f,e),v);var t=g.iframe.location.href,n=t.indexOf("?");return void g.iframe.location.replace(t.substring(0,n)+"?"+e)}location.replace("#"+e),!m&&d()}function h(){function r(){p=c(),d=m?p:u(_.href,"?"),f=!1,h=null}var a=document.createElement("iframe"),o="mojo-hash-iframe",s=n.mojoBlankHtmlUrl||t.toUrl("./resources/blank.html");n.useXDomain&&!n.mojoBlankHtmlUrl&&console.warn("mojo/hash: When using cross-domain Dojo builds, please save mojo/resources/blank.html to your domain and set djConfig.mojoBlankHtmlUrl to the path on your domain to blank.html"),a.id=o,a.src=s+"?"+c(),a.style.display="none",document.body.appendChild(a),this.iframe=e.global[o];var d,f,h,g,m,_=this.iframe.location;this.isTransitioning=function(){return f},this.pollLocation=function(){if(!m)try{var e=u(_.href,"?");document.title!=g&&(g=this.iframe.document.title=document.title)}catch(t){m=!0,console.error("mojo/hash: Error adding history entry. Server unreachable.")}var n=c();if(f&&p===n){if(!m&&e!==h)return void setTimeout(i.hitch(this,this.pollLocation),0);r(),l()}else if(p!==n||!m&&d!==e){if(p!==n)return p=n,f=!0,h=n,a.src=s+"?"+h,m=!1,void setTimeout(i.hitch(this,this.pollLocation),0);m||(location.href="#"+_.search.substring(1),r(),l())}else;setTimeout(i.hitch(this,this.pollLocation),v)},r(),setTimeout(i.hitch(this,this.pollLocation),v)}e.hash=function(e,t){return arguments.length?("#"==e.charAt(0)&&(e=e.substring(1)),t?f(e):location.href="#"+e,e):c()};var p,g,m,v=n.hashPollFrequency||100;return o(function(){"onhashchange"in e.global&&(!s("ie")||s("ie")>=8&&"BackCompat"!=document.compatMode)?m=r.after(e.global,"onhashchange",l,!0):document.addEventListener?(p=c(),setInterval(d,v)):document.attachEvent&&(g=new h)}),e.hash})},"engine/components/component":function(){define(["engine/kernel","engine/components/component/component-impl","engine/has!editable?editors/model/edit/component"],function(e,t,n){return e.declare("engine.components.component",null,t,null,n)})},"engine/components/component/component-impl":function(){define(["engine/kernel","mojo/_base/array","mojo/_base/lang","mojo/query","engine/has","engine/context/Logger","engine/util","engine/data/_Bean","engine/model/visitor","engine/data/types","engine/model/ev-handler","engine/model/dom-handler","engine/model/properties-handler","engine/model/query"],function(e,t,n,r,i,a,o,s,u,c,l,d,f,h){var p="id",g=function(e,t,n,r){var i=r?e._getRender():n?t._getRender():null,a=r?e:t;i&&i.render(a)};return{_children:null,_parent:null,_structure:null,_isNamingContainer:null,_data:null,constructor:function(t,n,r){this._dynamicCreation(n),this._initialize(t,n,r),this._initCtx(r),this._isView||this._mergeStructures(this._structure,r),this._buildCtx();var i=require("engine/components/component");n&&n.isInstanceOf&&n.isInstanceOf(i)&&n._addChild(this),this._build(n),e.isReady()&&this._isRenderParentView()&&this._checkBuildStatus()&&g(this,this,!0)},_dynamicCreation:function(){},_initialize:function(e){this._children=new r.NodeList,this._data={},this._setId(e,!0),this._attHandlers={}},"-chains-":{_initCtx:"after"},_initCtx:function(e){this._structure=n.mixin({},e);for(var t in this._CTX){var r=this._CTX[t];if(t=t.substring(1),c.isBoolean(r)){var i=o.getter(t);this[i]||(this[i]=this["is"+o.capitalize(t)])}}},_mergeStructures:function(e,t){this._structure=n.mixin(e||{},t||{})},getId:function(){return this._get(p)},_setId:function(e,t){this._assertId(e),this._set(p,e,t)},_assertId:function(n){if("undefined"==typeof n)throw new Error("No se puede crear un componente sin un id");if(!/^[a-z_][a-z0-9_]*$/i.test(n))throw'Formato de ID incorrecto: "'+n+'" Solo se admiten letras, numeros, y "_", y debe empezar por letra';if(e.isReady()){var r=this,i=r._getDeclarationView();i&&t.forEach(h.all(i,!1),function(e){if(e._regUnit&&e._units){var t=e._units[n];if(t&&t!==r&&t._isInterface&&r!==t._getViewImpl())throw'El id "'+n+'" está duplicado para la vista "'+i.getClientId()+'"'}})}},_isRenderParentView:function(){var e=this._getDeclarationView();return null===e?!1:e._isRoot?!0:null!==e._parent._parent},_getBaseDomNode:function(){return this._DOM_NODE_||this.getDomNode()||null},getDomNode:function(){var e=r("#"+this.getClientId());return 0!==e.length?e[0]:null},getClientId:function(){for(var t=this._getParent();null!==t&&!t._isNamingContainer&&t._getParent;)t=t._getParent();return t&&t.getClientId?(t?t.getClientId()+e.SEPARATOR:"")+(t?t._getChildPrefix(this):"")+this.getId():this.getId()},_getChildPrefix:function(){return""},_indexOf:function(e){return t.indexOf(this._children,e)},addChild:function(e,t){this._addChild(e,!0,!1,t)},_addChild:function(e,t,n,r){var i=e._getParent();null!==i&&i._removeChild(e),"undefined"!=typeof r?this._children.splice(r,0,e):this._children.push(e),e._parent=this,e._assertId(e.getId()),e._regUnitInParent(),g(this,e,t,n)},removeChild:function(e){this._removeChild(e,!0)},_removeChild:function(e){var t=this._children.indexOf(e);-1!==t&&(e._deregUnitInParent(),d.destroy(e),this._children[t]._parent=null,this._children.splice(t,1))},_getParent:function(e){if(!this._parent)return null;if(!e)return this._parent;if(this._parent&&this._parent.declaredClass===e)return this._parent;var t=this._parent&&this._parent._getParent&&this._parent._getParent(e);return t?t:null},_getChildren:function(){return this._children},_isDeclaredInGap:function(){for(var e=this._getParent();e&&!e._isView;){if(e._isFillGap)return e;e=e._getParent&&e._getParent()}return null},_getParentView:function(){var e=this._getParent();return e?e._isView?e:e._getParentView():null},_getDeclarationView:function(){var e=this._isDeclaredInGap();if(!e)return this._getParentView();var t=e._getTemplate();return t._getDeclarationView()},_getRootView:function(){for(var e=this;e&&!e._isRoot;){var t=e._getParentView();if(t===e)return null;e=t}return e?e:null},_build:function(){this._buildStatus=null,a._trace(this,"build"),this._buildChildren(this._structure.children),this._buildStatus="OK"},_checkBuildStatus:function(){if(!this._buildStatus)return!1;for(var e=this._parent;e;){if(!(e._isBody&&e._isBody()||e._isInterface||e._buildStatus))return!1;e=e._parent}return!0},_regUnitInParent:function(){for(var e=this._parent;e&&!e._regUnit;)e=e._parent;e&&e._regUnit(this)},_deregUnitInParent:function(){for(var e=this._parent;e&&!e._deregUnit;)e=e._parent;e&&e._deregUnit(this)},_buildChildren:function(e){t.forEach(e,n.hitch(this,function(e){{var t=e.creator;new t(e.id,this,e)}}))},_buildCtx:function(){a._trace(this,"buildCtx");for(var e in this._structure.attributes)this._CTX["_"+e]?this._set(e,this._structure.attributes[e],!0):!this._setPassThrough||0!==e.indexOf("data-")&&0!==e.indexOf("aria-")?a.error("Error building component "+this.declaredClass+" with ID "+this.getId()+". Attribute ["+e+"] is not defined!"):this._setPassThrough(e,this._structure.attributes[e])},_set:function(t,n,r){var i=null;if(t===p)return this._data[t]=n,!0;if(this._equals(t,n))return e.isReady()&&!r&&this._isRenderParentView()&&this._fireChange(t,n,n),!1;if("undefined"==typeof n)return a.error("El atributo '"+t+"' seteado es erroneo. No se puede setear un undefined"),!1;i||(i=c.getAttSchema(this,t));var o=f.isLiteralValue(n);if(o){if(!r&&!f.getLiteral(this,n))return a.error("El literal ["+n+"] no existe en la vista "+this._getDeclarationView().getId()),!1}else{if(n=this._convertValue(i,t,n,r),this._equals(t,n))return e.isReady()&&!r&&this._isRenderParentView()&&this._fireChange(t,n,n),!1;if(!c.accepts(i,n))return a.error("Intentando setear un valor no aceptado en la propiedad "+t+" del componente "+this.declaredClass+": "+n),!1}var s=this._data[t];return this._data[t]=n,e.isReady()&&!r&&this._isRenderParentView()&&this._fireChange(t,n,s),!0},_convertValue:function(e,t,n){if(!c.isValid(e,n))try{n=c.applyConversion(e,n)}catch(r){throw"Se está haciendo un setter de un atibuto con un tipo distinto alque acepta y no se ha podido convertir automaticamente"}return n},_equals:function(e,t){var n=this._data[e];return n&&t&&n.isInstanceOf&&t.isInstanceOf&&n.isInstanceOf(s)&&t.isInstanceOf(s)?n.toString()===t.toString():JSON.stringify(n)===JSON.stringify(t)},_fireChange:function(e,t,n){d.fireModelChange(this,e,t),t!==n&&this._fireChangeAttribute(e,t,n)},_fireChangeAttribute:function(e,t,n){var r,i,a;if(this._attHandlers[e])for(r=this._attHandlers[e],i=r.length,a=0;i>a;a++)r[a].call(this,e,t,n)},_get:function(e,t){var n=this._data[e];if(e===p)return n;var r=c.getAttSchema(this,e);if(!r)throw new Error("[ERROR] Solicitando atributo "+e+" para componente "+this.declaredClass);return"undefined"==typeof this._data[e]&&this._set(e,c.getDefaultValue(r),!0),n=this._data[e],f.isLiteralValue(n)&&(n=f.getLiteral(this,n),n=this._convertValue(r,e,n)),t?n:c.smartClone(n,r)},addEventListener:function(e,t){return l.attachClientEvent(this,e,t)},removeEventListener:function(e,t){l.dettachClientEvent(this,e,t)},addAttributeListener:function(e,n){var r="function"==typeof n?n:this[n],i=this._attHandlers[e]||[];return-1!==t.indexOf(i,r)?r:(i.push(n),this._attHandlers[e]=i,r)},removeAttributeListener:function(e){if("function"==typeof e)for(var n in this._attHandlers){var r=this._attHandlers[n],i=t.indexOf(r,e);-1!==i&&r.splice(i,1)}else this._attHandlers[e]=[]},_resolveInnerClientId:function(e){var t=e.substring(0,e.indexOf(".")),n=this._getDeclarationView().find(t);return n.getClientIdForChild(e.substring(e.indexOf(".")+1))}}})},"engine/model/query":function(){define([],function(){var e=function(e,t,n){var r,i,a,o=[],s=[];for(s.push(e);s.length;)if(i=s.pop(),t(i)&&o.push(i),a=n(i),a.length)for(r=a.length-1;r>-1;r--)s.push(a[r]);return o},t=function(e,t){var n,r=[],i=[];if(!e)return[];if(e._isInterface){var a=e._getViewImpl();a&&a.isTemplate&&(e=a)}if(e.isTemplate){for(n in e._fillGaps)r.push(e._fillGaps[n]);if(t)for(i=e._getChildren(),n=0;n<i.length;n++)r.push(i[n]);return r}if(e._isInterface&&!t)return[];for(i=e._getChildren(),n=0;n<i.length;n++)r.push(i[n]);return r};return{query:function(t,n,r){return e(t,n,r)},all:function(n,r){var i=function(e){return t(e,r||e===n)};return e(n,function(){return!0},i)},byType:function(n,r,i){var a=function(e){return e.declaredClass===r},o=function(e){return e.isInstanceOf&&e.isInstanceOf(r)},s=function(e){return t(e,i||e===n)},u="string"==typeof r?a:o;return e(n,u,s)},by:function(n,r,i){var a=function(e){return t(e,i||e===n)};return e(n,r,a)},findExternal:function(e,t){return this.by(e,function(e){return e._isView||e.isTemplate},t)}}})},"engine/components/fillgap":function(){define(["engine/kernel","engine/components/component","engine/components/fillgap/fillgap-impl","engine/components/fillgap/fillgap-render","engine/has!editable?engine/components/fillgap/fillgap-edit"],function(e,t,n,r,i){return e.declare("bks.fillgap",t,n,r,i)})},"engine/components/fillgap/fillgap-impl":function(){define(["engine/has","engine/context/Logger"],function(e,t){var n={},r={CLIENT:[]};return{_isFillGap:!0,_isNamingContainer:!0,_CTX:n,_EVENTS:r,_initialize:function(e,t){this._setTemplate(t._getDeclarationView()),this.inherited(arguments)},_build:function(){t._trace(this,"build"),this._buildChildren(this._structure.children)},_getParent:function(e){if(!e)return this._parent?this._parent._getParent():null;if(this._parent&&this._parent.declaredClass===e)return this._parent;var t=this._parent&&this._parent._getParent&&this._parent._getParent(e);return t?t:null},_regUnit:function(e){try{var t=this._getTemplate(),n=t._getParent("bks.forEach");if(n||(n=t._getParent("pgs.forEach")),n)n._regUnit(e);else{var r=t._getDeclarationView();r&&r._regUnit(e)}}catch(i){console.error(i)}},_deregUnit:function(e){try{var t=this._getTemplate(),n=t._getDeclarationView();n&&n._deregUnit(e)}catch(r){console.error(r)}},_getTemplate:function(){return this._template},_setTemplate:function(e){this._template=e}}})},"engine/components/fillgap/fillgap-render":function(){define(["mojo/_base/lang","engine/model/dom-handler","engine/render/defaultRender","engine/util"],function(e,t,n){var r=e.mixin({},n);return e.mixin(r,{fullRender:function(e){t.renderChildren(e)},getTagNode:function(){return null},getCustomInitialArguments:function(){return{}},_isRenderizable:function(){return!1},isBodyRenderizable:function(){return!0},_getRenderizableChildren:function(e){return n._getRenderizableChildren(e)}})})},"engine/components/gap":function(){define(["engine/kernel","engine/components/component","engine/components/gap/gap-impl","engine/components/gap/gap-render","engine/has!editable?engine/components/gap/gap-edit"],function(e,t,n,r,i){return e.declare("bks.gap",t,n,r,i)})},"engine/components/gap/gap-impl":function(){define([],function(){var e={},t={CLIENT:[]};return{_isNamingContainer:!1,_isGap:!0,_CTX:e,_EVENTS:t}})},"engine/components/gap/gap-render":function(){define(["mojo/_base/lang","engine/model/dom-handler","engine/render/defaultRender"],function(e,t,n){var r=e.mixin({},n);return e.mixin(r,{fullRender:function(e){t.renderChildren(e)},_isRenderizable:function(){return!1},isBodyRenderizable:function(){return!0},getTagNode:function(){return"div"},getCustomInitialArguments:function(){return{}}})})},"engine/components/html":function(){define(["engine/kernel","engine/components/component","engine/components/html/html-impl","engine/components/html/html-render","engine/components/html/text-impl","engine/components/html/text-render","engine/has!editable?editors/model/edit/html"],function(e,t,n,r,i,a,o){return{elementCreator:function(i){var a=e.declare("engine.components.html",t,n,r,o);return e.lang.extend(a,{_getHtmlTag:function(){return i}}),a},textCreator:function(){return e.declare("engine.components.text",t,i,a,null)},creator:function(e){return"text-content"===e?this.textCreator():this.elementCreator(e)}}})},"engine/components/html/html-impl":function(){define(["mojo/_base/lang","engine/context/Logger","engine/data/types","engine/util","mojo/query","engine/model/properties-handler"],function(e,t,n,r,i,a){var o=0,s={},u=function(e){return"#"+e+"_"+o++};return{_CTX:null,_EVENTS:null,_isJohnDoe:null,_isNamingContainer:!1,_isHtmlTag:!0,_isFullQualified:null,_setId:function(e){/^@id\//.test(e)&&(this._isFullQualified=!0,e=e.substring(4)),e||(this._isJohnDoe=!0,e=u(this._getHtmlTag())),this._set("id",e,arguments[1])},getClientId:function(){return this._isFullQualified||this._isJohnDoe?this.inherited(arguments):this.getId()},_assertId:function(){},_initCtx:function(){this._CTX={},this._EVENTS={},this._updateAccesors(this._structure.attributes)},_updateAccesors:function(t){for(var i in t)if("id"!==i){var a="_"+i;this._CTX[a]||(this._CTX[a]={type:n._string,defaultValue:""},this[r.getter(i)]=e.hitch(this,r.getterFor(this,i)),this[r.setter(i)]=e.hitch(this,r.setterFor(this,i)))}},_get:function(e){var t=null;if("id"!==e){var n=this.getDomNode();n?t=this._data[e]=n[e]:engine.isRender()&&require(["engine/context/Logger"],function(e){e.warn("La vista que contiene este elemento puede que no tenga un padre")})}if(!t){var r=this._data[e];a.isLiteralValue(r)&&(r=a.getLiteral(this,r)),r&&(t=r)}return t},_storeDom:function(e){s[this.getClientId()]=e},_getStore:function(){return s},getDomNode:function(){var e=this._isFullQualified||this._isJohnDoe?this.getClientId():this.getId();if(this._isJohnDoe)return s[e];var t=i("#"+e);return 0!==t.length?t[0]:null},isRendered:function(){return!0}}})},"engine/components/html/html-render":function(){define(["mojo/_base/lang","engine/model/dom-handler","engine/render/defaultRender","engine/context/Logger","engine/model/res-handler"],function(e,t,n,r,i){var a=e.mixin({},n);return e.mixin(a,{getInitialArguments:function(t){var n=e.clone(t._data);t._isJohnDoe?delete n.id:n.id=t.getClientId();var r=t.getStyleClass&&t.getStyleClass()||null;r&&(n.className=r);var i=e.mixin(n,this.getCustomInitialArguments(t)||{});return t._updateAccesors(i),i},_isRenderizable:function(){return!0},isBodyRenderizable:function(){return!0},getTagNode:function(e){var t=e._getHtmlTag();return("object"===t||"applet"===t)&&djConfig&&djConfig.isPreview?"div":t},getCustomInitialArguments:function(){return{}},checkMethod:function(e,t){if(!t)return r.error("No se ha pasado por parametro el att a renderizar en: "+e.declaredClass),null;var n;return n=0===t.indexOf("data-")||0===t.indexOf("aria-")?"renderAttributesPassThrough":"renderAny",this[n]?this[n]:(r.warn("No existe el render para el atributo "+t+" en el componente "+e.declaredClass),null)},renderAny:function(e,n,r){var a="undefined"!=typeof r?r:e._get(n),o=null!=a&&"string"==typeof a?0===a.indexOf("/")||0===a.indexOf("http://")||0===a.indexOf("https://"):!0,s=e._getHtmlTag();i.qualifiedAtt(n)&&i.qualifiedHtmlTag(s)&&!o?t.updateAttribute(e,n,i.calculatePath(a,e)):i.possibleMappingAtt(n)&&!o?t.updateAttribute(e,n,i.calculateMapping(n,e)):t.updateAttribute(e,n,a,!0)}})})},"engine/components/html/text-impl":function(){define(["mojo/_base/lang","engine/context/Logger","engine/data/types","engine/util"],function(e,t,n,r){var i=0,a=function(e){return"_"+e+"_"+i++},o={},s={CLIENT:[]};return{_isNamingContainer:!1,_CTX:o,_EVENTS:s,_setId:function(e){e||(e=a("textContent")),arguments[0]=e,this.inherited(arguments)},_initCtx:function(){for(var t in this._structure.attributes)this._CTX["_"+t]={type:n._string,defaultValue:""},this[r.getter(t)]=e.hitch(this,e.partial(this._getter,t)),this[r.setter(t)]=e.hitch(this,e.partial(this._setter,t))},_getter:function(e){return this._get(e)},_setter:function(e,t){this._set(e,t)}}})},"engine/components/html/text-render":function(){define(["mojo/_base/lang","engine/model/dom-handler","engine/render/defaultRender","mojox/html/entities","./entities"],function(e,t,n,r,i){var a=e.mixin({},n);return r.html=r.html.concat(i.html),e.mixin(a,{_isRenderizable:function(){return!0},isBodyRenderizable:function(){return!0},checkMethod:function(){return null},createDomNode:function(e){var t=e.getContent();return document.createTextNode(r.decode(t))}})})},"mojox/html/entities":function(){define(["mojo/_base/lang"],function(e){var t=e.getObject("mojox.html.entities",!0),n=function(e,t){var n,r;if(t._encCache&&t._encCache.regexp&&t._encCache.mapper&&t.length==t._encCache.length)n=t._encCache.mapper,r=t._encCache.regexp;else{n={},r=["["];var i;for(i=0;i<t.length;i++)n[t[i][0]]="&"+t[i][1]+";",r.push(t[i][0]);r.push("]"),r=new RegExp(r.join(""),"g"),t._encCache={mapper:n,regexp:r,length:t.length}}return e=e.replace(r,function(e){return n[e]})},r=function(e,t){var n,r;if(t._decCache&&t._decCache.regexp&&t._decCache.mapper&&t.length==t._decCache.length)n=t._decCache.mapper,r=t._decCache.regexp;else{n={},r=["("];var i;for(i=0;i<t.length;i++){var a="&"+t[i][1]+";";i&&r.push("|"),n[a]=t[i][0],r.push(a)}r.push(")"),r=new RegExp(r.join(""),"g"),t._decCache={mapper:n,regexp:r,length:t.length}}return e=e.replace(r,function(e){return n[e]})};return t.html=[["&","amp"],['"',"quot"],["<","lt"],[">","gt"],[" ","nbsp"]],t.latin=[["¡","iexcl"],["¢","cent"],["£","pound"],["€","euro"],["¤","curren"],["¥","yen"],["¦","brvbar"],["§","sect"],["¨","uml"],["©","copy"],["ª","ordf"],["«","laquo"],["¬","not"],["­","shy"],["®","reg"],["¯","macr"],["°","deg"],["±","plusmn"],["²","sup2"],["³","sup3"],["´","acute"],["µ","micro"],["¶","para"],["·","middot"],["¸","cedil"],["¹","sup1"],["º","ordm"],["»","raquo"],["¼","frac14"],["½","frac12"],["¾","frac34"],["¿","iquest"],["À","Agrave"],["Á","Aacute"],["Â","Acirc"],["Ã","Atilde"],["Ä","Auml"],["Å","Aring"],["Æ","AElig"],["Ç","Ccedil"],["È","Egrave"],["É","Eacute"],["Ê","Ecirc"],["Ë","Euml"],["Ì","Igrave"],["Í","Iacute"],["Î","Icirc"],["Ï","Iuml"],["Ð","ETH"],["Ñ","Ntilde"],["Ò","Ograve"],["Ó","Oacute"],["Ô","Ocirc"],["Õ","Otilde"],["Ö","Ouml"],["×","times"],["Ø","Oslash"],["Ù","Ugrave"],["Ú","Uacute"],["Û","Ucirc"],["Ü","Uuml"],["Ý","Yacute"],["Þ","THORN"],["ß","szlig"],["à","agrave"],["á","aacute"],["â","acirc"],["ã","atilde"],["ä","auml"],["å","aring"],["æ","aelig"],["ç","ccedil"],["è","egrave"],["é","eacute"],["ê","ecirc"],["ë","euml"],["ì","igrave"],["í","iacute"],["î","icirc"],["ï","iuml"],["ð","eth"],["ñ","ntilde"],["ò","ograve"],["ó","oacute"],["ô","ocirc"],["õ","otilde"],["ö","ouml"],["÷","divide"],["ø","oslash"],["ù","ugrave"],["ú","uacute"],["û","ucirc"],["ü","uuml"],["ý","yacute"],["þ","thorn"],["ÿ","yuml"],["ƒ","fnof"],["Α","Alpha"],["Β","Beta"],["Γ","Gamma"],["Δ","Delta"],["Ε","Epsilon"],["Ζ","Zeta"],["Η","Eta"],["Θ","Theta"],["Ι","Iota"],["Κ","Kappa"],["Λ","Lambda"],["Μ","Mu"],["Ν","Nu"],["Ξ","Xi"],["Ο","Omicron"],["Π","Pi"],["Ρ","Rho"],["Σ","Sigma"],["Τ","Tau"],["Υ","Upsilon"],["Φ","Phi"],["Χ","Chi"],["Ψ","Psi"],["Ω","Omega"],["α","alpha"],["β","beta"],["γ","gamma"],["δ","delta"],["ε","epsilon"],["ζ","zeta"],["η","eta"],["θ","theta"],["ι","iota"],["κ","kappa"],["λ","lambda"],["μ","mu"],["ν","nu"],["ξ","xi"],["ο","omicron"],["π","pi"],["ρ","rho"],["ς","sigmaf"],["σ","sigma"],["τ","tau"],["υ","upsilon"],["φ","phi"],["χ","chi"],["ψ","psi"],["ω","omega"],["ϑ","thetasym"],["ϒ","upsih"],["ϖ","piv"],["•","bull"],["…","hellip"],["′","prime"],["″","Prime"],["‾","oline"],["⁄","frasl"],["℘","weierp"],["ℑ","image"],["ℜ","real"],["™","trade"],["ℵ","alefsym"],["←","larr"],["↑","uarr"],["→","rarr"],["↓","darr"],["↔","harr"],["↵","crarr"],["⇐","lArr"],["⇑","uArr"],["⇒","rArr"],["⇓","dArr"],["⇔","hArr"],["∀","forall"],["∂","part"],["∃","exist"],["∅","empty"],["∇","nabla"],["∈","isin"],["∉","notin"],["∋","ni"],["∏","prod"],["∑","sum"],["−","minus"],["∗","lowast"],["√","radic"],["∝","prop"],["∞","infin"],["∠","ang"],["∧","and"],["∨","or"],["∩","cap"],["∪","cup"],["∫","int"],["∴","there4"],["∼","sim"],["≅","cong"],["≈","asymp"],["≠","ne"],["≡","equiv"],["≤","le"],["≥","ge"],["⊂","sub"],["⊃","sup"],["⊄","nsub"],["⊆","sube"],["⊇","supe"],["⊕","oplus"],["⊗","otimes"],["⊥","perp"],["⋅","sdot"],["⌈","lceil"],["⌉","rceil"],["⌊","lfloor"],["⌋","rfloor"],["〈","lang"],["〉","rang"],["◊","loz"],["♠","spades"],["♣","clubs"],["♥","hearts"],["♦","diams"],["Œ","OElig"],["œ","oelig"],["Š","Scaron"],["š","scaron"],["Ÿ","Yuml"],["ˆ","circ"],["˜","tilde"],[" ","ensp"],[" ","emsp"],[" ","thinsp"],["‌","zwnj"],["‍","zwj"],["‎","lrm"],["‏","rlm"],["–","ndash"],["—","mdash"],["‘","lsquo"],["’","rsquo"],["‚","sbquo"],["“","ldquo"],["”","rdquo"],["„","bdquo"],["†","dagger"],["‡","Dagger"],["‰","permil"],["‹","lsaquo"],["›","rsaquo"]],t.encode=function(e,r){return e&&(r?e=n(e,r):(e=n(e,t.html),e=n(e,t.latin))),e},t.decode=function(e,n){return e&&(n?e=r(e,n):(e=r(e,t.html),e=r(e,t.latin))),e},t})},"engine/components/html/entities":function(){define({html:[[" ","#32"],["!","#33"],['"',"#34"],["#","#35"],["$","#36"],["%","#37"],["&","#38"],["'","#39"],["(","#40"],[")","#41"],["*","#42"],["+","#43"],[",","#44"],["-","#45"],[".","#46"],["/","#47"],["0","#48"],["1","#49"],["2","#50"],["3","#51"],["4","#52"],["5","#53"],["6","#54"],["7","#55"],["8","#56"],["9","#57"],[":","#58"],[";","#59"],["<","#60"],["=","#61"],[">","#62"],["?","#63"],["@","#64"],["A","#65"],["B","#66"],["C","#67"],["D","#68"],["E","#69"],["F","#70"],["G","#71"],["H","#72"],["I","#73"],["J","#74"],["K","#75"],["L","#76"],["M","#77"],["N","#78"],["O","#79"],["P","#80"],["Q","#81"],["R","#82"],["S","#83"],["T","#84"],["U","#85"],["V","#86"],["W","#87"],["X","#88"],["Y","#89"],["Z","#90"],["[","#91"],["\\","#92"],["]","#93"],["^","#94"],["_","#95"],["`","#96"],["a","#97"],["b","#98"],["c","#99"],["d","#100"],["e","#101"],["f","#102"],["g","#103"],["h","#104"],["i","#105"],["j","#106"],["k","#107"],["l","#108"],["m","#109"],["n","#110"],["o","#111"],["p","#112"],["q","#113"],["r","#114"],["s","#115"],["t","#116"],["u","#117"],["v","#118"],["w","#119"],["x","#120"],["y","#121"],["z","#122"],["{","#123"],["|","#124"],["}","#125"],["~","#126"],[" ","#160"],["¡","#161"],["¢","#162"],["£","#163"],["¤","#164"],["¥","#165"],["¦","#166"],["§","#167"],["¨","#168"],["©","#169"],["ª","#170"],["«","#171"],["¬","#172"],["­","#173"],["®","#174"],["¯","#175"],["°","#176"],["±","#177"],["²","#178"],["³","#179"],["´","#180"],["µ","#181"],["¶","#182"],["·","#183"],["¸","#184"],["¹","#185"],["º","#186"],["»","#187"],["¼","#188"],["½","#189"],["¾","#190"],["¿","#191"],["À","#192"],["Á","#193"],["Â","#194"],["Ã","#195"],["Ä","#196"],["Å","#197"],["Æ","#198"],["Ç","#199"],["È","#200"],["É","#201"],["Ê","#202"],["Ë","#203"],["Ì","#204"],["Í","#205"],["Î","#206"],["Ï","#207"],["Ð","#208"],["Ñ","#209"],["Ò","#210"],["Ó","#211"],["Ô","#212"],["Õ","#213"],["Ö","#214"],["×","#215"],["Ø","#216"],["Ù","#217"],["Ú","#218"],["Û","#219"],["Ü","#220"],["Ý","#221"],["Þ","#222"],["ß","#223"],["à","#224"],["á","#225"],["â","#226"],["ã","#227"],["ä","#228"],["å","#229"],["æ","#230"],["ç","#231"],["è","#232"],["é","#233"],["ê","#234"],["ë","#235"],["ì","#236"],["í","#237"],["î","#238"],["ï","#239"],["ð","#240"],["ñ","#241"],["ò","#242"],["ó","#243"],["ô","#244"],["õ","#245"],["ö","#246"],["÷","#247"],["ø","#248"],["ù","#249"],["ú","#250"],["û","#251"],["ü","#252"],["ý","#253"],["þ","#254"],["ÿ","#255"],["Œ","#338"],["œ","#339"],["Š","#352"],["š","#353"],["Ÿ","#376"],["ƒ","#3402"],["–","#8211"],["—","#8212"],["‘","#8216"],["’","#8217"],["‚","#8218"],["“","#8220"],["”","#8221"],["„","#8222"],["†","#8224"],["‡","#8225"],["•","#8226"],["…","#8230"],["‰","#8240"],["€","#8364"],["™","#8482"]]})},"engine/components/interface":function(){define(["engine/kernel","engine/components/component/component-with-data","engine/components/interface/interface-impl","engine/components/interface/interface-render","engine/has!editable?editors/model/edit/interface"],function(e,t,n,r,i){return e.declare("engine.components.interface",t,n,r,i)})},"engine/components/component/component-with-data":function(){define(["mojo/_base/declare","engine/kernel","engine/components/component","engine/context/Logger"],function(e,t,n,r){var i="data-";return e([n],{constructor:function(){},_removePassThrough:function(e){return"string"!=typeof e||""===e?void r.error("El atributo a eliminar es erroneo. No se puede eliminar un nombre de atributo undefined o vacio"):(e=e.toLowerCase(),delete this._data[e],void(t.isReady()&&this._getParent()&&this._fireChange(e)))},_setPassThrough:function(e,n){return"string"!=typeof e||""===e?void r.error("El atributo seteado es erroneo. No se puede setear un nombre de atributo undefined o vacio"):(e=e.toLowerCase(),"undefined"==typeof n||null===n?void r.error("El atributo seteado es erroneo. No se puede setear un valor undefined o null"):(this._data[e]=n,void(t.isReady()&&this._getParent()&&this._fireChange(e))))},_getPassThrough:function(e){return"string"!=typeof e||""===e?(r.error("No se puede solicitar un nombre de atributo undefined o vacio"),null):this._data[e.toLowerCase()]},getDataAttribute:function(e){return this._getPassThrough(i+e)},addDataAttribute:function(e,t){return this._setPassThrough(i+e,t)},removeDataAttribute:function(e){return this._removePassThrough(i+e)},_eachData:function(e){for(var t in this._data){var n=t;if(0===t.indexOf("data-")){var r=this._data[t];"undefined"!=typeof r&&e(n,r)}}}})})},"engine/components/interface/interface-impl":function(){define(["mojo/_base/lang","mojo/Deferred","mojo/dom-construct","engine/model/res-handler"],function(e,t,n){var r={},i=function(e){var t=e.split("/");return t[0]+"/common/"+t[2]+"/theme/Default.css"},a=function(e){return e+".css"},o="http://",s="https://",u="/",c=function(e,t){return null!==e.match(t+"$")&&(e=e.substring(0,e.length-t.length)),e},l=function(e){var t={},n=[];return e.startsWith(s)?(n=e.substring(s.length,e.length).split(u),t.url=s+n[0]):(n=e.substring(o.length,e.length).split(u),t.url=o+n[0]),t.scene=n[1],t.path=c(e.substring(t.url.length+t.scene.length+2,e.length),".js"),t},d=function(e){var t={},n=e.split(u);for(var r in n){if(!r.equals("..")&&!r.equals(".")){t.scene=r?r:n[1];break}t.url||(t.url=t.url+u),t.url=t.url+r}return t.path=c(e.substring(t.scene.length+t.url.length+2,e.length),".js"),t},f=function(e){var t={};return t=e.startsWith(o)||e.startsWith(s)?l(e):d(e)};return{_current:null,_scene:null,constructor:function(){},_initialize:function(e,t,n){if(n&&n.attributes)for(var i in n.attributes){var a=n.attributes[i];/^@text\//.test(a)&&(n.attributes[i]=(t._isView?t:t._getDeclarationView()).getValueLiteralText(a))}this.inherited(arguments),this._isNamingContainer=!1,this.EVENT=this.EVENT||{},this._CTX=r},_isInterface:!0,_getViewImpl:function(){return this._children.length?this._children[0]:null},_executeInView:function(e,t){var n=this._getViewImpl();if(n){var r=n[e];if(r)return r.apply(n,t)}throw"No se ha encontrado la funcion: "+e},_build:function(){},_initCtx:function(){this._CTX=e.mixin(this._CTX||{},r)},_buildCtx:function(){},_getViewConstructorByScene:function(r){this._configureSceneURL(r);
var o=new t,s={};return s[r.scene]=r.url,require({paths:s},[r.viewLayerPath],e.hitch(this,function(){require([r.viewPath],e.hitch(this,function(e){var t=document.head?document.head:document.getElementsByTagName("head")[0];n.create("link",{href:r.url+"/"+i(r.viewPath),rel:"stylesheet",type:"text/css"},t),n.create("link",{href:r.url+"/"+a(r.viewPath),rel:"stylesheet",type:"text/css"},t),o.resolve(e)}))})),o},_configureSceneURL:function(e){this._scene={},this._updateSceneUrl(e),this._scene.url=e.url},_updateSceneUrl:function(e){var t,n,r="data-pgs-url";this._structure.attributes&&this._structure.attributes[r]&&e&&(t=this._structure.attributes[r],n=f(t),n&&(e.url=n.url+u+n.scene,e.scene=n.scene,e.viewLayerPath=n.scene+"/"+n.path,e.viewPath=n.path)),this._fixPathStatic(e)},_fixPathStatic:function(e){var t=4,n=e.viewLayerPath.split("/pgs/view/"),r=(n[0]+"/pgs/view").split("/").reverse(),i=r.length-1;if(r.length>=t){var a=[],o=[];r.forEach(function(e,n){t>n?o.push(e):i>n&&a.push(e)});var s=o.reverse().join("/")+"/"+n[1],u=a.reverse().join("/");e.url+="/"+u,e.viewLayerPath=e.scene+"/"+s,e.viewPath=s.replace("-Layer","")}},_isSceneView:function(){return null!==this._scene},_getSceneURL:function(){return this._scene.url},getDomNode:function(){return null},validate:function(){return this._executeInView("validate",arguments)},isValid:function(){return this._executeInView("isValid",arguments)},addEventListener:function(){return this._executeInView("addEventListener",arguments)},removeEventListener:function(){this._executeInView("removeEventListener",arguments)},addAttributeListener:function(){return this._executeInView("addAttributeListener",arguments)},removeAttributeListener:function(){this._executeInView("removeAttributeListener",arguments)},getClientIdForChild:function(){return this._executeInView("getClientIdForChild",arguments)},isRendered:function(){return this._executeInView("isRendered",arguments)},getRendered:function(){return this._executeInView("getRendered",arguments)},setRendered:function(){this._executeInView("setRendered",arguments)}}})},"engine/components/interface/interface-render":function(){define(["mojo/_base/lang","engine/model/dom-handler"],function(e,t){return{fullRender:function(e){t.renderChildren(e)},isBodyRenderizable:function(){return!0},_isRenderizable:function(){return!1},_getRenderizableChildren:function(e){var t=e._children,n=t[0];return n&&n._isFlow?[n]:t.length?t[0]._getRender()._getRenderizableChildren(t[0]):[]},render:function(e,t){return"undefined"==typeof t?void this.fullRender(e,!1,!0):void 0}}})},"engine/components/interfaceFlow":function(){define(["engine/kernel","engine/components/component/component-with-data","engine/components/interface/interfaceFlow-impl","engine/components/interface/interface-render","engine/has!editable?editors/model/edit/interface"],function(e,t,n,r,i){return e.declare("engine.components.interfaceFlow",t,n,r,i)})},"engine/components/interface/interfaceFlow-impl":function(){define(["mojo/_base/lang","engine/components/interface/interface-impl"],function(e,t){return e.mixin(t,{getInitialState:function(){return this._executeInView("getInitialState",arguments)},setInitialState:function(){this._executeInView("setInitialState",arguments)}})})},"engine/components/template":function(){define(["engine/kernel","engine/components/view","engine/components/template/template-impl","engine/components/view/view-render","engine/has!editable?editors/model/edit/template"],function(e,t,n,r,i){return e.declare("engine.components.template",t,n,r,i)})},"engine/components/view":function(){define(["engine/kernel","engine/components/component/component-with-data","engine/components/view/view-impl","engine/components/view/view-render","engine/has!editable?editors/model/edit/view"],function(e,t,n,r,i){return e.declare("engine.components.view",t,n,r,i)})},"engine/components/view/view-impl":function(){define(["engine/context/Logger","mojo/_base/lang","engine/kernel","engine/model/properties-handler","engine/model/ev-handler","engine/profiles","engine/context/BKSPresentationContext","engine/events/Event","engine/mapper/Adapter","engine/model/visitor","engine/model/res-handler","engine/data/types","engine/util","engine/components/html","mojo/json"],function(e,t,n,r,i,a,o,s,u,c,l,d,f,h,p){var g={list:[],add:function(e){this.check(e)||this.list.push(e)},remove:function(e){var t=this.check(e);t&&(t--,this.list.splice(t,1))},check:function(e){return this.list.indexOf(e)+1}},m=function(e){if(n.isReady()&&(!e||!e._isInterface))throw new Error("No se permiten crear vistas dinamicas, unicamente contratos")},v={_rendered:{type:d._boolean,defaultValue:!0}};return{listComponents:null,configureComponent:function(e){this.setTemplate(e.template,e.componentEvents);this.addAttributes(e.attributes),this.addEvents(e.events)},setTemplate:function(e,t){this.addStyle(),this._structure=this._mergeStructures(this._structure||{},this.decode(e)),this.setComponentEvents(t)},setComponentEvents:function(t){this._structure.events||(this._structure.events={}),this._structure.events.client||(this._structure.events.client={});var n=/^onClient(Render|Ready|Hide|Message)/;for(var r in t){var i=n.exec(r);i?this._structure.events.client[r]=t[r]:e.error("El evento "+r+" no es un evento por defecto del componente")}},addStyle:function(){this._cssPrefix=this.declaredClass.replace(/\./g,"_")+"___",this.STYLE={}},addEvent:function(e){this.EVENT["EV_"+e.toUpperCase()]=e.toUpperCase()},addEvents:function(e){if(e)for(var t=0;t<e.length;t++)this.addEvent(e[t])},addAttributes:function(e){if(e)for(var n in e){var r=e[n],i=r.defaultValue,a=r.type,o=!1;t.isFunction(a)||(o=!0,a=require(r.type)),this.addAttribute(n,a,i,o,t.isArray(i))}},addAttribute:function(e,t,n,r,i){var a,o=this._CTX["_"+e]={type:t,defaultValue:n};r&&!i&&(o.type=d._bean(t),o.creator=t),i&&(o.list={},r?(a=d._array(d._bean(t)),o.list.creator=t):a=d._array(t),o.type=a,o.list.type=a),this[f.getter(e)]=function(t,n){return this._executeMapTo(e,t),this._get(e,n)},this[f.setter(e)]=function(t,n){var r=this._set(e,t);r&&this._executeMapFrom(e,n)}},IN:!0,OUT:!1,addMap:function(e,n,r){this._map&&this._map._in&&this._map._out||(this._map=t.mixin(this._map,{_in:{mapIn:{mapperConverter:{map:[]}}},_out:{mapOut:{mapperConverter:{map:[]}}},_datasources:{},_beans:{}})),this._map[e?"_in":"_out"][e?"mapIn":"mapOut"].mapperConverter.map.push({from:n,to:r,type:"simple",append:"ignore"})},decode:function(e){var t={children:[]},n=document.createElement("view");return n.innerHTML=e,this.traverse(n,t),t},traverse:function(e,t){for(var n=0;n<e.childNodes.length;n++){var r=e.childNodes[n];if(r.tagName||!/^\s*$/.test(r.nodeValue)){var i=this.createStructure(r);t.children.push(i),this.traverse(r,i)}}},mapComponent:function(e,t,n){var r=e.parentNode;if(null!==r){var i=r.attributes,a=i.getNamedItem("id");if(n&&/^(PGS|BKS):FOREACH/.test(r.nodeName))return r.id+".attributes.values.*."+t;null!==a&&this.isMappableComp(r.nodeName,r.id)&&(t=r.id+"."+t),t=this.mapComponent(r,t,n)}return t},mapForeachCtx:function(e,t){var n=e.parentNode;if(null!==n){var r=n.attributes,i=r.getNamedItem("id");if(null!==i&&/^(PGS|BKS):FOREACH/.test(n.nodeName)){var a=r.getNamedItem("context");if(a){var o=/^@map(From|To)?\/att.([a-zA-Z._]+)/.exec(a.nodeValue);return"CTX.attributes."+o[2]+t}}t=this.mapForeachCtx(n,t)}return t},isPgsComp:function(e){return/^(PGS|BKS):/.test(e)},isMappableComp:function(e,t){return t?this.isPgsComp(e)&&/^[^_]/.test(t)?!0:!this.isPgsComp(e)&&/^@id\/[^_]/.test(t)?!0:!1:!1},createStructure:function(e){var t={},n=null,r={},i=e.attributes,a=0;if(i&&8!==e.nodeType)for(var o=0;o<i.length;o++)if("id"===i[o].name)n=i[o].value;else{var s=i[o].value;if(/^@map/.test(s)&&this.isMappableComp(e.nodeName,e.id)){var u=null,c=null;if(/^(PGS|BKS):FOREACH/.test(e.nodeName)&&"context"===i[o].name)continue;var l=/^@(mapFrom|mapTo|map)\/(att|iter)(.([a-zA-Z0-9._]+))?/.exec(s);if(l){u="iter"===l[2]?this.mapForeachCtx(e,".*"+(void 0===l[l.length-1]?"":"."+l[l.length-1])):"CTX.attributes."+l[l.length-1];var d=e.id,p=/^(@id\/)?([A-Za-z0-9_]+)/.exec(e.id);p&&(d=p[2]),c=this.mapComponent(e,d+".attributes."+i[o].name,"iter"===l[2])}"mapFrom"===l[1]?this.addMap(this.IN,u,c):"mapTo"===l[1]?this.addMap(this.OUT,c,u):"map"===l[1]&&(this.addMap(this.IN,u,c),this.addMap(this.OUT,c,u))}else if(/^@handler/.test(s)){a=1;var g=i[o].name,l=/^onclient([a-z]+)/.exec(i[o].name);l&&(g="onClient"+f.capitalize(l[1])),r[g]=s.replace("@handler/","")}else if(/@style/.test(s))for(var l,m=/@style\/([A-Za-z0-9_-]+)/g;null!==(l=m.exec(s));)this.STYLE[l[1].toUpperCase()]=this._cssPrefix+l[1],"styleclass"===i[o].name?t.styleClass=t.styleClass?t.styleClass+" "+_cssPrefix+l[1]:this._cssPrefix+l[1]:t[i[o].name]=t[i[o].name]?t[i[o].name]+" "+l[0]:l[0];else t[i[o].name]=s}var v={attributes:t,children:[]};if(a){var _={};_.client=r,v.events=_}if(n){v.id=n,this.ID||(this.ID={});var b=n.replace(/@id\//,"");this.ID[b.toUpperCase()]=b}return e.tagName?this.listComponents&&(v.creator=this.listComponents[e.tagName]?require(this.listComponents[e.tagName]):h.creator(e.tagName)):(v.creator=h.creator("text-content"),v.attributes.content=e.nodeValue),v},_units:null,_events:null,_isDirty:null,constructor:function(){},_dynamicCreation:function(e){m(e)},_build:function(e){if(this._map||(this._map={}),this._map.STYLE=this.STYLE,this._map.TEXT=this.TEXT,this._buildStatus=null,this._mAdapter=new u(this),this._isDirty={},this.inherited(arguments),n.isReady()||this._parent&&this._parent._isSceneView()){var t=e,r=require("engine/components/component");e&&e.isInstanceOf&&e.isInstanceOf(r)&&(t=null),n.buildMappings(this,t),l.download(this)}},_postBuild:function(){},_processMap:function(e){var t={};for(var r in e)t[r]=e[r].split(n.SEPARATOR).pop();return t},getProfile:function(){return a._access()},dispatchEvent:function(e,n,r,a){var o,u,c=e;r?o=r:"undefined"!=typeof dojoConfig&&dojoConfig.params&&dojoConfig.params.targetURL&&(o=dojoConfig.params.targetURL),a&&(u=a),t.isString(e)&&(c=new s(e,this)),"undefined"!=typeof n&&c.setInfo&&c.setInfo(n),i.fireEvent(c,o,u)},addEventListener:function(e,t){this._structure.events.server=this._structure.events.server||{},this._structure.events.server[e]=t},removeEventListener:function(e){delete this._structure.events.server[e]},addErrorMessage:function(e,t,n){o.addErrorMessage(e,t,n)},removeErrorMessages:function(e,t){o.removeThisMessages(e,t)},refreshValidations:function(e){o.refreshValidations(e)},find:function(e){var t=e.split(n.SEPARATOR).pop(),r=this._units[e];if(r)return r;var i={},a=[];for(var o in this._units){var s=o.split(n.SEPARATOR).pop();s===t&&a.push(i[o]=this._units[o])}return 1===a.length?a[0]:null},getClientId:function(){return this.inherited(arguments)},getId:function(){return this.inherited(arguments)},getLogger:function(){return e},getValueLiteralText:function(t){r.isLiteralValue(t)||(t="@text/"+t);var n=r.getLiteral(this,t);return n?n:(e.error("El literal ["+t+"] no existe en la vista "+this._getDeclarationView().getId()),null)},_initialize:function(){this.inherited(arguments),this._isNamingContainer=!0,this._units=[],this._events={},this.EVENT=this.EVENT||{},this.TEXT=this.TEXT||{},this.ID=this._processMap(this._EXTENDED_ID||{}),this._buildTxts(),this._initLiteralTitle()},_initLiteralTitle:function(){var e=document.title;/^@text\//.test(e)&&(document.title=this.getValueLiteralText(e))},_initCtx:function(){this._CTX=t.mixin(this._CTX||{},v)},_mergeStructures:function(e,r){var i=t.mixin(n.clone(e.attributes),n.clone(r.attributes)),a=t.mixin(n.clone(e.events),n.clone(r.events)),o=e.children?e.children:r.children,s=n.clone(e.validators?e.validators:r.validators);return{creator:r.creator,id:e.id,attributes:i,events:a,children:o,validators:s}},_buildTxts:function(){var e=a._resolvePath(this._TEXT_RULES);r.generatePropertiesContext(this,e)},_regUnit:function(e){this._units[e.getId()]=e},_deregUnit:function(e){var t=e.getId();this._units[t]&&(this._units[t]=null,delete this._units[t])},_isView:!0,_getParent:function(e){if(!this._parent)return null;if(!e){var t=this._isRoot?this._parent:this._parent._parent;return t?t:null}return this._parent&&this._parent.declaredClass===e?this._parent:this._parent._getParent?this._parent._getParent(e):null},_getParentView:function(){var e=this._getParent();return null===e||e===n.BODY?this:e._isView?e:e._getParentView()},_generatePropertiesContext:function(){this._PROPERTIES=this._PROPERTIES||[],r.generatePropertiesContext(this)},_updateMapperAdapter:function(e){this._mapperAdapter=e},_getMapperAdapter:function(){return this._mapperAdapter},_getMapInfo:function(e){var n,r=this._map;return r?(n=e?r._out&&r._out.mapOut&&r._out.mapOut.mapperConverter||{}:r._in&&r._in.mapIn&&r._in.mapIn.mapperConverter||{},n&&n.map?t.isArray(n.map)?n.map:[n.map]:[]):[]},isRendered:function(){return this.getRendered()},getRendered:function(){return this._get("rendered")},setRendered:function(e){this._set("rendered",e)},_executeMapTo:function(e,t){if(this._isDirty[e]=!0,this.sameExecution=!0,!t&&n.isReady()){var r=this._getMapperAdapter();r.execute(e,!0,!1,!0)}},_executeMapFrom:function(e,t){if(!t&&n.isReady()){var r=this._getMapperAdapter();r.execute(e,!1,!0)}},getDomNode:function(){return this._getParent()?this._getParent().getDomNode():document.body},_regUnitInParent:function(){},postMessage:function(e){try{window.parent.postMessage(e,window.parent.location.origin)}catch(t){console.error("Error enviando un mensaje a un frame",t)}},validateAllChildren:function(){if(g.check(this))return!0;var e=!0,t=this;return c.forEachComponent(this,function(n){n!==t&&n.validate&&!n.validate()&&(e=!1)}),e},isValidAllChildren:function(){var e=!0,t=this;return c.forEachComponent(this,function(n){n!==t&&n.isValid&&!n.isValid()&&(e=!1)}),e},validate:function(){var e=this.validateView();return g.add(this),e&=this.validateAllChildren(),g.remove(this),e},isValid:function(){return this.validateView()&&this.isValidAllChildren()},validateView:function(){return this.validateAllChildren()},getClientIdForChild:function(e){var t=this.find(e);if(t){t._isInterface&&(t=t._getViewImpl());var n=t.getDataAttribute("pgs-public-id");if(n.match(/^TRUE$/i))return t.getClientId()}return""},_set:function(e,t){var n=this.inherited(arguments);return this.sameExecution?(this.sameExecution=!1,n):(!n&&this._equals(e,t)&&(n=this._isDirty[e],this._isDirty[e]=!1),n)}}})},"engine/components/view/view-render":function(){define(["mojo/_base/lang","engine/model/dom-handler","engine/render/defaultRender","mojo/dom-construct"],function(e,t,n){var r=e.mixin({},n);return e.mixin(r,{renderRendered:function(e){var n=e.isRendered();t.updateViewRendered(e,n)},getTagNode:function(){return"div"},getCustomInitialArguments:function(){return{}},isBodyRenderizable:function(){return!0},_isRenderizable:function(){return!1},fullRender:function(e){t.renderChildren(e)}})})},"engine/components/template/template-impl":function(){define(["mojo/_base/array","mojo/_base/lang","engine/components/gap","engine/components/fillgap","../../kernel","../../util","../../model/query"],function(e,t,n,r,i,a,o){return{isTemplate:!0,_fillGaps:null,constructor:function(){},_mergeStructures:function(e,t){var n=this.inherited(arguments);return this._dynChildren=e.children?n.children:[],n.children=i.clone(t.children),n},_buildChildren:function(){this._fillGaps=this._fillGaps||{},this.inherited(arguments);var i=this;e.forEach(this._dynChildren,t.hitch(this,function(e){var n=e.id,r=this.find(n),o=e.creator,s=new o(n,r,e);if("bks.fillgap"===s.declaredClass||"pgs.fillgap"===s.declaredClass){var u=a.capitalize(n);this["set"+u]=t.partial(i._setFillGap,n),this["get"+u]=t.partial(i._getFillGap,n),this["set"+u](s)}}));var s=o.byType(this,n);e.forEach(s,t.hitch(this,function(e){var n=e.getId(),o=a.capitalize(n);if(!this["set"+o]||!this["get"+o]){var s=new r(n,e,{});this["set"+o]=t.partial(i._setFillGap,n),this["get"+o]=t.partial(i._getFillGap,n),this["set"+o](s)}}))},_setFillGap:function(e,t){("bks.fillgap"===t.declaredClass||"pgs.fillgap"===t.declaredClass)&&(this._fillGaps[e]=t)},_getFillGap:function(e){return this._fillGaps[e]}}})},"engine/components/flow":function(){define(["engine/kernel","engine/components/view","engine/components/flow/flow-impl","engine/components/flow/flow-render"],function(e,t,n,r){return e.declare("engine.components.flow",t,n,r)})},"engine/components/flow/flow-impl":function(){define(["mojo/_base/array","mojo/_base/lang","mojo/query","engine/data/types"],function(e,t,n,r){var i={_initialState:{type:r._string,defaultValue:""}};return{_isFlow:!0,_currentId:null,_transition:null,_transitionDuration:null,_transitionListeners:null,constructor:function(){this._transitionListeners={}},getCurrentId:function(){return this._currentId||!this._structure.children.length?this._currentId:this._structure.children[0].id},setCurrentId:function(e){this._currentId=e},_buildChildren:function(n){var r=this.getCurrentId();if(this.getInitialState()){var i=this.getInitialState();for(var a in this.ID)if(i===this.ID[a]){r=i;break}this.setCurrentId(r)}e.forEach(n,t.hitch(this,function(e){if(e.id===r){var t=e.creator;new t(e.id,this,e)}}))},_checkSameTarget:function(e,t){if("engine.components.action"===e.declaredClass){if(t===e.getId()||t===this.getCurrentId())throw"Una acción no se puede llamar a sí misma";return!1}return t===this.getCurrentId()},getDomNode:function(){var e=n("#"+this.getClientId());return 0!==e.length?e[0]:null},addTransitionListeners:function(e,t,n){var r=this._transitionListeners[e+"-in"];r&&engine.unsubscribe(r),r=this._transitionListeners[e+"-out"],r&&engine.unsubscribe(r);var i=this;t&&(this._transitionListeners[e+"-in"]=engine.subscribe("pgs/flow/transition/start",function(n,r,a,o,s){n===i&&e===o&&t.call(i,r,a,s)})),n&&(this._transitionListeners[e+"-out"]=engine.subscribe("pgs/flow/transition/end",function(t,r,a,o,s){t===i&&e===o&&n.call(i,r,a,s)}))},getTransition:function(){return this._transition},setTransition:function(e){this._transition=e},getTransitionDuration:function(){return this._transitionDuration},setTransitionDuration:function(e){this._transitionDuration=e},getInitialState:function(){return this._get("initialState")},setInitialState:function(e){this._set("initialState",e),this._updateChildren()},_updateChildren:function(){if(this.getInitialState()!==this.getCurrentId()){var e=this.find(this.getCurrentId());this._buildChildren(this._structure.children),this.removeChild(e)}},_initCtx:function(){this._CTX=t.mixin(this._CTX||{},i)},_startPage:function(e){var t={};t.target=e,t.fun="",this._goTo(t)},_changeCurrentView:function(n,r){var i;return this._checkSameTarget(r,n)?(i=r,i.initialize&&i.initialize()):e.forEach(this._structure.children,t.hitch(this,function(e){if(e.id===n){var t=e.creator;i=new t(e.id,null,e)}})),i?i:void console.error('No se ha encontrado la vista destino "'+n+'"')},_goTo:function(e,t){var n,r=t&&t.getComponent()?t.getComponent():this.find(this.getCurrentId()),i=e.target,a=e.transition,o=this._changeCurrentView(i,r);if("engine.components.action"===o.declaredClass){if(n=this[o.getId()+"_run"])return void n.call(this,r,o);throw'No se ha encontrado el controlador durante el "@goTo/'+i+'". Se ignora dicha funcion.'}n=this[e.fun],n&&n.call(this,r,o),this._checkSameTarget(r,i)||this._getRender().doTransition(this,r,o,a),this.setCurrentId(i)}}})},"engine/components/flow/flow-render":function(){define(["mojo/_base/lang","engine/model/dom-handler","engine/render/defaultRender","mojo/dom-construct","mojo/dom-class","mojo/dom-geometry","engine/model/ev-handler","engine/flow/TransitionManager"],function(e,t,n,r,i,a,o,s){var u=e.mixin({},n);return e.mixin(u,{renderRendered:function(e){var n=e.isRendered();t.updateViewRendered(e,n)},renderInitialState:function(e){var t=e.getInitialState();e._startPage(t)},getTagNode:function(){return"div"},getCustomInitialArguments:function(){return{}},isBodyRenderizable:function(){return!0},_isRenderizable:function(){return!0},fullRender:function(e,n,i){if(e&&e.isRendered&&!e.isRendered())return null;var a=e.getDomNode(),s=a||e._DOM_NODE_,u=null,c=a&&n;if(c)e._DOM_NODE_=a;else{var l=e.getClientId();u=r.create("div",{id:l}),e._DOM_NODE_=r.create("div",{},u)}t.renderChildren(e,n,i),u&&(e._DOM_NODE_=u),c||(t.destroy(e,s),a=null);var d=e._getParent();d._getRender().place(e,d);var f=e._DOM_NODE_;return e._DOM_NODE_=null,delete e._DOM_NODE_,e.getDomNode()&&!e.editable&&o.attachAllEvents(e),f},doTransition:function(t,n,i,a){var o=a?a:t.getTransition(),u=t.getTransitionDuration(),c=t.getDomNode(),l=c.children[0],d=t._DOM_NODE_=r.create("div",{},c),f=t.getCurrentId();t.find(f)||console.error("No se ha encontrado el flujo o vista con el ID "+f+'". Error al eliminar.');var h=t.find(f);if(t.addChild(i),o){var p=new s(t,c);p.next(d,o,u).then(e.hitch(this,function(){this.onEnd(t,h,l,d,o)}))}else this.onEnd(t,h,l,d,o);t._DOM_NODE_=null},onEnd:function(e,t,n){r.destroy(n),e.removeChild(t)}})})},"engine/flow/TransitionManager":function(){define(["mojo/_base/declare","mojo/_base/lang","mojo/dom-class","mojo/dom-construct","mojo/dom-geometry","mojo/dom-style","mojo/on","mojo/Deferred","mojox/html/styles","mojo/topic","./_animations"],function(e,t,n,r,i,a,o,s,u,c,l){function d(e){u.getDynamicStyleSheet("pgs-transition-stylesheet");var t=[];for(var n in e)t.push(u.insertCssRule(n,e[n],"pgs-transition-stylesheet"));return t}function f(e,t,n,r){var i=parseFloat(t,10)/1e3,a={};return a[".pgs-flow."+e+" > :nth-child(1)"]="animation: "+e+"-in "+i+"s "+n+" both;"+(r.CUSTOM_IN?r.CUSTOM_IN:""),a[".pgs-flow."+e+" > :nth-child(2)"]="animation: "+e+"-out "+i+"s "+n+" both;"+(r.CUSTOM_OUT?r.CUSTOM_OUT:""),a["@keyframes "+e+"-in"]=r.IN,a["@keyframes "+e+"-out"]=r.OUT,a}function h(e,t,n){var r=e+"#"+t+"#"+n,i=_[r];if(!i){var a=l[e],o=_[r]=f(e,t,n,a);d(o)}}var p,g={animation:"animationend","-o-animation":"oAnimationEnd","-moz-animation":"animationend","-webkit-animation":"webkitAnimationEnd"},m=null,v=document.createElement("fakeelement");for(p in g)if("undefined"!=typeof v.style[p]){m=g[p];break}var _={};return d({".pgs-flow":"position: relative;width: 100%;height: 100%;-webkit-perspective: 1200px;-moz-perspective: 1200px;perspective: 1200px;overflow: hidden;",".pgs-flow > *":"width: 100%;height: 100%;position: absolute;top: 0;left: 0;overflow: hidden;-webkit-backface-visibility: hidden;-moz-backface-visibility: hidden;backface-visibility: hidden;-webkit-transform: translate3d(0, 0, 0);-moz-transform: translate3d(0, 0, 0);transform: translate3d(0, 0, 0);-webkit-transform-style: preserve-3d;-moz-transform-style: preserve-3d;transform-style: preserve-3d;z-index: 1;",".pt-page-ontop":"z-index: 999;"}),e("engine.flow.TransitionManager",[],{domNode:null,isAnimating:null,endCurrPage:null,endNextPage:null,constructor:function(e,t){this.flow=e,this.domNode=t},next:function(e,r,u,d){var f=new s;if(this.isAnimating)return!1;this.isAnimating=!0;var p=i.getMarginBox(e);a.set(e,"display","none");var g=u?u:650,v=this.domNode,_=v.children[0];if(l[r]){h(r,g,d?d:"ease");var b=i.getMarginBox(v);a.set(v,{height:b.h+"px",transition:"height "+g/1e3+"s"}),n.add(v,"pgs-flow"),o.once(_,m,t.hitch(this,function(){this.endCurrPage=!0,this.endNextPage&&this.onEndAnimation(r,_,e,f)})),o.once(e,m,t.hitch(this,function(){this.endNextPage=!0,this.endCurrPage&&this.onEndAnimation(r,_,e,f)})),a.set(e,"display",""),n.add(v,r),setTimeout(function(){a.set(v,"height",p.h+"px")},0),m||this.onEndAnimation(r,_,e,f)}else{var y=this.flow;c.publish("pgs/flow/transition/start",y,_,e,r,g),setTimeout(t.hitch(y,function(){c.publish("pgs/flow/transition/end",y,_,e,r,g),f.resolve()}),g)}return f},onEndAnimation:function(e,t,r,i){this.endCurrPage=this.endNextPage=this.isAnimating=!1,n.remove(this.domNode,["pgs-flow",e]),a.set(this.domNode,"height",""),a.set(this.domNode,"transition",""),i.resolve()}})})},"mojox/html/styles":function(){define(["mojo/_base/lang","mojo/_base/array","mojo/_base/window","mojo/_base/sniff"],function(e,t,n,r){var i=e.getObject("mojox.html",!0),a={},o={},s=[];return i.insertCssRule=function(e,t,a){var o=i.getDynamicStyleSheet(a),s=e+" {"+t+"}";return r("ie")?o.cssText+=s:o.sheet?o.sheet.insertRule(s,o._indicies.length):o.appendChild(n.doc.createTextNode(s)),o._indicies.push(e+" "+t),e},i.removeCssRule=function(e,t,n){var i,o,s,u=-1;for(o in a)if(!n||n===o){for(i=a[o],s=0;s<i._indicies.length;s++)if(e+" "+t===i._indicies[s]){u=s;break}if(u>-1)break}return i?-1===u?(console.warn("The css rule was not found and could not be removed."),!1):(i._indicies.splice(u,1),r("ie")?i.removeRule(u):i.sheet&&i.sheet.deleteRule(u),!0):(console.warn("No dynamic style sheet has been created from which to remove a rule."),!1)},i.modifyCssRule=function(){},i.getStyleSheet=function(e){if(a[e||"default"])return a[e||"default"];if(!e)return!1;var t=i.getStyleSheets();if(t[e])return i.getStyleSheets()[e];var n;for(n in t)if(t[n].href&&t[n].href.indexOf(e)>-1)return t[n];return!1},i.getDynamicStyleSheet=function(e){return e||(e="default"),a[e]||(n.doc.createStyleSheet?(a[e]=n.doc.createStyleSheet(),r("ie")<9&&(a[e].title=e)):(a[e]=n.doc.createElement("style"),a[e].setAttribute("type","text/css"),n.doc.getElementsByTagName("head")[0].appendChild(a[e])),a[e]._indicies=[]),a[e]},i.enableStyleSheet=function(e){var t=i.getStyleSheet(e);t&&(t.sheet?t.sheet.disabled=!1:t.disabled=!1)},i.disableStyleSheet=function(e){var t=i.getStyleSheet(e);t&&(t.sheet?t.sheet.disabled=!0:t.disabled=!0)},i.activeStyleSheet=function(e){var n,r=i.getToggledStyleSheets();if(1===arguments.length)t.forEach(r,function(t){t.disabled=t.title===e?!1:!0});else for(n=0;n<r.length;n++)if(r[n].disabled===!1)return r[n];return!0},i.getPreferredStyleSheet=function(){},i.getToggledStyleSheets=function(){var e;if(!s.length){var t=i.getStyleSheets();for(e in t)t[e].title&&s.push(t[e])}return s},i.getStyleSheets=function(){if(o.collected)return o;var e=n.doc.styleSheets;return t.forEach(e,function(e){var n=e.sheet?e.sheet:e,i=n.title||n.href;if(r("ie"))-1===n.cssText.indexOf("#default#VML")&&(n.href?o[i]=n:n.imports.length?t.forEach(n.imports,function(e){o[e.title||e.href]=e}):o[i]=n);else{o[i]=n,o[i].id=n.ownerNode.id;var a=[];try{a=n[n.cssRules?"cssRules":"rules"]}catch(s){console.warn("Reading css rules from stylesheet "+n.href+" is forbidden due to same-origin policy. See http://www.w3.org/TR/CSP/#cascading-style-sheet-css-parsing",n)}t.forEach(a,function(e){e.href&&(o[e.href]=e.styleSheet,o[e.href].id=n.ownerNode.id)})}}),o.collected=!0,o},i})},"engine/flow/_animations":function(){define(["mojo/_base/lang"],function(){var e="from { transform: translateX( 100%); }",t="from { transform: translateX(-100%); }",n="from { transform: translateY( 100%); }",r="from { transform: translateY(-100%); }",i="from { } to { transform: translateX(-100%); }",a="from { } to { transform: translateX( 100%); }",o="from { } to { transform: translateY(-100%); }",s="from { } to { transform: translateY( 100%); }",u="{ translateZ(-200px); transform: scale(0.8) translateZ(-200px); opacity:0; }",c="{ opacity: 0; transform: translateX( 100%) rotateY( 90deg); }",l="{ opacity: 0; transform: translateX(-100%) rotateY(-90deg); }",d="{ opacity: 0; transform: translateY(-100%) rotateX( 90deg); }",f="{ opacity: 0; transform: translateY( 100%) rotateX(-90deg); }",h="{ animation-timing-function: ease-out; transform: translateX( 50%) translateZ(-200px) rotateY( 45deg); }",p="{ animation-timing-function: ease-out; transform: translateX(-50%) translateZ(-200px) rotateY(-45deg); }",g="{ animation-timing-function: ease-out; transform: translateY(-50%) translateZ(-200px) rotateX( 45deg); }",m="{ animation-timing-function: ease-out; transform: translateY( 50%) translateZ(-200px) rotateX(-45deg); }",v="from { } to { opacity: 0; }",_="from { } to { opacity: 0; transform: rotateY( 90deg); }",b="from { } to { opacity: 0; transform: rotateY(-90deg); }",y="from { } to { opacity: 0; transform: rotateX( 90deg); }",C="from { } to { opacity: 0; transform: rotateX(-90deg); }",E="from { } to { opacity: 0; transform: scale( .8); }",w="from { } to { opacity: 0; transform: scale(1.2); }",T="from { } to { opacity: 0; transform: translateX(-100%); }",x="from { } to { opacity: 0; transform: translateX( 100%); }",I="from { } to { opacity: 0; transform: translateY(-100%); }",S="from { } to { opacity: 0; transform: translateY( 100%); }",O="from { opacity: 0; transform: scale( .8); }",N="from { opacity: 0; transform: scale(1.2); }",j="from { opacity: 0; transform: translateX( 100%); }",A="from { opacity: 0; transform: translateX(-100%); }",M="from { opacity: 0; transform: translateY( 100%); }",q="from { opacity: 0; transform: translateY(-100%); }",R="z-index: 999;",P="animation-duration:.7s;",L="animation-timing-function:ease-in-out;",D="animation-delay:",U=D+".18s;",k=D+".2s;",V=D+".3s;",F=D+".4s;",B=D+".5s;",X="transform-origin:",z=X+"  0%   0%;",G=X+"  0%  50%;",W=X+" 50%   0%;",H=X+" 50%  50%;",Y=X+" 50% 100%;",Q=X+"100%  50%;",J={"pgs-flow-move-from-right":{IN:i,OUT:e},"pgs-flow-move-from-left":{IN:a,OUT:t},"pgs-flow-move-from-bottom":{IN:o,OUT:n},"pgs-flow-move-from-top":{IN:s,OUT:r},"pgs-flow-fade-right":{IN:v,OUT:e,CUSTOM_OUT:R},"pgs-flow-fade-left":{IN:v,OUT:t,CUSTOM_OUT:R},"pgs-flow-fade-bottom":{IN:v,OUT:n,CUSTOM_OUT:R},"pgs-flow-fade-top":{IN:v,OUT:r,CUSTOM_OUT:R},"pgs-flow-fade-move-right":{IN:T,OUT:j},"pgs-flow-fade-move-left":{IN:x,OUT:A},"pgs-flow-fade-move-bottom":{IN:I,OUT:M},"pgs-flow-fade-move-top":{IN:S,OUT:q},"pgs-flow-ease-from-right":{IN:i,OUT:e,CUSTOM_IN:L+P+R},"pgs-flow-ease-from-left":{IN:a,OUT:t,CUSTOM_IN:L+P+R},"pgs-flow-ease-from-bottom":{IN:o,OUT:n,CUSTOM_IN:L+P+R},"pgs-flow-ease-from-top":{IN:s,OUT:r,CUSTOM_IN:L+P+R},"pgs-flow-scale-down-right":{IN:E,OUT:e,CUSTOM_OUT:R},"pgs-flow-scale-down-left":{IN:E,OUT:t,CUSTOM_OUT:R},"pgs-flow-scale-down-bottom":{IN:E,OUT:r,CUSTOM_OUT:R},"pgs-flow-scale-down-top":{IN:E,OUT:n,CUSTOM_OUT:R},"pgs-flow-scale-up-down":{IN:E,OUT:N,CUSTOM_OUT:V},"pgs-flow-scale-down-up":{IN:w,OUT:O,CUSTOM_OUT:V},"pgs-flow-scale-up-left":{IN:i,OUT:O,CUSTOM_IN:R},"pgs-flow-scale-up-right":{IN:a,OUT:O,CUSTOM_IN:R},"pgs-flow-scale-up-top":{IN:s,OUT:O,CUSTOM_IN:R},"pgs-flow-scale-up-bottom":{IN:o,OUT:O,CUSTOM_IN:R},"pgs-flow-scale-up-center":{IN:O,OUT:E+"Center",CUSTOM_OUT:F},"pgs-flow-pull-right":{IN:_,OUT:"from { opacity: 0; transform: rotateY(-90deg); }",CUSTOM_IN:G,CUSTOM_OUT:Q+U},"pgs-flow-pull-left":{IN:b,OUT:"from { opacity: 0; transform: rotateY(90deg); }",CUSTOM_IN:Q,CUSTOM_OUT:G+U},"pgs-flow-pull-bottom":{IN:C,OUT:"from { opacity: 0; transform: rotateX(90deg); }",CUSTOM_IN:W,CUSTOM_OUT:Y+U},"pgs-flow-pull-top":{IN:y,OUT:"from { opacity: 0; transform: rotateX(-90deg); }",CUSTOM_IN:Y,CUSTOM_OUT:W+U},"pgs-flow-push-left":{IN:_,OUT:e,CUSTOM_IN:G},"pgs-flow-push-right":{IN:b,OUT:t,CUSTOM_IN:Q},"pgs-flow-push-top":{IN:C,OUT:n,CUSTOM_IN:W},"pgs-flow-push-bottom":{IN:y,OUT:r,CUSTOM_IN:Y},"pgs-flow-fold-left":{IN:"from { } to "+l,OUT:j,CUSTOM_IN:Q},"pgs-flow-fold-right":{IN:"from { } to "+c,OUT:A,CUSTOM_IN:G},"pgs-flow-fold-top":{IN:"from { } to "+d,OUT:M,CUSTOM_IN:Y},"pgs-flow-fold-bottom":{IN:"from { } to "+f,OUT:q,CUSTOM_IN:W},"pgs-flow-unfold-left":{IN:x,OUT:"from "+l,CUSTOM_OUT:Q},"pgs-flow-unfold-right":{IN:T,OUT:"from "+c,CUSTOM_OUT:G},"pgs-flow-unfold-top":{IN:S,OUT:"from "+d,CUSTOM_OUT:Y},"pgs-flow-unfold-bottom":{IN:I,OUT:"from "+f,CUSTOM_OUT:W},"pgs-flow-flip-right":{IN:"from { } to { transform: translateZ(-1000px) rotateY(90deg); opacity: 0.2; }",OUT:"from { transform: translateZ(-1000px) rotateY(-90deg); opacity: 0.2; }",CUSTOM_IN:H,CUSTOM_OUT:H+B},"pgs-flow-flip-left":{IN:"from { } to { transform: translateZ(-1000px) rotateY(-90deg); opacity: 0.2; }",OUT:"from { transform: translateZ(-1000px) rotateY(90deg); opacity: 0.2; }",CUSTOM_IN:H,CUSTOM_OUT:H+B},"pgs-flow-flip-top":{IN:"from { } to { transform: translateZ(-1000px) rotateX(90deg); opacity: 0.2; }",OUT:"from { transform: translateZ(-1000px) rotateX(-90deg); opacity: 0.2; }",CUSTOM_IN:H,CUSTOM_OUT:H+B},"pgs-flow-flip-bottom":{IN:"from { } to { transform: translateZ(-1000px) rotateX(-90deg); opacity: 0.2; }",OUT:"from { transform: translateZ(-1000px) rotateX(90deg); opacity: 0.2; }",CUSTOM_IN:H,CUSTOM_OUT:H+B},"pgs-flow-rotate-right":{IN:"0% { } 40% { transform: rotateY(15deg); opacity: .8; animation-timing-function: ease-out; } 100% "+u,OUT:e,CUSTOM_IN:G,CUSTOM_OUT:R+k},"pgs-flow-rotate-left":{IN:"0% { } 40% { transform: rotateY(-15deg); opacity: .8; animation-timing-function: ease-out; } 100% "+u,OUT:t,CUSTOM_IN:Q,CUSTOM_OUT:R+k},"pgs-flow-rotate-top":{IN:"0% { } 40% { transform: rotateX(15deg); opacity: .8; animation-timing-function: ease-out; } 100% "+u,OUT:r,CUSTOM_IN:Y,CUSTOM_OUT:R+k},"pgs-flow-rotate-bottom":{IN:"0% { } 40% { transform: rotateX(-15deg); opacity: .8; animation-timing-function: ease-out; } 100% "+u,OUT:n,CUSTOM_IN:W,CUSTOM_OUT:R+k},"pgs-flow-rotate-fall":{IN:"0% { transform: rotateZ(0deg); } 20% { transform: rotateZ(10deg); animation-timing-function: ease-out; } 40% { transform: rotateZ(17deg); } 60% { transform: rotateZ(16deg); } 100% { transform: translateY(100%) rotateZ(17deg); }",OUT:O,CUSTOM_IN:R+z},"pgs-flow-rotate-newspaper":{IN:"from { } to { rotateZ(360deg); transform: translateZ(-3000px) rotateZ(360deg); opacity: 0; }",OUT:"from { transform: translateZ(-3000px) rotateZ(-360deg); opacity: 0; }",CUSTOM_IN:H,CUSTOM_OUT:H+B},"pgs-flow-room-left":{IN:"from { } to { opacity: 0; transform: translateX(-100%) rotateY(90deg); }",OUT:"from { opacity: 0; transform: translateX(100%) rotateY(-90deg); }",CUSTOM_IN:Q+R,CUSTOM_OUT:G},"pgs-flow-room-right":{IN:"from { } to { opacity: 0; transform: translateX(100%) rotateY(-90deg); }",OUT:"from { opacity: 0; transform: translateX(-100%) rotateY(90deg); }",CUSTOM_IN:G+R,CUSTOM_OUT:G},"pgs-flow-room-top":{IN:"from { } to { opacity: 0; transform: translateY(-100%) rotateX(-90deg); }",OUT:"from { opacity: 0; transform: translateY(100%) rotateX(90deg); }",CUSTOM_IN:Y+R,CUSTOM_OUT:W},"pgs-flow-room-bottom":{IN:"from { } to { opacity: 0; transform: translateY(100%) rotateX(90deg); }",OUT:"from { opacity: 0; transform: translateY(-100%) rotateX(-90deg); }",CUSTOM_IN:W+R,CUSTOM_OUT:Q},"pgs-flow-cube-left":{IN:"0% { } 50% "+p+" 100% "+l,OUT:"0% "+c+"  50% "+h,CUSTOM_IN:Q+R,CUSTOM_OUT:G},"pgs-flow-cube-right":{IN:"0% { } 50% "+h+" 100% "+c,OUT:"0% "+l+" 50% "+p,CUSTOM_IN:G+R,CUSTOM_OUT:Q},"pgs-flow-cube-top":{IN:"0% {} 50% "+g+" 100% "+d,OUT:"0% "+f+"  50% "+m,CUSTOM_IN:Y+R,CUSTOM_OUT:W},"pgs-flow-cube-bottom":{IN:"0% { } 50% "+m+" 100% "+f,OUT:"0% "+d+" 50% "+g,CUSTOM_IN:W+R,CUSTOM_OUT:Y},"pgs-flow-carousel-left":{IN:"from { } to { opacity: 0; transform: translateX(-150%) scale(.4) rotateY(-65deg); }",OUT:"from { opacity: 0; transform: translateX(200%) scale(.4) rotateY(65deg); }",CUSTOM_IN:Q+R,CUSTOM_OUT:G},"pgs-flow-carousel-right":{IN:"from { } to { opacity: 0; transform: translateX(200%) scale(.4) rotateY(65deg); }",OUT:"from { opacity: 0; transform: translateX(-200%) scale(.4) rotateY(-65deg); }",CUSTOM_IN:G+R,CUSTOM_OUT:Q},"pgs-flow-carousel-top":{IN:"from { } to { opacity: 0; transform: translateY(-200%) scale(.4) rotateX(65deg); }",OUT:"from { opacity: 0; transform: translateY(200%) scale(.4) rotateX(-65deg); }",CUSTOM_IN:Y+R,CUSTOM_OUT:W},"pgs-flow-carousel-bottom":{IN:"from { } to { opacity: 0; }",OUT:"from { opacity: 0; transform: translateY(-200%) scale(.4) rotateX(65deg); }",CUSTOM_IN:W+R,CUSTOM_OUT:Y},"pgs-flow-slide-rotate":{IN:"from { } to { opacity: 0; transform: translateZ(-500px) rotateY(90deg); }",OUT:"from { opacity: 0; transform: translateZ(-500px) rotateY(-90deg); }",CUSTOM_OUT:"animation-delay: .2s;"},"pgs-flow-slide-in":{IN:"0% { } 25% { opacity: .5; transform: translateZ(-500px); } 75% { opacity: .5; transform: translateZ(-500px) translateX(-200%); } 100% { opacity: .5; transform: translateZ(-500px) translateX(-200%); }",OUT:"0%,    25% { opacity: .5; transform: translateZ(-500px) translateX(200%); } 75% { opacity: .5; transform: translateZ(-500px); } 100% { opacity: 1; transform: translateZ(0) translateX(0); }"}};
return J})},"engine/components/action":function(){define(["engine/kernel","engine/components/view","engine/components/action/action-impl","engine/components/view/view-render"],function(e,t,n,r){return e.declare("engine.components.action",t,n,r)})},"engine/components/action/action-impl":function(){define(["mojo/_base/array","mojo/_base/lang"],function(){return{EVENT:null,constructor:function(e,t,n){if(this.inherited(arguments),this.EVENT={},n.events&&n.events.client)for(var r in n.events.client)this.EVENT["EV_"+r.toUpperCase()]=r},_build:function(){},_dynamicCreation:function(){},_getParent:function(){var e=this._parent;return e&&e._isFlow?e:null}}})},"engine/components/validator/validator-impl":function(){define(["mojo/_base/declare","mojo/_base/lang","mojo/query","engine/context/Logger","engine/data/types","engine/model/properties-handler","engine/context/BKSPresentationContext"],function(e,t,n,r,i,a,o){var s="id",u={_summaryErrorMsg:{type:i._string,defaultValue:null},_detailErrorMsg:{type:i._string,defaultValue:null}};return e(null,{_structure:null,_data:null,_parent:null,constructor:function(e,r,i){if(null===e||"undefined"==typeof e)throw new Error("No se puede crear un validador sin un id");if(null===r||"undefined"==typeof r)throw new Error("No se puede crear un validador sin un componente padre");if(null===i||"undefined"==typeof i)throw new Error("No se puede crear un validador sin estructura");this._data=new n.NodeList,this._setId(e,!0),this._initCtx(),this._structure=t.mixin(this._structure||{},i||{}),this._buildCtx(),r&&(this._parent=r,this._parent._validators=this._parent._validators||[],this._parent._validators.push(this))},"-chains-":{_initCtx:"after"},_getDeclarationView:function(){return this._parent._getDeclarationView()},_initCtx:function(){this._CTX=t.mixin(this._CTX||{},u)},_buildCtx:function(){r._trace(this,"buildCtx");for(var e in this._structure.attributes)this._CTX["_"+e]?this._set(e,this._structure.attributes[e],!0):r.error('Error building validator with ID "'+this.getId()+'". Attribute ['+e+"] is not defined!")},getId:function(){return this._get(s)},getClientId:function(){var e=this._getParent();return(e?e.getClientId()+engine.SEPARATOR:"")+this.getId()},_setId:function(e,t){if(!/^[a-z_][a-z0-9_]*$/i.test(e))throw'Formato de ID incorrecto: "'+e+'" Solo se admiten letras, numeros, y "_", y debe empezar por letra';this._set(s,e,t)},_getParent:function(){return this._parent?this._parent:null},_set:function(e,t,n){if(e===s)return void(this._data[e]=t);if(null===t||"undefined"==typeof t)return void delete this._data[e];var o=i.getAttSchema(this,e);if(!i.isValid(o,t))try{t=i.applyConversion(o,t)}catch(u){return void r.error("Se está haciendo un setter de un atibuto con un tipo distinto alque acepta y no se ha podido convertir automaticamente")}return!n&&i.isString(o)&&a.isLiteralValue(t)&&!a.getLiteral(this,t)?void r.error("El literal ["+t+"] no existe en la vista del componente "+this._getParent().getId()):i.accepts(o,t)?void(this._data[e]=t):void r.error("Intentando setear un valor no aceptado en la propiedad "+e+" del validador "+this.declaredClass+": "+t)},_get:function(e){if(e===s)return this._data[e];var t=i.getAttSchema(this,e);if(!t)throw new Error("[ERROR] Solicitando atributo "+e+" para validador "+this.declaredClass);this._isSet(e)||this._set(e,i.getDefaultValue(t),!0);var n=this._data[e];return i.isString(t)&&a.isLiteralValue(n)&&(n=a.getLiteral(this,n)),n},_isSet:function(e){return"undefined"!=typeof this._data[e]},_addErrorMessage:function(e,t){var n=this.getSummaryErrorMsg(),r=this.getDetailErrorMsg();o.addErrorMessage(this._getParent(),n||""===n?n:e,r||""===r?r:t,!0)},getSummaryErrorMsg:function(){return this._get("summaryErrorMsg")},getDetailErrorMsg:function(){return this._get("detailErrorMsg")},setSummaryErrorMsg:function(e){this._set("summaryErrorMsg",e)},setDetailErrorMsg:function(e){this._set("detailErrorMsg",e)}})})},"engine/components/component/componentContainer":function(){define(["mojo/_base/declare","./graphical-component"],function(e,t){return e(t,{constructor:function(){},getChild:function(e){return this._getDeclarationView().find(e)},getChildren:function(){return this._children}})})},"engine/components/component/graphical-component":function(){define(["mojo/_base/declare","mojo/_base/array","mojo/query","engine/kernel","engine/context/Logger","engine/components/component/component-with-data"],function(e,t,n,r,i,a){var o="aria-";return e([a],{addStyleClass:function(e){var n=this._get("styleClass").trim(),r=n?n.split(" "):[],i=t.indexOf(r,e);-1===i&&(r.push(e),this.setStyleClass(r.join(" ")))},removeStyleClass:function(e){var n=this._get("styleClass").trim();if(n){var r=n.split(" "),i=t.indexOf(r,e);-1!==i&&(r.splice(i,1),this.setStyleClass(r.join(" ")))}},toggleStyleClass:function(e){var n=this._get("styleClass"),r=n?n.split(" "):[],i=t.indexOf(r,e);-1!==i?this.removeStyleClass(e):this.addStyleClass(e)},getAriaAttribute:function(e){return this._getPassThrough(o+e)},addAriaAttribute:function(e,t){return this._setPassThrough(o+e,t)},removeAriaAttribute:function(e){return this._removePassThrough(o+e)},_eachAria:function(e){for(var t in this._data){var n=t;if(0===t.indexOf("aria-")){"aria-role"===t&&(n="role");var r=this._data[t];"undefined"!=typeof r&&e(n,r)}}}})})},"engine/components/component/componentInput":function(){define(["mojo/_base/declare","mojo/_base/array","mojo/_base/lang","./graphical-component","engine/context/BKSPresentationContext"],function(e,t,n,r,i){var a=null,o=function(){a=require("engine/components/component/componentInput")},s=function(e,t){if(a||o(),!(e&&e.isInstanceOf&&e.isInstanceOf(a)&&e.getValue))return!0;var n=0,r=!0,s=e.getValue();for(t||i._validationStarts(e);n<e._validators.length;n++)r&=e._validators[n].validate(s);return t||i._validationEnds(e),!!r},u=function(e){e&&e._structure&&e._structure.validators&&e._structure.validators.length&&(e._validators.length||(e._validators=e._validators||[],t.forEach(e._structure.validators,n.hitch(e,function(t){var n=t.creator;new n(t.id,e,t)}))))};return e(r,{_validators:null,constructor:function(){this._validators=[],u(this)},validate:function(){return s(this)},isValid:function(){return s(this,!0)}})})},"mojo/selector/acme":function(){define(["../dom","../sniff","../_base/array","../_base/lang","../_base/window"],function(e,t,n,r,i){var a=r.trim,o=n.forEach,s=function(){return i.doc},u="BackCompat"==s().compatMode,c=">~+",l=!1,d=function(){return!0},f=function(e){e+=c.indexOf(e.slice(-1))>=0?" * ":" ";for(var t,n,r=function(t,n){return a(e.slice(t,n))},i=[],o=-1,s=-1,u=-1,d=-1,f=-1,h=-1,p=-1,g="",m="",v=0,_=e.length,b=null,y=null,C=function(){if(p>=0){var e=p==v?null:r(p,v);b[c.indexOf(e)<0?"tag":"oper"]=e,p=-1}},E=function(){h>=0&&(b.id=r(h,v).replace(/\\/g,""),h=-1)},w=function(){f>=0&&(b.classes.push(r(f+1,v).replace(/\\/g,"")),f=-1)},T=function(){E(),C(),w()},x=function(){T(),d>=0&&b.pseudos.push({name:r(d+1,v)}),b.loops=b.pseudos.length||b.attrs.length||b.classes.length,b.oquery=b.query=r(n,v),b.otag=b.tag=b.oper?null:b.tag||"*",b.tag&&(b.tag=b.tag.toUpperCase()),i.length&&i[i.length-1].oper&&(b.infixOper=i.pop(),b.query=b.infixOper.query+" "+b.query),i.push(b),b=null};g=m,m=e.charAt(v),_>v;v++)if("\\"!=g)if(b||(n=v,b={query:null,pseudos:[],attrs:[],classes:[],tag:null,oper:null,id:null,getTag:function(){return l?this.otag:this.tag}},p=v),t)m==t&&(t=null);else if("'"!=m&&'"'!=m)if(o>=0){if("]"==m){y.attr?y.matchFor=r(u||o+1,v):y.attr=r(o+1,v);var I=y.matchFor;I&&('"'==I.charAt(0)||"'"==I.charAt(0))&&(y.matchFor=I.slice(1,-1)),y.matchFor&&(y.matchFor=y.matchFor.replace(/\\/g,"")),b.attrs.push(y),y=null,o=u=-1}else if("="==m){var S="|~^$*".indexOf(g)>=0?g:"";y.type=S+m,y.attr=r(o+1,v-S.length),u=v+1}}else s>=0?")"==m&&(d>=0&&(y.value=r(s+1,v)),d=s=-1):"#"==m?(T(),h=v+1):"."==m?(T(),f=v):":"==m?(T(),d=v):"["==m?(T(),o=v,y={}):"("==m?(d>=0&&(y={name:r(d+1,v),value:null},b.pseudos.push(y)),s=v):" "==m&&g!=m&&x();else t=m;return i},h=function(e,t){return e?t?function(){return e.apply(window,arguments)&&t.apply(window,arguments)}:e:t},p=function(e,t){var n=t||[];return e&&n.push(e),n},g=function(e){return 1==e.nodeType},m="",v=function(e,t){return e?"class"==t?e.className||m:"for"==t?e.htmlFor||m:"style"==t?e.style.cssText||m:(l?e.getAttribute(t):e.getAttribute(t,2))||m:m},_={"*=":function(e,t){return function(n){return v(n,e).indexOf(t)>=0}},"^=":function(e,t){return function(n){return 0==v(n,e).indexOf(t)}},"$=":function(e,t){return function(n){var r=" "+v(n,e),i=r.lastIndexOf(t);return i>-1&&i==r.length-t.length}},"~=":function(e,t){var n=" "+t+" ";return function(t){var r=" "+v(t,e)+" ";return r.indexOf(n)>=0}},"|=":function(e,t){var n=t+"-";return function(r){var i=v(r,e);return i==t||0==i.indexOf(n)}},"=":function(e,t){return function(n){return v(n,e)==t}}},b="undefined"==typeof s().firstChild.nextElementSibling,y=b?"nextSibling":"nextElementSibling",C=b?"previousSibling":"previousElementSibling",E=b?g:d,w=function(e){for(;e=e[C];)if(E(e))return!1;return!0},T=function(e){for(;e=e[y];)if(E(e))return!1;return!0},x=function(e){var n=e.parentNode;n=7!=n.nodeType?n:n.nextSibling;var r=0,i=n.children||n.childNodes,a=e._i||e.getAttribute("_i")||-1,o=n._l||("undefined"!=typeof n.getAttribute?n.getAttribute("_l"):-1);if(!i)return-1;var s=i.length;if(o==s&&a>=0&&o>=0)return a;t("ie")&&"undefined"!=typeof n.setAttribute?n.setAttribute("_l",s):n._l=s,a=-1;for(var u=n.firstElementChild||n.firstChild;u;u=u[y])E(u)&&(t("ie")?u.setAttribute("_i",++r):u._i=++r,e===u&&(a=r));return a},I=function(e){return!(x(e)%2)},S=function(e){return x(e)%2},O={checked:function(){return function(e){return!!("checked"in e?e.checked:e.selected)}},disabled:function(){return function(e){return e.disabled}},enabled:function(){return function(e){return!e.disabled}},"first-child":function(){return w},"last-child":function(){return T},"only-child":function(){return function(e){return w(e)&&T(e)}},empty:function(){return function(e){for(var t=e.childNodes,n=e.childNodes.length,r=n-1;r>=0;r--){var i=t[r].nodeType;if(1===i||3==i)return!1}return!0}},contains:function(e,t){var n=t.charAt(0);return('"'==n||"'"==n)&&(t=t.slice(1,-1)),function(e){return e.innerHTML.indexOf(t)>=0}},not:function(e,t){var n=f(t)[0],r={el:1};"*"!=n.tag&&(r.tag=1),n.classes.length||(r.classes=1);var i=j(n,r);return function(e){return!i(e)}},"nth-child":function(e,t){var n=parseInt;if("odd"==t)return S;if("even"==t)return I;if(-1!=t.indexOf("n")){var r=t.split("n",2),i=r[0]?"-"==r[0]?-1:n(r[0]):1,a=r[1]?n(r[1]):0,o=0,s=-1;if(i>0?0>a?a=a%i&&i+a%i:a>0&&(a>=i&&(o=a-a%i),a%=i):0>i&&(i*=-1,a>0&&(s=a,a%=i)),i>0)return function(e){var t=x(e);return t>=o&&(0>s||s>=t)&&t%i==a};t=a}var u=n(t);return function(e){return x(e)==u}}},N=t("ie")<9||9==t("ie")&&t("quirks")?function(e){var t=e.toLowerCase();return"class"==t&&(e="className"),function(n){return l?n.getAttribute(e):n[e]||n[t]}}:function(e){return function(t){return t&&t.getAttribute&&t.hasAttribute(e)}},j=function(e,t){if(!e)return d;t=t||{};var n=null;return"el"in t||(n=h(n,g)),"tag"in t||"*"!=e.tag&&(n=h(n,function(t){return t&&(l?t.tagName:t.tagName.toUpperCase())==e.getTag()})),"classes"in t||o(e.classes,function(e,t){var r=new RegExp("(?:^|\\s)"+e+"(?:\\s|$)");n=h(n,function(e){return r.test(e.className)}),n.count=t}),"pseudos"in t||o(e.pseudos,function(e){var t=e.name;O[t]&&(n=h(n,O[t](t,e.value)))}),"attrs"in t||o(e.attrs,function(e){var t,r=e.attr;e.type&&_[e.type]?t=_[e.type](r,e.matchFor):r.length&&(t=N(r)),t&&(n=h(n,t))}),"id"in t||e.id&&(n=h(n,function(t){return!!t&&t.id==e.id})),n||"default"in t||(n=d),n},A=function(e){return function(t,n,r){for(;t=t[y];)if(!b||g(t)){r&&!K(t,r)||!e(t)||n.push(t);break}return n}},M=function(e){return function(t,n,r){for(var i=t[y];i;){if(E(i)){if(r&&!K(i,r))break;e(i)&&n.push(i)}i=i[y]}return n}},q=function(e){return e=e||d,function(t,n,r){for(var i,a=0,o=t.children||t.childNodes;i=o[a++];)E(i)&&(!r||K(i,r))&&e(i,a)&&n.push(i);return n}},R=function(e,t){for(var n=e.parentNode;n&&n!=t;)n=n.parentNode;return!!n},P={},L=function(t){var n=P[t.query];if(n)return n;var r=t.infixOper,i=r?r.oper:"",a=j(t,{el:1}),o=t.tag,c="*"==o,l=s().getElementsByClassName;if(i){var f={el:1};c&&(f.tag=1),a=j(t,f),"+"==i?n=A(a):"~"==i?n=M(a):">"==i&&(n=q(a))}else if(t.id)a=!t.loops&&c?d:j(t,{el:1,id:1}),n=function(n,r){var i=e.byId(t.id,n.ownerDocument||n);if(i&&a(i))return 9==n.nodeType?p(i,r):R(i,n)?p(i,r):void 0};else if(l&&/\{\s*\[native code\]\s*\}/.test(String(l))&&t.classes.length&&!u){a=j(t,{el:1,classes:1,id:1});var h=t.classes.join(" ");n=function(e,t,n){for(var r,i=p(0,t),o=0,s=e.getElementsByClassName(h);r=s[o++];)a(r,e)&&K(r,n)&&i.push(r);return i}}else c||t.loops?(a=j(t,{el:1,tag:1,id:1}),n=function(e,n,r){for(var i,o=p(0,n),s=0,u=t.getTag(),c=u?e.getElementsByTagName(u):[];i=c[s++];)a(i,e)&&K(i,r)&&o.push(i);return o}):n=function(e,n,r){for(var i,a=p(0,n),o=0,s=t.getTag(),u=s?e.getElementsByTagName(s):[];i=u[o++];)K(i,r)&&a.push(i);return a};return P[t.query]=n},D=function(e,t){for(var n,r,i,a,o,s=p(e),u=t.length,c=0;u>c;c++){o=[],n=t[c],r=s.length-1,r>0&&(a={},o.nozip=!0);for(var l=L(n),d=0;i=s[d];d++)l(i,o,a);if(!o.length)break;s=o}return o},U={},k={},V=function(e){var t=f(a(e));if(1==t.length){var n=L(t[0]);return function(e){var t=n(e,[]);return t&&(t.nozip=!0),t}}return function(e){return D(e,t)}},F=t("ie")?"commentStrip":"nozip",B="querySelectorAll",X=!!s()[B],z=/\\[>~+]|n\+\d|([^ \\])?([>~+])([^ =])?/g,G=function(e,t,n,r){return n?(t?t+" ":"")+n+(r?" "+r:""):e},W=/([^[]*)([^\]]*])?/g,H=function(e,t,n){return t.replace(z,G)+(n||"")},Y=function(e,n){if(e=e.replace(W,H),X){var r=k[e];if(r&&!n)return r}var i=U[e];if(i)return i;var a=e.charAt(0),o=-1==e.indexOf(" ");e.indexOf("#")>=0&&o&&(n=!0);var s=!(!X||n||-1!=c.indexOf(a)||t("ie")&&-1!=e.indexOf(":")||u&&e.indexOf(".")>=0||-1!=e.indexOf(":contains")||-1!=e.indexOf(":checked")||-1!=e.indexOf("|="));if(s){var l=c.indexOf(e.charAt(e.length-1))>=0?e+" *":e;return k[e]=function(t){try{if(9!=t.nodeType&&!o)throw"";var n=t[B](l);return n[F]=!0,n}catch(r){return Y(e,!0)(t)}}}var d=e.match(/([^\s,](?:"(?:\\.|[^"])+"|'(?:\\.|[^'])+'|[^,])*)/g);return U[e]=d.length<2?V(e):function(e){for(var t,n=0,r=[];t=d[n++];)r=r.concat(V(t)(e));return r}},Q=0,J=t("ie")?function(e){return l?e.getAttribute("_uid")||e.setAttribute("_uid",++Q)||Q:e.uniqueID}:function(e){return e._uid||(e._uid=++Q)},K=function(e,t){if(!t)return 1;var n=J(e);return t[n]?0:t[n]=1},Z="_zipIdx",$=function(e){if(e&&e.nozip)return e;if(!e||!e.length)return[];if(e.length<2)return[e[0]];var n=[];Q++;var r,i;if(t("ie")&&l){var a=Q+"";for(r=0;r<e.length;r++)(i=e[r])&&i.getAttribute(Z)!=a&&(n.push(i),i.setAttribute(Z,a))}else if(t("ie")&&e.commentStrip)try{for(r=0;r<e.length;r++)(i=e[r])&&g(i)&&n.push(i)}catch(o){}else for(r=0;r<e.length;r++)(i=e[r])&&i[Z]!=Q&&(n.push(i),i[Z]=Q);return n},et=function(e,t){t=t||s();var n=t.ownerDocument||t;l="div"===n.createElement("div").tagName;var r=Y(e)(t);return r&&r.nozip?r:$(r)};return et.filter=function(t,r,i){for(var a,o=[],s=f(r),u=1!=s.length||/[^\w#\.]/.test(r)?function(t){return-1!=n.indexOf(et(r,e.byId(i)),t)}:j(s[0]),c=0;a=t[c];c++)u(a)&&o.push(a);return o},et})},"mojo/i18n":function(){define(["./_base/kernel","require","./has","./_base/array","./_base/config","./_base/lang","./_base/xhr","./json","module"],function(e,t,n,r,i,a,o,s,u){n.add("mojo-preload-i18n-Api",1);var c=e.i18n={},l=/(^.*(^|\/)nls)(\/|$)([^\/]*)\/?([^\/]*)/,d=function(e,t,n,r){for(var i=[n+r],a=t.split("-"),o="",s=0;s<a.length;s++)o+=(o?"-":"")+a[s],(!e||e[o])&&(i.push(n+o+"/"+r),i.specificity=o);return i},f={},h=function(t,n,r){return r=r?r.toLowerCase():e.locale,t=t.replace(/\./g,"/"),n=n.replace(/\./g,"/"),/root/i.test(r)?t+"/nls/"+n:t+"/nls/"+r+"/"+n},p=e.getL10nName=function(e,t,n){return e=u.id+"!"+h(e,t,n)},g=function(e,t,n,r,i,o){e([t],function(s){var u=a.clone(s.root||s.ROOT),c=d(!s._v1x&&s,i,n,r);e(c,function(){for(var e=1;e<c.length;e++)u=a.mixin(a.clone(u),arguments[e]);var n=t+"/"+i;f[n]=u,u.$locale=c.specificity,o()})})},m=function(e,t){return/^\./.test(e)?t(e):e},v=function(e){var t=i.extraLocale||[];return t=a.isArray(t)?t:[t],t.push(e),t},_=function(t,i,o){if(n("mojo-preload-i18n-Api")){var u=t.split("*"),c="preload"==u[1];if(c&&(f[t]||(f[t]=1,T(u[2],s.parse(u[3]),1,i)),o(1)),c||x(t,i,o))return}var d=l.exec(t),h=d[1]+"/",p=d[5]||d[4],m=h+p,_=d[5]&&d[4],b=_||e.locale||"",y=m+"/"+b,C=_?[b]:v(b),E=C.length,w=function(){--E||o(a.delegate(f[y]))};r.forEach(C,function(e){var t=m+"/"+e;n("mojo-preload-i18n-Api")&&I(t),f[t]?w():g(i,m,h,p,e,w)})};if(n("mojo-unit-tests"))var b=c.unitTests=[];var y=c.normalizeLocale=function(t){var n=t?t.toLowerCase():e.locale;return"root"==n?"ROOT":n},C=function(e,n){return n.isXdUrl(t.toUrl(e+".js"))},E=0,w=[],T=c._preloadLocalizations=function(n,i,o,s){function u(e,t){C(e,s)||o?s([e],t):N([e],t,s)}function c(e,t){for(var n=e.split("-");n.length;){if(t(n.join("-")))return;n.pop()}t("ROOT")}function l(){E++}function d(){for(--E;!E&&w.length;)_.apply(null,w.shift())}function h(e,t,n,r){return r.toAbsMid(e+t+"/"+n)}function p(e){e=y(e),c(e,function(o){if(r.indexOf(i,o)>=0){var p=n.replace(/\./g,"/")+"_"+o;return l(),u(p,function(n){function r(n,r,i,o){var u=[],p=[];c(e,function(e){o[e]&&(u.push(t.toAbsMid(n+e+"/"+r)),p.push(h(n,r,e,t)))}),u.length?(l(),s(u,function(){for(var o=0;o<u.length;o++)i=a.mixin(a.clone(i),arguments[o]),f[p[o]]=i;f[h(n,r,e,t)]=a.clone(i),d()})):f[h(n,r,e,t)]=i}for(var i in n){var u,p,g=n[i],m=i.match(/(.+)\/([^\/]+)$/);if(m){u=m[2],p=m[1]+"/",g._localized=g._localized||{};var v;if("ROOT"===o){var _=v=g._localized;delete g._localized,_.root=g,f[t.toAbsMid(i)]=_}else v=g._localized,f[h(p,u,o,t)]=g;o!==e&&r(p,u,g,v)}}d()}),!0}return!1})}s=s||t,p(),r.forEach(e.config.extraLocale,p)},x=function(e,t,n){return E&&w.push([e,t,n]),E},I=function(){},S={},O=new Function("__bundle","__checkForLegacyModules","__mid","__amdValue","var define = function(mid, factory){define.called = 1; __amdValue.result = factory || mid;},	   require = function(){define.called = 1;};try{define.called = 0;eval(__bundle);if(define.called==1)return __amdValue;if((__checkForLegacyModules = __checkForLegacyModules(__mid)))return __checkForLegacyModules;}catch(e){}try{return eval('('+__bundle+')');}catch(e){return e;}"),N=function(e,t,n){var i=[];r.forEach(e,function(e){function t(t){var n=O(t,I,e,S);n===S?i.push(f[r]=S.result):(n instanceof Error&&(console.error("failed to evaluate i18n bundle; url="+r,n),n={}),i.push(f[r]=/nls\/[^\/]+\/[^\/]+$/.test(r)?n:{root:n,_v1x:1}))}var r=n.toUrl(e+".js");if(f[r])i.push(f[r]);else{var a=n.syncLoadNls(e);if(a)i.push(a);else if(o)o.get({url:r,sync:!0,load:t,error:function(){i.push(f[r]={})}});else try{n.getText(r,!0,t)}catch(s){i.push(f[r]={})}}}),t&&t.apply(null,i)};return I=function(t){for(var n,r=t.split("/"),i=e.global[r[0]],a=1;i&&a<r.length-1;i=i[r[a++]]);return i&&(n=i[r[a]],n||(n=i[r[a].replace(/-/g,"_")]),n&&(f[t]=n)),n},c.getLocalization=function(e,n,r){var i,a=h(e,n,r);return _(a,C(a,t)?t:function(e,n){N(e,n,t)},function(e){i=e}),i},n("mojo-unit-tests")&&b.push(function(e){e.register("tests.i18n.unit",function(e){var t;t=O("{prop:1}",I,"nonsense",S),e.is({prop:1},t),e.is(void 0,t[1]),t=O("({prop:1})",I,"nonsense",S),e.is({prop:1},t),e.is(void 0,t[1]),t=O("{'prop-x':1}",I,"nonsense",S),e.is({"prop-x":1},t),e.is(void 0,t[1]),t=O("({'prop-x':1})",I,"nonsense",S),e.is({"prop-x":1},t),e.is(void 0,t[1]),t=O("define({'prop-x':1})",I,"nonsense",S),e.is(S,t),e.is({"prop-x":1},S.result),t=O("define('some/module', {'prop-x':1})",I,"nonsense",S),e.is(S,t),e.is({"prop-x":1},S.result),t=O("this is total nonsense and should throw an error",I,"nonsense",S),e.is(t instanceof Error,!0)})}),a.mixin(c,{dynamic:!0,normalize:m,load:_,cache:f,getL10nName:p})})},"mojo/text":function(){define(["./_base/kernel","require","./has","./request"],function(e,t,n,r){var i;i=function(e,t,n){r(e,{sync:!!t,headers:{"X-Requested-With":null}}).then(n)};var a={},o=function(e){if(e){e=e.replace(/^\s*<\?xml(\s)+version=[\'\"](\d)*.(\d)*[\'\"](\s)*\?>/im,"");var t=e.match(/<body[^>]*>\s*([\s\S]+)\s*<\/body>/im);t&&(e=t[1])}else e="";return e},s={},u={};return e.cache=function(e,n,r){var s;"string"==typeof e?/\//.test(e)?(s=e,r=n):s=t.toUrl(e.replace(/\./g,"/")+(n?"/"+n:"")):(s=e+"",r=n);var u=void 0!=r&&"string"!=typeof r?r.value:r,c=r&&r.sanitize;return"string"==typeof u?(a[s]=u,c?o(u):u):null===u?(delete a[s],null):(s in a||i(s,!0,function(e){a[s]=e}),c?o(a[s]):a[s])},{dynamic:!0,normalize:function(e,t){var n=e.split("!"),r=n[0];return(/^\./.test(r)?t(r):r)+(n[1]?"!"+n[1]:"")},load:function(e,t,n){var r=e.split("!"),c=r.length>1,l=r[0],d=t.toUrl(r[0]),f="url:"+d,h=s,p=function(e){n(c?o(e):e)};if(l in a?h=a[l]:t.cache&&f in t.cache?h=t.cache[f]:d in a&&(h=a[d]),h===s)if(u[d])u[d].push(p);else{var g=u[d]=[p];i(d,!t.async,function(e){a[l]=a[d]=e;for(var t=0;t<g.length;)g[t++](e);delete u[d]})}else p(h)}}})},"mojo/request":function(){define(["./request/default!"],function(e){return e})},"mojo/request/default":function(){define(["exports","require","../has"],function(e,t,n){var r,i=n("config-requestProvider");r="./xhr",i||(i=r),e.getPlatformDefaultId=function(){return r},e.load=function(e,n,a){t(["platform"==e?r:i],function(e){a(e)})}})}}}),function(){var e=this.require;e({cache:{}}),!e.async&&e(["mojo"]),e.boot&&e.apply(null,e.boot)}();